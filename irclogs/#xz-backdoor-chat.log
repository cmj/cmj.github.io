--- Log opened Sun Mar 31 09:37:21 2024
09:37             ---|---> cmj` [slyalgo@sdf.org] has joined #xz-backdoor-chat
09:37             -!-| Irssi: #xz-backdoor-chat: Total of 120 nicks 1 ops, 0 halfops, 0 voices, 119 normal
09:37             -!-| Irssi: Channel: Join to #xz-backdoor-chat was synced in 0 secs
09:39             ---|---> acidsys [~acidsys@0002bec4.user.oftc.net] has joined #xz-backdoor-chat
10:00             ---|---> kyub [~kyub@193.32.248.178] has joined #xz-backdoor-chat
10:10             ---|---> marius_zulu7 [uid644159@id-644159.hampstead.irccloud.com] has joined #xz-backdoor-chat
10:11  grandpacanary | Did Debian shut down some infra that is breaking the stable ISO+update process... I've tried 5 different mirrors in as many countries and getting errors.  I have resorted to baking DVD images from the janky `jigdo-lite` method to get a clean 12.5
10:20  grandpacanary | ahh nvm i found what it is
10:25             ---|---> _discord_770659603452133426[m] [~discor_40@2001:470:1af1:101::1:4c90] has joined #xz-backdoor-chat
10:25  _discord_7706 | is anything known about the difference between 5.6.0 and 5.6.1?
10:25  _discord_7706 | the sock puppets were pushing very hard to get 5.6.1 in debian when the supposedly-backdoored 5.6.0 was already in there
10:25  _discord_7706 | im kinda hoping there was a bug in .0 that prevented the backdoor from working
10:25  grandpacanary | symbols were stripped and 5.6.1 he got the valgrind chatter to quiet down
10:26  _discord_7706 | so, no code difference then?
10:30  grandpacanary | writing time test guards is going to be a new fashionable thing thanks to Andres Freund.    And updating SAST tools to guess whether code is trying to attempt to swap out IFUNC resolvers.
10:31  loganaden5095 | Sast tools ?
10:31  grandpacanary | <_discord_770659603452133426[m]> "so, no code difference then?" <- if you mean sweeping functionality changes, no.
10:32  grandpacanary | SAST = static application security testing   aka code scanners
10:34  _discord_7706 | grandpacanary[m]: just seems like a risky move to update those two "test case" blobs with a vague commit message, if it was only to strip the fake symbols
10:34  _discord_7706 | if anything, fake symbols seem a lot less suspicious than no symbols at all
10:34  grandpacanary | he was good at naming the fakes
10:35  grandpacanary | https://gist.github.com/smx-smx/a6112d54777845d389bd7126d6e9f504
10:35             ---|---> _discord_519762651815870464[m] [~discor_40@2001:470:1af1:101::1:4c91] has joined #xz-backdoor-chat
10:35  _discord_5197 | https://gynvael.coldwind.pl/?id=782 reports that 5.6.1 has (what looks like) an extension or patching system that isn't present in 5.6.0. But it would be triggered by new test files in the repository, which 5.6.1 doesn't have any of, so it doesn't seem to explain why the attacker would want 5.6.1 in Debian urgently.
10:40  grandpacanary | <_discord_519762651815870464[m]> "https://gynvael.coldwind.pl/?id=..." <- he might have been working on that delivery but after he got Valgrind to go quiet he might have been excited about an existing feature he already finished and is in there.
10:41  grandpacanary | i say he for convenience... yes it probably was a team/state actor/etc.
10:42             ---|---> karpet[m] [~karpetmat@2001:470:1af1:101::1:4c8f] has joined #xz-backdoor-chat
10:43  _discord_5197 | Hmm, maybe, but if the valgrind-failing version was already in Debian, then it's past the obstacle, so there wouldn't be much reason to push hard on the clean version. Seems hard to explain if there isn't some functionality difference, or something broken in 5.6.0.
10:45             ---|---> _discord_303560384747667459[m] [~discor_40@2001:470:1af1:101::1:4c92] has joined #xz-backdoor-chat
10:45  _discord_3035 | _discord_519762651815870464[m]: Failing tests in otherwise working projects always draw attention, could've tried to prevent anyone else from taking a close look
10:46  grandpacanary | _discord_303560384747667459[m]: that't what was happening to him when he was trying to get Fedora to take his updates
10:48  _discord_7706 | as I understand the valgrind noise was fixed by adding some function attributes in the real code, so that doesnt explain why the payload blobs had to be updated
10:49     harald_[m] | wasnt 5.6.0 causing some issues that lead to sshd crashing or smth?
10:49     harald_[m] | cant really remember, but i believe i read that somewhere
10:52  _discord_7706 | (on a debian testing box with public-facing sshd on port 22 :) )
10:52  grandpacanary | I haven't seen that HARALD can you dig and find the discussion?   If there's a condition that makes it crash sshd then it would REALLY help the RE... like massively
10:52     harald_[m] | ill try to find where i picked this up
10:52  grandpacanary | because at the crash point the memdump will tell a story
10:53             ---|<<-- hiItsMe [~hiItsMe@2a0e:1c80:14:0:45:15:18:72] has quit (Quit: gone)
10:55  svenquakesson | https://github.com/se-sic/VaRA-Tool-Suite/blob/vara-dev/tests/mapping/test_author_map.py grep for our malicious actor there, what a coincidence \U0001f642
10:58  u4315u4312u43 | svenquakesson[m]: What is this software?
11:00  svenquakesson | No idea
11:00  _discord_6448 | added already 2023.06.13 - https://github.com/se-sic/VaRA-Tool-Suite/commit/919d04ec9e926fd2dc22b128c773438f14f18104
11:01  svenquakesson | But it\u2019s rather coincidence, the attackers made commits with different git configs
11:01  *   harald_[m] uploaded an image: (338KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/2a6e197aa0849a32dec616a5e7a6e5dc15f179531774497347623976960/Screenshot_2024-03-31_at_20.01.34.png >
11:02  _discord_3035 | <svenquakesson[m]> "https://github.com/se-sic/VaRA-..." <- Doesn't look nefarious, seems like they just happen to test their software using the xz-git
11:02     harald_[m] | "crashes in some configurations", but no idea what configuration is gonna make it crash
11:02  grandpacanary | harald_[m]: probably sshd.conf settings
11:02     harald_[m] | yeah
11:03      kam821[m] | <grandpacanary[m]> "he was good at naming the fakes" <- I wonder how such a development environment looks like if you have such a misleading names. Some kind of mapping file?
11:04      kam821[m] | * I wonder how such a developer environment looks like if you have such a misleading names all over the place. Some kind of mapping file?
11:04  grandpacanary | kam821[m]: off-repo macros
11:05             ---|---> monitor456 [~monitor45@4JHAAAMQN.tor-irc.dnsbl.oftc.net] has joined #xz-backdoor-chat
11:05      kam821[m] | grandpacanary[m]: Oh yes. You can do it just like OpenGL bindings, macros everywhere, I forgot.
11:07  _discord_6448 | <svenquakesson[m]> "https://github.com/se-sic/VaRA-..." <- seems some researchers working on it, here is their paper https://www.se.cs.uni-saarland.de/theses/SimonLichtneckerBA.pdf
11:08      kam821[m] | * I forgot. It still doesn't work perfectly with some IDEs, CLion, for example, didn't like this type of macros very much, VS, as far as I remember, didn't have any major problems with e.g. autocompletion.
11:17             ---|---> clinche[m] [~discor_28@2001:470:1af1:101::1:4bad] has joined #xz-backdoor-chat
11:17  grandpacanary | <kam821[m]> "* Oh yes. You can do it just..." <- you can do a simple `ln -s` and shove all the off-repo macros then just use your ide/.sh/whatever to de-hitch before `git stage .`   if my intent was to add loads of new symbols but also keep the code straight in my head that's what I would be doing.   it will always compile perfect but the sensible names will never get pushed up by accident
11:19  _discord_3035 | grandpacanary[m]: Only thing is that the actual malware came precompiled
11:21  _discord_3035 | * came precompiled hidden in some test-files
11:22  svenquakesson | https://github.com/jiat75.keys
11:22  grandpacanary | _discord_303560384747667459[m]: he still has to have a clean version of the .o baking into `liblzma.so` to check his work in `gdb`
11:22  svenquakesson | That\u2019s the public key that was used for GitHub
11:22  svenquakesson | Actually there are two keys
11:23  _discord_3035 | grandpacanary[m]: Personally I would've done that in a dedicated repo/directory to make absolutely sure nothing would ever become public
11:24  _discord_6448 | svenquakesson[m]: quite interesting that they havent yet cleaned up by unconfiguring the keys for example.
11:24  _discord_6448 | or maybe they assumed everything will be immediately analyzed and it isnt worth it
11:25  svenquakesson | Who knows, but given public ssh key somebody (tm) may want to scan the internet just to see which servers accept it \U0001f642
11:25  grandpacanary | _discord_303560384747667459[m]: no doubt he did.  he also had to push up a continuous stream of friedly commits making happy progress
11:25     harald_[m] | why would they clean things up?
11:25     harald_[m] | i mean what are we gonna do with the public keys
11:26  svenquakesson | We might check other accounts that are involved
11:26  svenquakesson | Maybe some keys are shared, dunno
11:26  grandpacanary | svenquakesson[m]: did he use that key on GitLab or Savannah?
11:27     harald_[m] | svenquakesson[m]: ok i see, yeah
11:27  svenquakesson | I have no idea, I\u2019m only aware of this GitHub trick
11:28  grandpacanary | svenquakesson (@_discord_546371889145315329:t2bot.io) willing to post an issues to GitLab itself?   We can then vote on it.   Ask them to start grepping everything.
11:30  svenquakesson | Im now on mobile, so that\u2019s a bit inconvenient for me, but feel free to do it!
11:30  grandpacanary | okidoki
11:32        tty6[m] | jiat75's GitHub shows they've been contributing to private repositories a lot. I wonder what's there
11:32             ---|---> zhli [~zhli@DN200ouvs.stanford.edu] has joined #xz-backdoor-chat
11:33  grandpacanary | what's the CVE number to this drama again, anyone remember?
11:33  herzeleid02[m | i still wonder if the backdoor was even exploited
11:33  herzeleid02[m | i mean it requires TERM to be empty i guess?
11:33     harald_[m] | CVE 2024 3094
11:33  grandpacanary | harald_[m]: ty!
11:34  svenquakesson | https://github.com/hansjans162.keys
11:35  svenquakesson | I think that\u2019s account that was used to introduce ifunc pr
11:36  loganaden5095 | At one point, we should rename this chat to hunting-backdoors
11:37  _discord_3329 | <svenquakesson[m]> "https://github.com/se-sic/VaRA-..." <- it's a big OSS project
11:38  _discord_3329 | someone using the contributor name for some sort of test for what looks like automated identity matching for contributors with multiple emails isn't weird
11:45  grandpacanary | Asking GitLab to look around if they see Jia's key.   Please upvote.   https://gitlab.com/gitlab-org/gitlab/-/issues/452603
11:45  svenquakesson | https://github.com/JiaT0218?tab=overview&from=2021-05-01&to=2021-05-31 this account was created also in 2021
11:48        tty6[m] | grandpacanary[m]: You might wanna fix the typo: GibLab
11:52  grandpacanary | ty
11:52  grandpacanary | tty6[m]: done \U0001f642
12:08      obfusk[m] | <js> "Eh, that's hardly any proof..." <- AFAICT that elif needs to run in src/liblzma, which it only can because the code gated by the debian/rpm check patches the Makefile there to extract and run the stage 2 script from the bad-3-corrupt_lzma2.xz a second time, like the code in the malicious .m4 does on the top level. I'd love to know more if you think it could run without that step.
12:19 @           js | <obfusk[m]> "AFAICT that elif needs to run in..." <- Yeah, that is what I'm also 99% sure of - but only 99%
12:22             ---|<--- dewyatt[m] [~dewyattgn@2001:470:1af1:101::1:4c65] has left #xz-backdoor-chat ()
12:23      obfusk[m] | js: fair enough. same here. don't want to rule anything out yet. thanks.
12:28             ---|<<-- monitor456 [~monitor45@4JHAAAMQN.tor-irc.dnsbl.oftc.net] has quit (Quit: monitor456)
12:30             ---|---> dewyatt2104[m] [~dewyatt21@2001:470:1af1:101::1:4c98] has joined #xz-backdoor-chat
12:40             ---|---> Smx2460[m] [~discord31@2001:470:1af1:101::1:4c9a] has joined #xz-backdoor-chat
12:40     Smx2460[m] | hi!
12:41             ---|---> Bl3nd3r [~Bl3nd3r@8VQAAGMQT.tor-irc.dnsbl.oftc.net] has joined #xz-backdoor-chat
12:41             ---|---> upb [~cmpxchg@000189d2.user.oftc.net] has joined #xz-backdoor-chat
12:41             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
12:49             ---|---> siberiss[m] [~siberissm@2001:470:1af1:101::1:4c81] has joined #xz-backdoor-chat
12:49             ---|<<-- Guest4431 [~steve@2604:3d09:a982:5d00:9b99:788:4d9d:dea5] has quit (Ping timeout: 480 seconds)
12:50             ---|---> steve [~steve@S0106b85e7158b3bb.wp.shawcable.net] has joined #xz-backdoor-chat
12:51             ---|User: *** steve is now known as Guest4509
12:57             ---|---> klotzi111[m] [~discord25@2001:470:1af1:101::1:4c9c] has joined #xz-backdoor-chat
12:59             ---|---> crawler [~crawler@109.245.201.129] has joined #xz-backdoor-chat
13:05             ---|<<-- Bl3nd3r [~Bl3nd3r@8VQAAGMQT.tor-irc.dnsbl.oftc.net] has quit (Quit: Bl3nd3r)
13:11             ---|---> monitor456 [~monitor45@5PUAAANBC.tor-irc.dnsbl.oftc.net] has joined #xz-backdoor-chat
13:33             ---|<<-- utf-4096 [~utf-4096@2a01cb008bc5b400daf8d16b70e6516b.ipv6.abo.wanadoo.fr] has quit (Quit: WeeChat 4.2.1)
13:45             ---|---> rhialto_1[m] [~discord74@2001:470:1af1:101::1:4bc1] has joined #xz-backdoor-chat
13:45   rhialto_1[m] | Also the shell script has lots of evals with "random" variable names - which so far do not seem to be set anywhere, but they could be meant for "future expansion".
13:50             ---|---> philb [~phil@grimoire.org.uk] has joined #xz-backdoor-chat
13:52             ---|---> tolto [~quassel@5402D3E4.dsl.pool.telekom.hu] has joined #xz-backdoor-chat
13:57  herzeleid02[m | <rhialto_1[m]> "Also the shell script has lots..." <- the backdoor could be very incomplete and not exploitable as is
13:58  herzeleid02[m | even thoe someone wrote a script for logging in? (might be wrong)
14:00     harald_[m] | herzeleid02[m]: who and where?
14:01     harald_[m] | afaik nobody managed to reproduce the exploitation yet
14:01  cl0pinette[m] | from what I saw, the script is only to  generate the kind of key that could match what is required
14:01  cl0pinette[m] | but it doesn't validate
14:01  cl0pinette[m] | here https://gist.github.com/keeganryan/a6c22e1045e67c17e88a606dfdf95ae4
14:03     harald_[m] | hm ok
14:05             ---|---> filipe [~ffernand@2607:fea8:a9df:af21:de10:6675:8deb:5a8b] has joined #xz-backdoor-chat
14:08             ---|---> _discord_1121266414205030480[m [~discor_41@2001:470:1af1:101::1:4ca2] has joined #xz-backdoor-chat
14:08  _discord_1121 | harald_[m]: It says you need some private key that belongs to that genius Jia Tan to get full access to sshd, and it is also used to decrypt some part that is used to attack sshd.
14:08  _discord_1121 | This can be some genius worm, for all sshd instances in the world. I mean we already have sshping, so why not this.
14:09             ---|<<-- filipe [~ffernand@0002ef60.user.oftc.net] has quit ()
14:12             ---|---> bauen1 [~bauen1|@ppp-212-114-180-66.dynamic.mnet-online.de] has joined #xz-backdoor-chat
14:15  grandpacanary | <_discord_1121266414205030480[m> "It says you need some private..." <- I felt this was more than just RCE
14:23  herzeleid02[m | <grandpacanary[m]> "I felt this was more than just..." <- still makes  me wonder if there were reported exploitations. like rogue connections or binaries running around
14:24  _discord_1121 | BTW, what is that other exploit with iserted . right after header files?
14:25  _discord_1121 | "Landlock sandbox check"
14:25  cl0pinette[m] | it disable landlock sandbox
14:25  cl0pinette[m] | <https://www.man7.org/linux/man-pages/man7/landlock.7.html>
14:28             ---|---> Foobar9222[m] [~discor_41@2001:470:1af1:101::1:4ca3] has joined #xz-backdoor-chat
14:28  _discord_1121 | CMake quirk, I see
14:28  Foobar9222[m] | <grandpacanary[m]> "I felt this was more than just..." <- I hope not
14:29             ---|---> esclear[m] [~discord66@2001:470:1af1:101::1:4ca4] has joined #xz-backdoor-chat
14:29     esclear[m] | cl0pinette[m]: I wonder how it actually achieves that. I'm new to landlock and haven't found out yet, why that period effectively disables the sandbox.
14:29     esclear[m] | Is that a in the sandbox DSL or just some invalid syntax which prevents the sandbox from being configured correctly?
14:30  cl0pinette[m] | actually it doesn't "disable it", but the checks fails so the binary is not compiled with the landlock sandbox
14:30  _discord_1121 | esclear[m]: That period is inside .txt file for CMake, not C code
14:31  _discord_1121 | cl0pinette[m]: Now the question is why.
14:32  tyrheimdal[m] | Wild coincidence, but the thesis (https://www.se.cs.uni-saarland.de/theses/SimonFriedelBA.pdf) of the author of the commit in https://github.com/se-sic/VaRA-Tool-Suite/blame/919d04ec9e926fd2dc22b128c773438f14f18104/tests/mapping/test_author_map.py just happens to have the subject:... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/OOipXOnuREtAHJVxvXfVLcCj>)
14:35  tyrheimdal[m] | Most likely the Thesis explains why that commit includes the references to Jia.
14:35             ---|---> _wggy__77896[m] [~discor_41@2001:470:1af1:101::1:4ca5] has joined #xz-backdoor-chat
14:35  _wggy__77896[ | tyrheimdal[m]: doesn't seem like that much of a coincidence. what is the previous instance of university researchers putting backdoors in OSS?
14:40     esclear[m] | _wggy__77896[m]: https://github.com/QiushiWu/QiushiWu.github.io/blob/main/papers/OpenSourceInsecurity.pdf
14:40  grandpacanary | _wggy__77896[m]: This is the first I've heard of unis, who depend a lot on FOSS so they don't have to spend money where they don't want to, would do this kind of evil.   tyrheimdal (@_discord_173095341732659200:t2bot.io) is this a thing?
14:40     esclear[m] | * I think it was this one: https://github.com/QiushiWu/QiushiWu.github.io/blob/main/papers/OpenSourceInsecurity.pdf
14:40     esclear[m] | The authors introduced some bugs into the Linux kernel, iirc.
14:40  grandpacanary | nevermind the fact that unis have been (since day 1 at Columbia Uni) the largest institutions fostering FOSS
14:40  Foobar9222[m] | <_discord_1121266414205030480[m> "Now the question is why." <- The landlock is in xz not liblzma correct?
14:40  _discord_1121 | Foobar9222[m]: Yeah
14:40     esclear[m] | tyrheimdal[m]: Huh, let's see.
14:40  Foobar9222[m] | Id assume so its easier to gain meaningfull access via an XZ rce
14:40  tyrheimdal[m] | Yeah there's been Unis banned from contributing in the last, like University of Minnesota.
14:40     esclear[m] | <tyrheimdal[m]> "Wild coincidence, but the thesis..." <- Oh, I think I have had contact with that commit's author (vulder) before.
14:40  grandpacanary | tyrheimdal[m]: damn.
14:40  tyrheimdal[m] | grandpacanary[m]: https://github.com/QiushiWu/QiushiWu.github.io/blob/main/papers/OpenSourceInsecurity.pdf this is what lead to it (which is kinda funny in relation to this backdoor attempt)
14:41  * _discord_112 uploaded an image: (80KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/2b0fee0e71e45e19e0bb8b4a13d1dd497edc6c921774552717872594944/Screenshot_20240401_004137_Revolution_IRC.png >
14:42  _wggy__77896[ | esclear[m]: oh yeah, I remember this one. i would be very surprised if the current situation was such an example though, given how malicious it is.
14:42  _discord_1121 | Did you already try writing to him?
14:43  tyrheimdal[m] | Oh missed esclear (@_discord_664265473604714507:t2bot.io) already posting it above.
14:45     esclear[m] | <tyrheimdal[m]> "Wild coincidence, but the thesis..." <- The thesis seems to mostly care about identifying (core) contributors to OSS.
14:45     esclear[m] | Page 11 has a list of the 12 projects they analyzed (primarily compression libraries, also libssh, libpng and three unix utils).
14:45             ---|---> gamray[m]1 [~discor_41@2001:470:1af1:101::1:4ca6] has joined #xz-backdoor-chat
14:45     gamray[m]1 | <grandpacanary[m]> "I felt this was more than just..." <- I don't understand how this potentially being 'simply' a RCE over a auth bypass, mitigate anything, a RCE is by definition an auth bypass no ? sshd runs as root anyway
14:45  Foobar9222[m] | It seems unlikely this is a uni thesis / project, unless someone is a complete idiot and willing to risk jail for their uni
14:46  tyrheimdal[m] | esclear[m]: Yup, might be somehow useful nonetheless. \U0001f642
14:47     gamray[m]1 | s/a/an/, s/,//
14:47  tyrheimdal[m] | Foobar9222[m]: Agreed, this reeks of a long-term strategy to get around people moving to short-term signed ssh certificates and `ed25519-sk` keys that are harder to steal and utilize for intrusion.
14:48  Foobar9222[m] | Then again, thinking about all the effort put in to <just> backdoor sshd?
14:49  grandpacanary | gamray[m]1: let's imagine Jia is not a state actor.  Jia wants to make lots of money from the 2.5 years he spent on this backdoor.   Think of some of the ways he might do that.     One way that comes to mind real quick is to set up decrypt for weak keys.   Jia can gatekeep how that's done, maybe even fingerprint the host so that only certain ranges work, then open up a shop on I
14:49             ---|---> an_freund_89627[m] [~discor_41@2001:470:1af1:101::1:4ca7] has joined #xz-backdoor-chat
14:49  grandpacanary | s/I/I2P and start selling keys to any host, anywhere/
14:51             ---|---> tamiko_ [~matthias@tenjin.43-1.org] has joined #xz-backdoor-chat
14:51     gamray[m]1 | yeah that's a bad scenario too i agree, I don't understand people that minimized this saying it's only a RCE not an auth bypass
14:51  grandpacanary | he makes a bundle, and everyone's faith in the whole OpenSSL project is completely undermined, even though they had nothing to do with this
14:53  grandpacanary | gamray[m]1: Jia hijacked IFUNC resolving so it doesn't matter what category of vuln this is... he has access to everything, can do everything.
14:53     gamray[m]1 | yeah I completly agree
14:53     gamray[m]1 | so we are on the same page lol
14:53  grandpacanary | yep
14:53     gamray[m]1 | I just kept seeing this on twitter all day
14:54  tyrheimdal[m] | Do we know if it is even logged as a login attempt when payload is sent?
14:54  grandpacanary | i deleted twitter \U0001f642  but it's all over matrix and mastodon too :dofW:
14:59  * _discord_112 uploaded an image: (589KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/2e0257502b178090670ad482d18afe21f24786071774557231006613504/Screenshot_20240401_005916_Revolution_IRC.jpg >
15:01  Foobar9222[m] | esclear (@_discord_664265473604714507:t2bot.io) gonna move the response to her as to not spam the reversing channel
15:03             ---|---> _discord_503014684119662592[m] [~discord50@2001:470:1af1:101::1:4ca8] has joined #xz-backdoor-chat
15:03  _wggy__77896[ | so, USA, China, North Korea, Israel, Iran, or "some dude"?
15:05  Foobar9222[m] | I mean whilst yes it smells of organized nation state level attacks, lets be real its not outside the realm of possibility for a single person to dream this up over years hoping to profit (incredibly) by selling backdoors to pretty much any server
15:05     esclear[m] | Foobar9222[m]: It takes some TempleOS-level of dedication, but that's not unheard of.
15:06  _wggy__77896[ | Foobar9222[m]: individual profit motive seems pretty unlikely imo... selling access surely blows the lid fairly quickly
15:06         wb9688 | I wonder if we will hear anything in the coming few days
15:06     esclear[m] | * It would take some TempleOS-level of dedication, but that's not unheard of.
15:06  Foobar9222[m] | Im wondering what the people with more access than us are up to, on github they have a bunch of commits to private repos
15:07  Foobar9222[m] | and access to all the gmail accounts
15:07     esclear[m] | Foobar9222[m]: Wait, what?
15:08  Foobar9222[m] | esclear[m]: Well surely some 3 letter agency called up google and told them to fork over all the logs of the 3-5? i forget gmail accounts used in commits
15:08  _wggy__77896[ | if the 3 letter agency created the gmail account, they wouldn't need to ask for it
15:08  _wggy__77896[ | https://tenor.com/view/wink-eye-wink-gif-12352742718877841322
15:09  Foobar9222[m] | Of course \U0001f61b
15:09  Foobar9222[m] | If its the usa than oh well
15:09     esclear[m] | Foobar9222[m]: I find it hard to believe that a member of the agency would cite from (?) the emails or boast about their having access to them.
15:10     esclear[m] | Oooh, I misunderstood your message then. I thought there were people discussing the contents of private repos or the gmail mailbox on GitHub.
15:11     esclear[m] | That would be terrible opsec.
15:11             ---|---> arraybolt3 [~arraybolt@2607:fb91:11d0:cf53:64c5:5006:5f95:41bd] has joined #xz-backdoor-chat
15:18             ---|---> _discord_518944568302108712[m] [~discord51@2001:470:1af1:101::1:4cab] has joined #xz-backdoor-chat
15:18  _discord_5189 | Hellooooo everybody
15:21 @           js | <Foobar9222[m]> "I mean whilst yes it smells of..." <- You clearly haven't looked at the .o file yet
15:21 @           js | This is waaaaaay to sophisticated for a single bored dude
15:22  svenquakesson | And selling an access to any servers would rather bring attention too quickly \U0001f642
15:23  u4315u4312u43 | js: Well, why not?
15:23  u4315u4312u43 | All could have been done by maybe not one, but 2-3 bored dudes
15:23  Foobar9222[m] | Well, at the same time ive seen single bored dudes make some incredibly sophisticated shit over a few years; not saying its the most likely scenario just doesn't seem completely out of scope;
15:23  Foobar9222[m] | svenquakesson[m]: Thats a fair point
15:23     esclear[m] | Foobar9222[m]: I mentioned it before, but allow me to mention it again: https://en.wikipedia.org/wiki/TempleOS
15:23             ---|---> _discord_659897428417445909[m] [~discord65@2001:470:1af1:101::1:4cad] has joined #xz-backdoor-chat
15:23  _discord_6598 | hi! i haven't seen much discussion of the patchset posted to LKML and how it might relate. has anyone posted analysis of it yet? https://lore.kernel.org/lkml/20240320183846.19475-1-lasse.collin@tukaani.org/t/
15:24          tolto | why would somebody sell access to servers when they could ransomware a high-value target and get more profit
15:24  svenquakesson | Buuut, getting access to all servers at once and escalate to ransomware scenario \U0001f914
15:25          tolto | hm
15:25  grandpacanary | esclear[m]: there's several yt vids going into debugging HolyC and I must say... several features are amazing
15:26  u4315u4312u43 | tolto: Ransomwaring high profile target increases chances of you getting to jail
15:26         beber_ | _discord_659897428417445909[m], On this thread Lasse explained his in holidays, quoting:
15:26         beber_ | Thank you. None of these patches are urgent. I'm on a holiday and only happened to look at my emails and it seems to be a major mess.
15:26         beber_ | My proper investigation efforts likely start in the first days of April. That is, I currently know only a few facts which alone are bad enough.
15:26          tolto | perhaps
15:27         beber_ | Also, Andrew Morton explained he has retired the serie from mm branch
15:27         beber_ | see: https://lore.kernel.org/lkml/20240329195602.382cb1c99bb70e3d8c6093ae@linux-foundation.org/
15:27         beber_ | and https://lore.kernel.org/lkml/20240330144848.102a1e8c@kaneli/
15:30  grandpacanary | beber_: I did not see anyone talk about this... but the maint announcement to the kernel mailing list...  Lasse send that himself?
15:30  grandpacanary | s/send/sent/
15:30  grandpacanary | We know Jia used whatever he wanted when pushing to git
15:30         beber_ | grandpacanary[m], as much email header say, it seems so yes
15:32             ---|---> _discord_896728944479461467[m] [~discor_42@2001:470:1af1:101::1:4caf] has joined #xz-backdoor-chat
15:32  _discord_8967 | Hi, question: AFAIK the tarball and the git source code differed so that only the archived version is vulnerable to the backdoor. Could going through all system dependencies in Debian and then looking for this pattern yield other potentially backdoored packages or is this a waste of time? I mean is it normal for archives to exclude some code or scripts?
15:33  _discord_1121 | _discord_896728944479461467[m]: Archives are supposed to be reproducable. That means source cose must exist.
15:33  _discord_1121 | s/cose/code/
15:33  _discord_1121 | In debian there a special reproducing system that checks that
15:34  _discord_1121 | * checks that code is always the same with same compiler. Sometimes they migrate compiler (btw, llvm was also targeted by him, hehe).
15:35  grandpacanary | _discord_896728944479461467[m]: if you build straight from git clone you're not going to have the autoconf that rewrites Makefile and unpacks the `.o`
15:37  _discord_1121 | grandpacanary[m]: Debian has its own derivative git
15:37  _discord_1121 | Where do you think "really" tag come from?
15:38  _discord_1121 | https://salsa.debian.org/debian/xz-utils/-/blob/debian/unstable/m4/build-to-host.m4?ref_type=heads#L63
15:41  _discord_1121 | And also see https://tests.reproducible-builds.org/debian/rb-pkg/unstable/amd64/xz-utils.html
15:42  _discord_8967 | Okay interesting
15:43  _discord_5189 | Has anyone mapped this activity against the mitre att&ck matrix? It'd be interesting from an attribution pov
15:43  grandpacanary | `libtar`  \U0001f440   https://tests.reproducible-builds.org/debian/rb-pkg/unstable/amd64/libtar.html
15:43  _discord_1121 | s/come/comes/
15:45     esclear[m] | grandpacanary[m]: ohno \U0001f648
15:48             ---|---> mlkj2141[m] [~discord33@2001:470:1af1:101::1:4cb1] has joined #xz-backdoor-chat
15:54     mikewii[m] | <grandpacanary[m]> "`libtar`  \U0001f440   https://tests...." <- Whats that suppose to mean?
15:57     esclear[m] | <grandpacanary[m]> "`libtar`  \U0001f440   https://tests...." <- Considering that libtar has [not been touched for ten years](https://repo.or.cz/libtar.git), I think this is likely unrelated.
16:00      Zborro[m] | Crazy idea, I'm not sure whether someone came with this earlier? iirc Jia Tan somewhere mentioned godbolt and pasted its output.
16:00      Zborro[m] | What if Godbolt logs IP addresses and other information? In theory it should be possible to backtrack specific session/IP address and then look for other snippets that were uploaded by the same account. If Jia Tan was lazy, there should be some traces left, possibly with original C code. Thoughts?
16:00  svenquakesson | Reproducible builds gives an ability to check that given binary packages were built from the sources they claim to be used
16:00  svenquakesson | Nothing more than that
16:01    mlkj2141[m] | Zborro[m]: IIRC someone went and tried to trace their Freenode connections, says they're always behind a VPN
16:02      Zborro[m] | Yeah, I know. But maybe by chance they used same VPN exit for multiple Goldbolt queries? I know how it sounds. Just an idea.
16:03      Zborro[m] | It's not about revealing identity. It's about revealing other C snippets that would give some hints.
16:05      Zborro[m] | (that would only work if Godbolt stored that information, or if they used short/full URL)
16:14  _discord_3329 | I doubt Matt would be interested in digging through logs
16:14  _discord_3329 | maybe law enforcement will make a records request but there isn't much you can get from godbolt logs
16:14  _discord_3329 | they don't store any code
16:15  grandpacanary | another cheap trick the distros could do for the autofiasco is to fs notify against every source object prior to the build that came from the upstream, then report out detections of opens for rewrites then danger-tag the build and tell the maintainer to fix it and go take a hike
16:15  aepatrakov[m] | <mlkj2141[m]> "IIRC someone went and tried to..." <- Quite expected for a Chinese
16:15  _discord_3329 | a Chinese is not really the recommended way to phrase that in English
16:15  aepatrakov[m] | I worked for a company that had an office in China, and developers always ended up installing some VPN to void the slowness of GitHub and NPM
16:16  _discord_3329 | yeah cause of the firewall right?
16:16  aepatrakov[m] | yes
16:16  aepatrakov[m] | s/void/avoid/
16:16  _discord_3329 | it was a Singapore VPN iirc, so would make some sense, but also could just be someone trying to make a story look consistent
16:17  aepatrakov[m] | A Singapore VPN makes sense if the VPN company has nothing in Taiwan or Hong Kong
16:20  _discord_3329 | that same blog post was claiming one of the commits used a name that is popular in Hong Kong, I think it's safe to say whoever was behind this was somewhere in that part of the world, or wanted people to think they are
16:20  _discord_3329 | but I don't see how we could tell which one it is
16:22      kam821[m] | I'm tired of these cryptic build scripts
16:22      kam821[m] | there is often more bullshit there than in the code itself
16:24  grandpacanary | <esclear[m]> "Considering that libtar has [not..." <- it's a gated tag (danger tag) put on because `libtar` is also hunting around to build a `SHELL` var in its ac script.   While there is justification for it I'm sure, about 52 other projects Debian has got tagged with that.  Which makes sense bc most ac script out there is just doing environment tests in order to flip directives and macros on/off
16:24             ---|---> itzswirlz0[m] [~discor_42@2001:470:1af1:101::1:4cb3] has joined #xz-backdoor-chat
16:24  itzswirlz0[m] | just want to double check, is this bridged to irc?
16:24  _discord_3329 | Matrix, maybe some IRC too
16:24             ---|---> _discord_101423443387379712[m] [~discor_42@2001:470:1af1:101::1:4cb4] has joined #xz-backdoor-chat
16:24             ---|---> _discord_872248967688224768[m] [~discord87@2001:470:1af1:101::1:4cb5] has joined #xz-backdoor-chat
16:24  itzswirlz0[m] | alr, cool, cool.
16:24  _discord_6598 | That's why using the m4 file was brilliant. That stuff is like noise when you're reviewing
16:25  grandpacanary | * macros on/off.    `liblzma` uses ac because nobody really watches it and they needed to put an initiation point somewhere, and in a C project that's a great place to put it.
16:25  itzswirlz0[m] | I got a headache throughout the day, mainly staring and trying to reverse, idk if i want to go back and do some more
16:25  _discord_6598 | The choice of target was impressive af too. How manu projects can there be with one rarely active maintainer, that are used in openssh and the kernel
16:26     esclear[m] | <_discord_332968312373903360[m]> "that same blog post was claiming..." <- Are you referring to https://boehs.org/node/everything-i-know-about-the-xz-backdoor#discoveries-in-the-git-logs ?
16:29  *    kam821[m] uploaded an image: (172KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/2190554ec0690836c4ae6adbb2fd011bd7b6a3361774579780293754880/image.png >
16:29      kam821[m] | _discord_659897428417445909[m]: e.g. previously mentioned libtar
16:29  *    kam821[m] uploaded an image: (3869KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/feca0341d90459c28f4ceeaf1f6c2f34270f95ba1774579844458217472/6I1Ijo.gif >
16:31  _discord_3329 | esclear[m]: that seems like the same url yeah
16:31  itzswirlz0[m] | kinda dumb question but has anyone thought of a name for publicity purposes
16:31  itzswirlz0[m] | if we're open to doing that
16:31     esclear[m] | _The great liblzma debacle of '24_
16:31  grandpacanary | Jiapression
16:32  _discord_3329 | xzploit
16:32  _wggy__77896[ | xzibit-24
16:32  itzswirlz0[m] | i was thinking something more like dexzypt or, if we want to continue the tradition, xzbleed
16:32  _discord_6598 | Any thoughts on this https://github.com/llvm/llvm-project/issues/63957
16:32  _wggy__77896[ | but please no
16:32  _discord_3329 | or maybe xzpl(i)ot
16:32  _discord_8722 | This thing does not need a publicity name lol
16:32  grandpacanary | systemd release 2
16:32  _discord_3329 | just call it ifunc
16:32         wb9688 | itzswirlz0[m]: I am on IRC
16:33      kam821[m] | _wggy__77896[m]: i modified and used xz to exploit your xz so you can have backdoored xz
16:33  _discord_3329 | I don't get why ifunc exists even, it seems like such a marginal improvement
16:33      kam821[m] | _discord_332968312373903360[m]: it's pretty neat feature to implement multifunctions
16:34  grandpacanary | _discord_332968312373903360[m]: it's a boost to distros because you can stack hardware optimizaton calls without making the C code too messy.   basically another reason to never use C++
16:35  _wggy__77896[ | unsubscribe
16:35  _discord_1121 | That is repeated quadrillion times
16:36      kam821[m] | that's why i wrote 'performance sensitive', noone sane would use it otherwise.
16:36  _discord_3329 | I guess unix world has a lot of dynamic linking, seems like most of the time you could get the same feature without needing linker support, just swap a pointer
16:36  itzswirlz0[m] | _discord_659897428417445909[m]: just realized, the person who disliked tstellar's reply saying they shouldnt make it rn has an interesting gh repo
16:36  itzswirlz0[m] | s/repo/popular repos/
16:37  itzswirlz0[m] | from.. beijing china?
16:37  _discord_1121 | _discord_332968312373903360[m]: So does windows. DLL is dynamic. .lib is static. Have you ever saw .lib on windows?
16:37  _discord_3329 | _discord_1121266414205030480[m: yeah a lot actually
16:37      kam821[m] | _discord_332968312373903360[m]: You can always self-modify execution path and patch the memory yourself, but that would be even more cryptic.
16:37  grandpacanary | if you're writing code where you want to write a func() tweaked for CPU Enhancement 1, another for CPU Feature 2, and offer BORING_WHY_DID_YOU_BY_THIS_CRAP_CPU generic version, you don't need to break this out into multiple dynamic libraries.    You can stick all the versions in one C file.     What other use it has idk
16:37  _discord_1121 | _discord_332968312373903360[m]: I only saw that in OneAPI stuff from Intel
16:38  _discord_3329 | other than the windows platform interface, you see a lot of static linking on windows
16:38  _discord_6598 | itzswirlz0[m]: damn, good eye! you might have just cracked the case lol
16:38  _discord_3329 | mostly just from developers assuming users are idiots and will not figure out how to install the C runtime
16:38      kam821[m] | * memory yourself like a game cheat, but
16:38  itzswirlz0[m] | _discord_659897428417445909[m]: Regardless CLONE ALL THOSE REPOS NOW.
16:38  _discord_3329 | or not trusting a future version of the runtime won't break *something*
16:39  itzswirlz0[m] | Probably irrelevant to Jia but
16:39  _discord_1121 | itzswirlz0[m]: You think he is working with the guy?
16:39  _discord_3329 | easier to just statically link it
16:39  itzswirlz0[m] | just in case
16:39  _wggy__77896[ | itzswirlz0[m]: so what? almost definitely isn't chinese anyway. pretty obvious diversion.
16:39  _discord_3329 | same with libraries, if you aren't reusing it in another program you might as well just statically link
16:39  grandpacanary | _discord_332968312373903360[m]: that changed in .NET, dynamic linking bc of reflection is all the rage over there, then came poison assembles, then signing/cert trusts
16:39  _discord_1121 | _wggy__77896[m]: Only since we know his second name now.
16:39  _wggy__77896[ | _discord_1121266414205030480[m: "know"
16:40  _discord_1121 | _wggy__77896[m]: Yeah, it is clear it is not a real chinese guy.
16:40  _discord_3329 | grandpacanary[m]: don't know the current state of the art for dotnet, but like at least back in dotnet 5.0 the easiest thing to do was to do fake static linking by having the compiler package the whole thing into a self extracting program
16:40      kam821[m] | _discord_332968312373903360[m]: I think there is more serious issue. Serious C libraries tends to like microoptimizations/ASM fuckery too much and these are just perfect target to hide some wild shit.
16:40  itzswirlz0[m] | _discord_1121266414205030480[m: Could be the same guy spreading his work across different accounts
16:40     esclear[m] | _discord_1121266414205030480[m: Could be that this is a false flag, could be that they just have a "weird" name. \U0001f937\u200d\u2642\ufe0f
16:41  _discord_1121 | So what about risc-v binaries? Did you dexrypt those?
16:41  _discord_1121 | s/dexrypt/decrypt/
16:41  _wggy__77896[ | fuck dotnet, nothing serious happens in dotnet
16:41  _discord_3329 | _discord_332968312373903360[m]: which like at that point... just add actual static linking, people clearly want it
16:42      kam821[m] | s/tends/tend/
16:43      kam821[m] | _discord_332968312373903360[m]: I don't want to know how such a security hole contained in the library would be patched if the binaries only used static linking
16:44  _discord_3329 | welcome to windows, if you use a library you update it when you need to
16:44  _discord_3329 | you as in a developer
16:44  _discord_3329 | package manager approach has it's benefits that's for sure
16:45  _wggy__77896[ | new theory: satoshi nakamoto is JiaT75
16:45             ---|---> _discord_340134014943887361[m] [~discor_42@2001:470:1af1:101::1:4cb6] has joined #xz-backdoor-chat
16:45  _discord_1121 | _discord_332968312373903360[m]: Or just statically compile it. No libm sharing anymore? Oh, who cares! 20% more memory? Oh, well
16:45  grandpacanary | kam821[m]: IFUNC resolver functions though are really simple blocks of code.   Not many branches, just evaling a bunch of cases to figure out where to jump.    indirect functions set as field properties of a struct has a lot of valid uses too
16:46  _discord_6598 | <esclear[m]> "Could be that this is a false..." <- and also has this repo https://github.com/llvm/llvm-project/issues/63957
16:46  _discord_1121 | _wggy__77896[m]: Everyone except Craig, am I right? Or are you supporting Craig?
16:46  _discord_6598 | * and also has this repo https://github.com/Low-power/HelloWorld
16:46  _discord_1121 | _discord_659897428417445909[m]: If there is a backdoor there it cannot be found, believe me. No one single person knows more than 5% of that
16:47  _discord_6598 | sorry that was a copypaste error
16:47  _discord_6598 | the helloworld repo is what i meant. some assembly codes to make system calls...
16:47  _discord_1121 | I tried to read the bugs on it, I was just horrified, all thise cpu microintructions, oogh
16:47  grandpacanary | the Go language even allows storing an untyped indirect function in their version of a struct.   it makes it easier to write code that needs to do callbacks asynchronously
16:48  _discord_1121 | s/thise/these/, s/microintructions/microinstructions/
16:48  _discord_1121 | * backdoor there in llvm it cannot
16:49  _discord_1121 | Oh, it is no longer llvm? Hm
16:49  _discord_3329 | <_discord_659897428417445909[m]> "Any thoughts on this https://..." <- lol
16:50  grandpacanary | _discord_659897428417445909[m]: I found an issue.  https://github.com/Low-power/HelloWorld/issues/1
16:50  _discord_6598 | low-power from beijing, china, posted on that llvm thread.
16:52  _discord_3329 | this isn't some 2000 IQ play
16:52          netx_ | github-actions added a label to that issue, they must be in on it as well
16:52  _wggy__77896[ | \U0001f440 num0005 (@_discord_332968312373903360:t2bot.io) is JiaT75
16:52  _discord_3329 | I think Jia would argue it is a 2000 IQ play
16:52  _discord_1121 | Well, literally my pfp.
16:52      kam821[m] | _discord_332968312373903360[m]: 10d chess
16:52  _discord_3329 | surely they are kinda fully of themselves having almost pulled this off
16:53  _discord_1121 | kam821[m]: 17d chess
16:53  _wggy__77896[ | _discord_332968312373903360[m]: or being waterboarded by their paymasters for fucking it up
16:53  _discord_6598 | already shot and dumped in a ditch
16:54  _discord_1121 | _wggy__77896[m]: I mean, maybe they did. Maybe this code plaguges llvm and others
16:54  _discord_1121 | s/plaguges/plagues/
16:54  _discord_3329 | _wggy__77896[m]: probably not tho
16:55             ---|<--- paisley[m] [~paisleytc@2001:470:1af1:101::1:4c80] has left #xz-backdoor-chat ()
16:55  _discord_3329 | that would be poor leadership
16:55  _discord_6598 | nah it's probably nothing. another legit contribution to set everything up
16:56  grandpacanary | ngl, the funniest part about this whole drama is the ONE distro that mained the lzma poison out first... was Kali Linux.   the rest pipelined it, sure... but Kali.... fkn Kali.... lmfao
16:57  itzswirlz0[m] | <grandpacanary[m]> "I found an issue.  https://..." <- lol that was def made intentionally for fun x
16:57  itzswirlz0[m] | s/x/xd/
16:57  _wggy__77896[ | grandpacanary[m]: well, it has penetration in the name
16:57  _discord_6598 | i picture the guy's boss pressuring him to show some results and that leading to the fuckup and then blaming him for everything
16:57  _discord_1121 | grandpacanary[m]: Kali linuz is based on testing and some unstable. So...
16:58  _wggy__77896[ | https://tenor.com/view/tunnel-train-gif-13951884
16:58  * _discord_112 uploaded an image: (106KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/20d01a00b4cc4b73bd90f883d2d983e04ceed69e1774587213590298624/Screenshot_20240401_025837_Revolution_IRC.png >
16:58  itzswirlz0[m] | grandpacanary[m]: oh was it LOL
16:58  _discord_1121 | Tadadadam
16:58  grandpacanary | _wggy__77896[m]: lmao
16:59  itzswirlz0[m] | _discord_1121266414205030480[m: that'd be overkill
16:59  itzswirlz0[m] | well
16:59  itzswirlz0[m] | at least delete all .xz
16:59  _discord_1121 | Fedora too
16:59  _discord_1121 | itzswirlz0[m]: And do what? zstd? Great, byw
17:00  _discord_1121 | s/byw/btw/
17:00  itzswirlz0[m] | or bzip
17:00  itzswirlz0[m] | or gzip
17:00  _wggy__77896[ | pkzip
17:00  itzswirlz0[m] | or just regular zip
17:00  itzswirlz0[m] | \u00af\_(\u30c4)_/\u00af
17:00      kam821[m] | _discord_1121266414205030480[m: I thought that builders are some kind of burner containers/vms anyway.
17:00  _discord_1121 | Those are unacceptable size \U0001f626
17:00  _wggy__77896[ | ARJ
17:01  _wggy__77896[ | windows cabinet
17:01  _discord_1121 | It is either zstd or xz
17:01  _wggy__77896[ | rot13
17:01  _discord_1121 | _wggy__77896[m]: That is not even compressed, is it?
17:01  _wggy__77896[ | _discord_1121266414205030480[m: no idea. i'm sure it sucks
17:01  _discord_1121 | kam821[m]: They are. But there is still escape from vm danger
17:02  _wggy__77896[ | dmg
17:02  _wggy__77896[ | ISO-9660
17:02  _wggy__77896[ | the options are endless
17:02  _discord_1121 | _wggy__77896[m]: iso is literally uncompressed enoigh to mount it on the fly
17:02  _discord_1121 | s/enoigh/enough/
17:02  _wggy__77896[ | _discord_1121266414205030480[m: woot
17:03  _discord_1121 | Anyway, look like super offtopic
17:03  _discord_1121 | s/look/looks/
17:03  grandpacanary | i guess wiping the build agents but.... still need the Great International Conference to Unfuck systemd to happen.    aka deal with the readout from ldd and justify all the shit that is on it.
17:03             ---|---> fdrfdr[m] [~discord26@2001:470:1af1:101::1:4cb7] has joined #xz-backdoor-chat
17:03      kam821[m] | _discord_1121266414205030480[m: it must definitely be a nice easter, nuking all infrastructure to the ground.
17:03  grandpacanary | they are going to put out lateloading but that's not enough
17:04 @           js | I'm doing my part against supply chain attacks: https://objfw.nil.im/wiki?name=News&p \U0001f642
17:05  itzswirlz0[m] | I actually need to update the Wikipedia article for XZ Utils.
17:05  grandpacanary | js: LMAOOOOOOOOOOOOMG
17:05  grandpacanary | hahhah
17:05  itzswirlz0[m] | I'm actually, despite probably going to get in trouble for it, take off the stable release infobox
17:05  _discord_1121 | kam821[m]: Happy Easter!
17:05     esclear[m] | js: good thing I have a WinRAR company license somewhere \U0001f914
17:06  *           js waits until everybody realizes today's date \U0001f642
17:06  _discord_1121 | esclear[m]: Yeah, RAR5 and 7-zip are rather good. But not quite at zstd soeed or xz conoression.
17:06  _discord_1121 | s/soeed/speed/, s/conoression/conpression/
17:06  _discord_1121 | s/soeed/speed/, s/conoression/compression/
17:06  grandpacanary | js: Deb:   "all new upsteams must include an `.nfo` and a reference from at least one other CrEW"
17:08      kam821[m] | _discord_1121266414205030480[m: Happy Easter!
17:08  * itzswirlz0[m uploaded an image: (20KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/8ad47865866eedd758cec530bffbc43027c77d9c1774589530943258624/image.png >
17:08  itzswirlz0[m] | Updated the infobox
17:08     esclear[m] | _discord_1121266414205030480[m: Depending on the timezone, you'll have to wait a few hours, I guess \U0001f609
17:08  itzswirlz0[m] | so nobody accidentally downloads 5.6.1 (thats what it said before)
17:08  itzswirlz0[m] | * so nobody accidentally downloads 5.6.1 (thats what it said before)
17:08      kam821[m] | _discord_1121266414205030480[m: all that was needed to avoid this situation was to pay for winrar.
17:08  _wggy__77896[ | it's already 1/4 everywhere that matters
17:08  _wggy__77896[ | \U0001f9cc
17:08             ---|<<-- beber_ [~beber_@2a05:d018:c28:1a00:fd:d0ae:0:5222] has quit (Ping timeout: 480 seconds)
17:08  _discord_1121 | _wggy__77896[m]: Ezcept that one time Assange gave 7-zip to the journalist and it leaked
17:09      midar3[m] | esclear[m]: UTC ftw \U0001f642
17:09             ---|---> _discord_207775211158765569[m] [~discord20@2001:470:1af1:101::1:4cb9] has joined #xz-backdoor-chat
17:09  _discord_1121 | * gave 7-zip.aes to
17:09  _wggy__77896[ | UTC is the only timezone
17:09  _discord_1121 | * Except that one time Assange gave 7-zip.aes to the journalist and it leaked
17:09  _wggy__77896[ | fuck daylight savings
17:10  _discord_1121 | _wggy__77896[m]: Fuxx DST!! AMEN
17:10             ---|---> _mkow_[m] [~discor_43@2001:470:1af1:101::1:4cbb] has joined #xz-backdoor-chat
17:11             ---|---> Mooncairn[m] [~mooncairn@2001:470:1af1:101::1:37c4] has joined #xz-backdoor-chat
17:11  itzswirlz0[m] | For the wikipedia article can someone send me the legit xz utils website
17:11  itzswirlz0[m] | Not the one Jia tried faking
17:11  _wggy__77896[ | itzswirlz0[m]: do tell?
17:11  itzswirlz0[m] | Currently the article uses an archived version of it
17:12             ---|---> beber_ [~beber_@2a05:d018:c28:1a00:fd:d0ae:0:5222] has joined #xz-backdoor-chat
17:12  _discord_1121 | itzswirlz0[m]: i mean there is not going to be one. Normally all comits are preserved, so...
17:12             ---|<--- Mooncairn[m] [~mooncairn@2001:470:1af1:101::1:37c4] has left #xz-backdoor-chat ()
17:12     esclear[m] | itzswirlz0[m]: There was https://xz.tukaani.org/ hosted on github, but under the official tukaani.org domain.
17:12  _discord_1121 | s/comits/commits/
17:13  itzswirlz0[m] | ok thats fine
17:14     esclear[m] | * was https://xz.tukaani.org/ (since Jan. 2024) hosted on
17:18     esclear[m] | I don't think this is possible for github pages.
17:18  itzswirlz0[m] | wasnt the new domain separate from gh pages or am i wrong
17:19     esclear[m] | Probably just being able to publish release information / NEWS / whatever under the official domain name, without having access to the servers running tukaani.org. At least as long as they don't use recent xz-utils versions \U0001f62c
17:20     esclear[m] | s/they/those/
17:22  itzswirlz0[m] | publicity names:... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/YOsyHRrdfLKpRBKJhSeBuKnB>)
17:22  itzswirlz0[m] | * publicity names:... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/BooVCtFNpKqNVNrJumKiAQKV>)
17:22             ---|<<-- monitor456 [~monitor45@5PUAAANBC.tor-irc.dnsbl.oftc.net] has quit (Quit: monitor456)
17:23             ---|<<-- Mooncairn [~mooncairn@0002c5b1.user.oftc.net] has quit (Quit: Leaving)
17:23  _discord_1121 | itzswirlz0[m]: dexzryot
17:23     esclear[m] | itzswirlz0[m]: Not according to https://tukaani.org/xz-backdoor/
17:23  _discord_8722 | how about we don't jump on the bandwagon of giving stupid names to security issues
17:23             ---|---> Mooncairn [~mooncairn@0002c5b1.user.oftc.net] has joined #xz-backdoor-chat
17:23  _discord_8722 | it's completely unnecessary
17:23  grandpacanary | _discord_872248967688224768[m]: must you ruin all the fun
17:23  itzswirlz0[m] | No, he has a point.
17:23  itzswirlz0[m] | Some people don't like it.
17:23  _discord_8722 | grandpacanary[m]: Yes
17:24  _discord_8722 | we are not even the ones who discovered the thing
17:24  itzswirlz0[m] | When Hertzbleed became a thing, there was a section about the complaint saying "if you dont like it sorry"
17:24  itzswirlz0[m] | However:
17:24  _discord_8722 | why should we name it
17:24  itzswirlz0[m] | Wikipedia editors are actually discussing moving the supply chain attack to a new article
17:24  itzswirlz0[m] | to separate xz-utils' wikipedia page from being 1/2 the time someone tried to kill it
17:25  itzswirlz0[m] | (like how log4j and log4shell)
17:25  _wggy__77896[ | no one should name it
17:25             ---|User: *** _wggy__77896[m] is now known as _wggy[m]
17:25  itzswirlz0[m] | _discord_872248967688224768[m]: publicity, its not like i refer to heartbleed as CVE-2014-0160
17:25       _wggy[m] | it's not heartbleed
17:25  itzswirlz0[m] | or for people who don't know what 'xz' is or 'backdoor'
17:25  _discord_8722 | if the person who originally broke the news thinks it's worth assigning a silly name to the thing, then maybe, otherwise it's kind of absurd
17:25  itzswirlz0[m] | _discord_872248967688224768[m]: fair enough
17:26  grandpacanary | it would sully the good name of xz
17:26             ---|---> Hawson [~Hawson@li316-104.members.linode.com] has joined #xz-backdoor-chat
17:26  _discord_8722 | someone wrote a whole article about why xz actually sucks, so that was a great introduction to this whole thing
17:27  itzswirlz0[m] | in all seriousness, let's see
17:27  itzswirlz0[m] | but literally half the references on the xz wikipedia article are about the backdoor
17:27             ---|---> mintsuki[m] [~discor_43@2001:470:1af1:101::1:4cbc] has joined #xz-backdoor-chat
17:27    mintsuki[m] | if you people are looking for a similar, decent xz alternative, there is lzip
17:27  itzswirlz0[m] | * the backdoor, which is unusual
17:27       _wggy[m] | mintsuki[m]: we already settled on winrar as the best alternative
17:28  itzswirlz0[m] | _wggy[m]: no
17:28    mintsuki[m] | they use the same lzma algorithm
17:28  _discord_6598 | i think you mean https://www.nongnu.org/lzip/xz_inadequate.html
17:28  itzswirlz0[m] | even if its technically free
17:28  itzswirlz0[m] | idc
17:28  itzswirlz0[m] | i just use 7zip
17:28    mintsuki[m] | _discord_659897428417445909[m]: i don't *mean* that, but yes, the author of lzip wrote that article
17:28             ---|---> paulocavalcanti1971[m] [~discor_43@2001:470:1af1:101::1:4cbd] has joined #xz-backdoor-chat
17:28       _wggy[m] | itzswirlz (@_discord_659601956880384052:t2bot.io) has no sense of humour
17:28  paulocavalcan | itzswirlz0[m]: 7zip all the way
17:28  _discord_6598 | sorry, phrased that poorly
17:28  _discord_8722 | I would simply use gzip
17:29  _discord_8722 | zlib my beloved
17:29  itzswirlz0[m] | _wggy[m]: https://tenor.com/view/psyduck-running-psyduck-x-gif-15388013939662902575
17:29       _wggy[m] | itzswirlz0[m]: is that a platypus?
17:29  itzswirlz0[m] | psyduck
17:29  grandpacanary | mintsuki[m]: to be fair, there does seem to be the culture of "imma write a IRC chat client" type of culture in the realm of data compressors
17:29       _wggy[m] | grandpacanary[m]: internet relay chat chat?
17:29    mintsuki[m] | well lzip isn't a new thing
17:30  grandpacanary | s/type of culture//
17:30    mintsuki[m] | it's a more solid approach to UNIXifying lzma than xz in many regards
17:31  * itzswirlz0[m uploaded an image: (570KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/099fbd21ba2de0aff645a39350ca70f3cc7768b01774595324002697216/makesweet-d6aozo.gif >
17:31    mintsuki[m] | gz is also fine btw, it's just that lzip is more of a 1:1 replacement for xz
17:32  grandpacanary | _wggy[m]: yeah.   ages ago it seemed that about 1/5 programmers that picked up socket programming got the bug to write/rewrite an IRC client.  No surprise either that also let to the heavy presence of also using it as a CNC platform since it's just async message queing.
17:32       _wggy[m] | ngl, jpeg is better than xz
17:33  grandpacanary | if you go google in the past for all the IRC clients out there that were written there's zillions of them
17:33       _wggy[m] | grandpacanary[m]: is IRC like mIRC?
17:33       _wggy[m] | personally, i use mp3 to compress my home directory
17:34  grandpacanary | _wggy[m]: that's was one popular one in the 90s
17:34         Hawson | and IRC is like ytalk.  :-P
17:34  _discord_1121 | <_discord_659897428417445909[m]> "i think you mean https://www...." <- That dies not matter for binaries and MOST imoirtantly source code it was designed for.
17:35  _discord_1121 | s/dies/does/, s/imoirtantly/importantly/
17:35       _wggy[m] | _discord_1121266414205030480[m: why not just use h.265?
17:36  _discord_1121 | _wggy[m]: H.265 is lossy, lossless mode is worse than in x264 library.
17:36       _wggy[m] | _discord_1121266414205030480[m: most code is shit anyway, who cares?
17:36  _discord_1121 | _wggy[m]: It is for repos for apt-get. Source section.
17:37       _wggy[m] | https://tenor.com/view/dumpsterfire-flooding-fail-gif-13031064
17:37  grandpacanary | Heh Lasse gets a shoutout:  https://lists.gnu.org/archive/html/bug-coreutils/2007-10/msg00066.html
17:37  _discord_6448 | <itzswirlz0[m]> "kinda dumb question but has..." <- it's been called assbleed (.com), not so sure the name will stick in professional circles tho \U0001f642
17:38  grandpacanary | ```I'll be careful/paranoid, of course, and may distribute a
17:38  grandpacanary | signature or checksum of the uncompressed tarball too, just in case.```  Oh Jim from 2007... if you only knew what was to happen 17 years later.
17:40             ---|<<-- beber_ [~beber_@2a05:d018:c28:1a00:fd:d0ae:0:5222] has quit (Ping timeout: 480 seconds)
17:44             ---|---> urbanhacker_81768[m] [~discor_43@2001:470:1af1:101::1:4cbe] has joined #xz-backdoor-chat
17:44  urbanhacker_8 | Hi
17:55             ---|---> coerus[m] [~discor_35@2001:470:1af1:101::1:4bfd] has joined #xz-backdoor-chat
17:55      coerus[m] | Hi
17:59  urbanhacker_8 | The honey pot idea is cool but I suspect whoever made the backdoor probably is aware that it was discovered
18:00  _discord_1121 | urbanhacker_81768[m]: Unless he has others \U0001f923
18:00  urbanhacker_8 | that would be quite a revelation
18:02  urbanhacker_8 | On a random note, I did a reverse search of the avatar used and found this clip art library: http://www.clipartbest.com/clipart-ecMdERXpi
18:02  grandpacanary | urbanhacker_81768[m]: everyone who writes C and has the Internet knows about it by now
18:04             ---|---> _discord_875091663368884284[m] [~discord87@2001:470:1af1:101::1:4cbf] has joined #xz-backdoor-chat
18:04  _discord_8750 | num0005 (@_discord_332968312373903360:t2bot.io) just came in here to say awesome analysis. I've been also reading the binary in idapro
18:05  itzswirlz0[m] | so is someone going to point out that we have everyone privileges
18:05  itzswirlz0[m] | * so is someone going to do something about the fact that we have everyone privileges
18:05  itzswirlz0[m] | we're already talking about negative human nature here
18:06       miyon[m] | the attack seems so complex and xz is deeply rooted that restore a linux distribution seems very complex.
18:06       miyon[m] | in the end, all that remains is a loss of trust.
18:11  * _discord_112 uploaded an image: (310KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/098329b0c8f5d2333f2871ab86534e60be75c1e01774605580413960192/Screenshot_20240401_041143_Chrome.png >
18:13  grandpacanary | <miyon[m]> "the attack seems so complex..." <- this could have been much, much worse.  if it got widely distributed most likely admins everywhere would be pointing the finger at OpenSSH because that's the target and because this thing is so RE resistant it would have taken a while to identify that it was `xz` causing it by way of `systemd`, and ages for it to clear out of installs.
18:13  _discord_1121 | https://github.com/google/oss-fuzz/commit/6403e93344476972e908ce17e8244f5c2b957dfd
18:14  itzswirlz0[m] | Someone mentioned "Hans Jansen" who made the rfs for debian to be a bad actor too
18:14  * itzswirlz0[m uploaded an image: (11KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/2554fbd40e9f9f052fe491740c2601e932a9e64d1774606287640723456/image.png >
18:14  itzswirlz0[m] | so i thought i should note this Ilya Kurdyukov guy
18:14  grandpacanary | itzswirlz0[m]: Jia's sockpupput
18:15  _discord_1121 | itzswirlz0[m]: But thatvwas his original code.
18:15             ---|---> Phil9999[m] [~discord13@2001:470:1af1:101::1:4cc1] has joined #xz-backdoor-chat
18:15  _discord_1121 | * But that was his original code.
18:15  _discord_1121 | All the crc stuff for hashing
18:16  urbanhacker_8 | itzswirlz0[m]: This guy? https://github.com/ilyakurdyukov
18:16  grandpacanary | _discord_1121266414205030480[m: and the `m4` script... interesting
18:16  itzswirlz0[m] | yea
18:16  _discord_8750 | grandpacanary[m]: We're lucky this Microsoft guy tracked the issue.. it could be undetected for a long time...
18:16  grandpacanary | itzswirlz0[m]: https://github.com/ilyakurdyukov/micro-lzmadec
18:16  tyrheimdal[m] | That caught my eye too
18:17  urbanhacker_8 | With that avatar that looks like some entry to the obfuscated code contest
18:17  _discord_1121 | https://github.com/google/oss-fuzz/issues/11760#issuecomment-2027604597
18:17       miyon[m] | grandpacanary[m]: yes, I also believe in the good and am optimistic
18:18  * grandpacanar uploaded an image: (127KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/9ed0a1961fddf256b941a36c570f1bee372fdee31774607138065219584/image.png >
18:18  grandpacanary | what is this
18:18  grandpacanary | https://github.com/ip7z/7zip/issues/15
18:18  itzswirlz0[m] | `Please get access to the Elbrus (e2k) architecture machine and fix the build errors that appeared in version 23.... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/WKINMzGvhsMkomwEkbETOCfx>)
18:18  itzswirlz0[m] | His other reops mention e2k
18:18  itzswirlz0[m] | * reops mention that e2k, * e2k thing
18:18  _discord_1121 | itzswirlz0[m]: Elbrus is Moscow
18:18  itzswirlz0[m] | ?
18:19  itzswirlz0[m] | It's the name of a mountain in russia apparently
18:19  grandpacanary | this e2k thing https://github.com/ilyakurdyukov/e2k-ports
18:19  _discord_1121 | itzswirlz0[m]: It is Russian Intel CPU copy
18:19  itzswirlz0[m] | probably nothing special related to this
18:19  _discord_1121 | itzswirlz0[m]: CPU is called after the mountain, yes
18:21  grandpacanary | urbanhacker_81768[m]: yep and he has an IOCCC submission
18:22             ---|---> pr0lefeed [~pr0lefeed@6.47.208.46.dyn.plus.net] has joined #xz-backdoor-chat
18:23  * tyrheimdal[m uploaded an image: (16KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/d1f645f4b9ff8447e62028117069aba18b35424d1774608538677542912/image.png >
18:23  tyrheimdal[m] | gulp
18:24  grandpacanary | im getting paranoid.   So, the RISCV code that Jia wrote where he's writing out his arithmetic in incrementor assignment statements.... now look at this https://github.com/ilyakurdyukov/micro-lzmadec/blob/main/test_static.c
18:24  _discord_1121 | tyrheimdal[m]: Oh-oh
18:24  * grandpacanar uploaded an image: (8KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/ae32ff1328e0d95f1d25d2ebb6f04fefe66411d61774608736480919552/image.png >
18:24  grandpacanary | grandpacanary[m]: im just being paranoid im sure... idk
18:24             ---|---> shasharina[m] [~discord75@2001:470:1af1:101::1:4cc3] has joined #xz-backdoor-chat
18:24  shasharina[m] | it's been worked on for 2+ years and i don't think the threat actor is nice enough to only use one single account to commit all the changes required across many different core packages to make the exploit as subtle as possible and 88KB is a lot to backdoor only openssh. Much respect to those good ppl working to reverse this sophisticated backdoor
18:25  grandpacanary | like idk to me this is a specific style
18:25       miyon[m] | so much "high score" CVE in compression libs like 7-zip and Rar and now xz
18:26  tyrheimdal[m] | Might actually be worth looking into: https://github.com/search?q=author%3Ailyakurdyukov&type=pullrequests
18:26  _discord_1121 | miyon[m]: Also was in zlib
18:27  itzswirlz0[m] | I think this guy is just a genuine dude working for that russian cpu company
18:27  itzswirlz0[m] | He's looking at meltdown and submitting patches
18:27  itzswirlz0[m] | Why on earth would he then try to backstab
18:28  user15kace[m] | itzswirlz0[m]: the is getting weird quick huh\U0001f62d
18:28  itzswirlz0[m] | No, seriously, I don't think he's a bad actor
18:28  grandpacanary | miyon[m]: `xz` was selected for a specific reason, not because of compression per-se but because when you `ldd` against systemd on a headless distro and find the ones that are dyn linked and preload before critical/tasty services (like `sshd`) start up, that's an attack path.   same shit can be done to attack linux desktop users by trying to hitch a ride on `dbus`
18:29  itzswirlz0[m] | speaking of, someone should check that
18:29  itzswirlz0[m] | (cue the ducks waddling meme)
18:29  itzswirlz0[m] | https://www.youtube.com/watch?v=MxEgdHASyrY
18:29  itzswirlz0[m] | ^ me nr
18:29  itzswirlz0[m] | * ^ me rn
18:29  _discord_1121 | It is just funny how the pechage test files. So useful! \U0001f605\U0001f923\U0001f923\U0001f923
18:29  _discord_1121 | s/pechage/package/
18:30  itzswirlz0[m] | last dbus commit was 2 months ago by simon mcvittie and i know that person from prior debian experinece
18:30  itzswirlz0[m] | s/experinece/experience/
18:30  urbanhacker_8 | grandpacanary[m]: I would assume a compression lib is also easier to hide some random blob for data for some obscure test
18:30  tyrheimdal[m] | Unrelated, but seDUCKtive is fucking awesome.
18:32  grandpacanary | urbanhacker_81768[m]: yep which they did, to disguise it as a test.   which saved him from revealing the orig exploit source since the `xz` contains a built `.so` ready to be linked up
18:33             ---|<<-- pr0lefeed [~pr0lefeed@6.47.208.46.dyn.plus.net] has quit (Remote host closed the connection)
18:34             ---|---> pr0lefeed [~pr0lefeed@6.47.208.46.dyn.plus.net] has joined #xz-backdoor-chat
18:34             ---|---> _discord_576161820297920562[m] [~discord57@2001:470:1af1:101::1:4cc5] has joined #xz-backdoor-chat
18:34  _discord_5761 | gzip seems to avoid this risk by including the source used to generate the test artifacts, rather than including the test artifacts themselves - https://git.savannah.gnu.org/cgit/gzip.git/tree/tests
18:34             ---|User: *** _discord_576161820297920562[m] is now known as dafrito[m]
18:36  _discord_1121 | Bug in Cmake after all. . Magic https://gitlab.kitware.com/cmake/cmake/-/merge_requests/9391
18:41             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
18:52             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
19:01             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
19:06             ---|---> dumpx86[m] [~discord50@2001:470:1af1:101::1:4cc9] has joined #xz-backdoor-chat
19:10             ---|<<-- pr0lefeed [~pr0lefeed@6.47.208.46.dyn.plus.net] has quit (Ping timeout: 480 seconds)
19:16  urbanhacker_8 | It certainly feel they rushed in the last weeks or so
19:18             ---|---> HugsNotDrugs [~HugsNotDr@65.102.48.5] has joined #xz-backdoor-chat
19:20  * HugsNotDrugs waves at cmj`
19:22             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
19:27             ---|---> pr0lefeed [~pr0lefeed@6.47.208.46.dyn.plus.net] has joined #xz-backdoor-chat
19:31             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
19:36             ---|<<-- pr0lefeed [~pr0lefeed@6.47.208.46.dyn.plus.net] has quit (Ping timeout: 480 seconds)
19:41             ---|---> _discord_428716613240619008[m] [~discor_43@2001:470:1af1:101::1:4cca] has joined #xz-backdoor-chat
19:41  _discord_4287 | Lined up with the main repo owner being on holiday too, right ?
19:41  _discord_4287 | Maybe was just a bonus
19:41  _discord_1121 | _discord_428716613240619008[m]: He and all USA are on holiday
19:41  _discord_1121 | And all catholica
19:41  _discord_1121 | * And all catholics
19:42             ---|---> pr0lefeed [~pr0lefeed@6.47.208.46.dyn.plus.net] has joined #xz-backdoor-chat
19:42             ---|---> sophrosyne420[m] [~discord13@2001:470:1af1:101::1:4ccb] has joined #xz-backdoor-chat
19:42  sophrosyne420 | It was discovered on a holiday, but malicious code was added a while ago, right?
19:42  sophrosyne420 | * discovered on/near a
19:42  _discord_1121 | sophrosyne420[m]: Yes.
19:42  tyrheimdal[m] | Yep, end of Feb and updated early March.
19:45  tyrheimdal[m] | It pains me to think he/she/them spent all this time singling out the target to infiltrate, planned the backdoor, slowly gained trust, worked to get it into distros only to not ensure the code was optimized properly and get detected by using too much CPU cycles on operation.
19:57  _discord_8750 | I guess there was an infiltration plan in more than one library, if you look at the repos there's a common interest on the projects
19:57  _discord_8750 | this backfired in the exact time
19:58  _discord_8750 | it could be so worse
20:00             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
20:00  _discord_8750 | * it could have been much worse
20:01             ---|---> _discord_621017259153817601[m] [~discor_44@2001:470:1af1:101::1:4ccd] has joined #xz-backdoor-chat
20:01             ---|User: *** _discord_621017259153817601[m] is now known as prototux[m]
20:01    prototux[m] | yes, if you want, in addition to gynvael's post, i have the bash part with comments
20:08             ---|<<-- pr0lefeed [~pr0lefeed@6.47.208.46.dyn.plus.net] has quit (Remote host closed the connection)
20:09             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
20:27  * tyrheimdal[m uploaded an image: (6KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/c62c82e77d9c2089c431d001d613ebceb74867101774639689634938880/image.png >
20:27  * tyrheimdal[m uploaded an image: (5KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/216c51f44760af29adf9ba91b4f976f3cdb75b981774639691690147840/image.png >
20:27  tyrheimdal[m] | ... what?!
20:28  _discord_1121 | tyrheimdal[m]: Yes, these mail list guys hate github
20:28  tyrheimdal[m] | How is Lasse Collin's account so new? Was it moved to GitHub recently-ish?
20:28    prototux[m] | tyrheimdal[m]: doesn't he made PRs to libarchive in 2021?
20:29    prototux[m] | tyrheimdal[m]: jia made PRs to libarchive in 2021, so that Jia's account was made before Lasse isn't surprising
20:29  _discord_1121 | PR on mailing lists look like this: you create a fork amywhere and send an email requesting a merge.
20:29  _discord_1121 | s/amywhere/anywhere/
20:31    prototux[m] | tyrheimdal[m]: probably, wouldn't be surprising if xz-utils was moved to github from a request by Jia also (so he wouldn't have to send the test files by email where they could be catched by spam/antivirus filters or attract more scrutiny?)
20:33  _discord_1121 | prototux[m]: The files are not send with email git diff patch... They are separately requested. But no, there are no antiviruses on mailing lists, it is linux after all.
20:33             ---|User: *** an_freund_89627[m] is now known as an_freund[m]
20:33    prototux[m] | Lasse have his own git server, it would probable be more annoying to move to github for basically doing the same thing than continue working on his own git server with PRs by email
20:33    prototux[m] | _discord_1121266414205030480[m: on the server side, yes, but on client's side?
20:34             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
20:35  _discord_1121 | prototux[m]: Well, again. This is linux and antispam filters are typically not used.
20:35    prototux[m] | I'd guess Lasse moved to github either as a request by Jia to co-maintain xz-utils, or to avoid giving Jia access to his own git server
20:36    prototux[m] | the two IDs who did work on the backdoor worked with libarchive (Jia) and liblz4 (Hans) before working on xz
20:37             ---|---> beber_ [~beber_@2a05:d018:c28:1a00:fd:d0ae:0:5222] has joined #xz-backdoor-chat
20:37  _discord_1121 | prototux[m]: liblz4 checking next
20:37    prototux[m] | _discord_1121266414205030480[m: especially since, on debian at least, it's also loaded by sshd
20:38  tyrheimdal[m] | I've been going through numerous rabbit holes for the past 48 hours, and I'm struggling to find much information at all on who Lasse Collin really is. Some say he's from Finland, and the domain is .fi so that's well enough. Maybe he's just cautious. Long history in OSS though. Have anyone met him before, in person? Are we sure he has not passed, and someone took over his identity and project to push this? Then again, if so why
20:38  tyrheimdal[m] | not use his name for it.
20:38  tyrheimdal[m] | Also, Finland is pretty damn close to the RU border, and who knows if he could have been blackmailed or bought to see this through. There's heavy intelligence activity in the northern regions.
20:40    prototux[m] | tyrheimdal[m]: Ockam razor would rather suggest that he is someone with a typical FOSS maintainer profile: somebody who has a subject of interest, and worked on it for years/decades, way before github and social media, and doesn't seem interested in social media at all, from a country known for FOSS projects, and was victim of a (public) social engineering operation...
20:40    prototux[m] | why would even bother doing public SE on the ML if you can just do it without many if any eyes watching privately?
20:41    prototux[m] | * eyes watching, privately, * privately, if you have access to the guy?
20:44    prototux[m] | do someone has knowledge about xz's build process? i'm trying to undersand what the scripts do, and it seems that it's called in two places: top-level, to patch the makefile if we're building a deb or rpm package, and when building liblzma to include the backdoor (as there's no need to include it to other parts), seems like the makefile patching is basically backporting the stage0 script in the makefile, but why would they bother
20:44    prototux[m] | patching the makefile for that?
20:44             ---|<<-- archer [~oftc-webi@99-119-193-10.lightspeed.sntcca.sbcglobal.net] has quit (Quit: Page closed)
20:44             ---|---> hexed0261[m] [~discord30@2001:470:1af1:101::1:4cce] has joined #xz-backdoor-chat
20:44   hexed0261[m] | Smx, I love seeing your work in the other channel, I'm a newbie reverser and that's clever how you patched sshd
20:44             ---|User: *** hexed0261[m] is now known as hexed[m]
20:44             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
20:45  tyrheimdal[m] | prototux[m]: Good point, maybe build up trust from the outside. Have a fallback. Would hate for this to fall back under his control, if he's not just as much a victim of this as the rest of the OSS community. Not sure if it's a hole that's worth looking into. But I'd love to understand motivation and maybe someday get arbitration.
20:47    prototux[m] | tyrheimdal[m]: there's no need to build trust from the outside on a basically one-man-project, with decades-old trust from the distros... ockam razor and all public information now says that he's a victim here, not an malicious actor
20:48    prototux[m] | for motivation, seems like there's a good news here, looks like openssh is too hard of a target for at least one state actor to make it worthy to attack it that indirectly with that complex of an operation...
20:49             ---|---> Supermariofan67 [~tim@206.217.205.48] has joined #xz-backdoor-chat
20:53             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
20:54  tyrheimdal[m] | I do suppose that is indeed good news. It's been a while since we've had any serious security vulnerabilities in OpenSSH (still remember Trinity using CRC32 exploit in The Matrix!). But I'm talking about usage though, if it is indeed a state actor then obviously goes into the toolbox. But if not what were the end goals that motivated this kind of effort.
20:55    prototux[m] | tyrheimdal[m]: the last serious one i remember of is the client-side "RCE" (well, if you connect to the bad server), but that was a few years back, and was only client-side AFAIK
20:56  tyrheimdal[m] | Yeah, u had some smaller stuff last year in terms of being able to pick up if network traffic was available. Don't remember the exact details, but afaik they added "noise traffic" to compensate.
20:56    prototux[m] | tyrheimdal[m]: given the complexity, it would be (very) surprising if it wasn't a state actor... or evil bill gates from the antitrust movie
20:56    prototux[m] | at a minimum
20:56    prototux[m] | * a minimum, that's an actor with custom (?) tools for such operations
20:59  tyrheimdal[m] | There are threat actors (some tied to states) these days with extensive knowledge and enough funding to do something like this as an investment for gaining a foothold into larger corporations, if the motivation was purely economic. Still wouldn't put it past a smaller group too who just wanted to pwn the world and the time to burn.
21:00  tyrheimdal[m] | It seems everything "advanced" these days *has to be* APT groups, right? Because everyone else is too stupid to pull off compromising anything more than a toaster. :rollingeyes:
21:01    prototux[m] | tyrheimdal[m]: i mean, the A in APT is for "advanced", and "advanced" things tend to take time, hence the P in APT: persistent, the T is "theat", so it's self explanatory here
21:01             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
21:02    prototux[m] | it already takes time to compromise a coffee machine or a robot vacuum cleaner these days...
21:11    prototux[m] | I don't know if it was talked about here, but the "addons"/"stage 4"/part that wasn't commited doesn't looks like it's 2 separate parts (like 2 more stages/independants extensions), but rather one addon for both parts of the stage 2 scripts (top-level makefile and liblzma makefilke)
21:11    prototux[m] | s/makefilke/makefile/
21:12             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
21:12    prototux[m] | there's also a lot of evals for variables that doesn't seems defined anywhere, can only assume they're debug vars to do "echo"s or similar during dev
21:17  _discord_1121 | <tyrheimdal[m]> "It seems everything "advanced..." <- The most advanced persistant thrrat is apt-get \U0001f601
21:17  _discord_1121 | s/thrrat/threat/
21:22             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
21:26             ---|---> sam_ [~sam@000228b9.user.oftc.net] has joined #xz-backdoor-chat
21:32             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
21:33    prototux[m] | it seems like also it really is for deb/rpm packages only, the part that does the actual injection checks for flags that seems unlikely by default, but are patched-in the first part
21:33  tyrheimdal[m] | Especially considering they *could* have extended this to impact APT as well. Not sure if it's opt or not these days.
21:33  *   dafrito[m] uploaded an image: (79KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/6cfd6bc75647650497461831ab6030634c200a581774656416003391488/Screenshot_2024-03-31_233134.png >
21:33     dafrito[m] | <prototux[m]> "there's also a lot of evals..." <- yeah, or since theyre eval'd you could make them do a read to pause the script or by defining them extend the script at key points. like here, the random ones seem to be "reached script", "found config.status", and "loaded env vars from config.status"
21:35  grandpacanary | <tyrheimdal[m]> "How is Lasse Collin's account so..." <- `xz` predates github itself i believe... Lasse was pubbing out tarballs to a mailing list long ago... git itself was still semi-niche in 2007.
21:36    prototux[m] | grandpacanary[m]: xz is probably from at least svn era, if not cvs era
21:36    prototux[m] | comparing to other similar projects from the FOSS world, it's already pretty modern as it's on git now
21:37    prototux[m] | valeriifj (@_discord_1121266414205030480:t2bot.io) https://gist.github.com/rqu1/e4770cd8bd60706384c7c1b79f010a8e you asked for it, you got it
21:38  tyrheimdal[m] | grandpacanary[m]: Yeh I was just really surprised that the user was *that* new. Wish GitHub wouldn't have nuked the project entirely.
21:38  grandpacanary | it's hidden from view but not nuked out.   there's a gitea hosted clone over here https://git.rootprojects.org/root/xz/
21:39    prototux[m] | tyrheimdal[m]: they didn't nuke it, they blocked it, probably standard procedure/reaction for such cases, they can unblock it when they look into it and estimate it's better to analyze it than to block it
21:40  grandpacanary | Lasse's original primary remote (now a mirror) is also still up   https://git.tukaani.org
21:41  grandpacanary | which, thanks to github, is now his primary again
21:41    prototux[m] | why woud they?
21:41  tyrheimdal[m] | I'm interested in everything else, like issues, who wrote, when etc.
21:41  _discord_6598 | eh, the cop mentality. like if a store gets robbed, shut everything down to investigate
21:42  tyrheimdal[m] | (i know there is a mailing list etc)
21:42             ---|---> KonomiSheHer[m] [~konomimat@2001:470:1af1:101::6721] has joined #xz-backdoor-chat
21:42    prototux[m] | _discord_659897428417445909[m]: github definitiely doesn't need to be told by someone to act like they did...
21:42  grandpacanary | tyrheimdal[m]: yeah.   for shit like this I wish gh had a "cursed" feature instead of just nuking it
21:43  _discord_6598 | https://www.mail-archive.com/xz-devel@tukaani.org/
21:43    prototux[m] | grandpacanary[m]: with a special cursed them and a cursed music playing of course
21:43    prototux[m] | s/them/theme/
21:43  tyrheimdal[m] | laughs in links/lynx
21:43  grandpacanary | like may do a change of url route to the project so the `.git` everyone used fails and it breaks all the tools pulling it down, but then it's still up and clonable and all the meta is there
21:44  grandpacanary | s/may/maybe/
21:44  *     hexed[m] uploaded an image: (299KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/a9fb8a5d99997cf05a83f430fc0923e63692f8981774658996079165440/Screenshot_20240329-231930.png >
21:44  *     hexed[m] uploaded an image: (215KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/2e05a63498b3f6727e05f0004f1a9209c1319ad71774658999447191552/Screenshot_20240329-233120.png >
21:44       hexed[m] | prototux[m]: nah I told them to shut it down and they complied. sorry everyone.
21:44    prototux[m] | grandpacanary[m]: wouldn't do much as most of people pull from releases directly
21:44             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
21:45  grandpacanary | prototux[m]: doesn't matter here (we think), but the high-level ppl doing a drive-by clone to do a binding.... but yeah if they went to savannah or some self hosted `.git` nothing matters
21:46  grandpacanary | most emacs bleeding edge people (self included) clone savannah, not github
21:46    prototux[m] | grandpacanary[m]: more surprised about the "emacs bleeding edge" than the savannah part \U0001f642
21:48  grandpacanary | prototux[m]: new 29.x just put out another minor because of CVE's
21:49    prototux[m] | grandpacanary[m]: CVE: someone included a text editor in our OS (that was easy)
21:50  grandpacanary | prototux[m]: no one has understood why a single CVE gets created for it... emacs itself is malware, the users already know this... but yeah
21:52             ---|<<-- lantern [~lantern@216.164.243.105] has quit (Quit: Lost terminal)
21:54  grandpacanary | prototux[m]: can't wait for that email to come to land in my inbox with the embedded elisp code in the MHTML https://www.cvedetails.com/cve/CVE-2023-27986/
21:55             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
21:58  tyrheimdal[m] | I do wonder if the crc64 bit was either humorous or a homage to the crc32 exploit for OpenSSH back in the days (see: https://packetstormsecurity.com/files/24347/ssh1.crc32.txt.html for those whom are not old farts like me).
21:59    prototux[m] | tyrheimdal[m]: if i had to guess, it's easier to hide code in a CRC or crypto alg that already looks obfuscated by default, than on something "simple" to read
22:00    prototux[m] | <grandpacanary[m]> "no one has understood why a..." <- having a CVE for something like an additional flaw in an actual malware would be quite funny \U0001f642
22:00    prototux[m] | "CVE: there's a buffer overflow in stuxnet which enables RCE on stuxnet-infected machines"
22:04             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
22:09    prototux[m] | (althrough, something like this could possibly happens here, with the NOBUS backdoor becoming a NOTREALLYNOBUS if they botched the sshd part)
22:14             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
22:23  grandpacanary | <tyrheimdal[m]> "It pains me to think he/she/them..." <- I'm still clicking through these commits to see if there's any signs before he put his payload in `tests/files` about when he was setting up for trying out the hotloading of the `.o`   he had to have done all of that prep off repo while continuing his stream of commits behaving as the friendly contributor
22:25             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
22:25    prototux[m] | grandpacanary[m]: i would guess that "he" didn't do the job of prep'ing the backdoor \U0001f642
22:27    prototux[m] | most likely, there would be at least 3 or 4 people:... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/xWLTPjvKPRlAYbtRMTUNnwtQ>)
22:27    prototux[m] | * the injection/loading part
22:31    prototux[m] | (and there would probably be a "project manager" for the team)
22:33             ---|---> sfo[m] [~sfo19matr@2001:470:1af1:101::c284] has joined #xz-backdoor-chat
22:33  grandpacanary | <prototux[m]> "i would guess that "he" didn't..." <- contributor probably just whoever is maintaining the local environment build scripts for the team to make sure no one fucks up and pushes up something obvious, also likely sprinkling on the comments
22:34             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
22:35    prototux[m] | grandpacanary[m]: the "contributor" would probably teach the other ones about the project as well, and yes, maintaining the copy of the dev env so they can work on it \U0001f642
22:35  grandpacanary | jia also uploaded quite a bit of bullshit commits that are just changes in style but don't actually do anything useful for readability.    Many examples like this one and it's everywhere in the refactoring https://git.rootprojects.org/root/xz/commit/e7a86b94cd247435ac96bc79ba528b690b9ca388
22:37           sam_ | that commit is fine though?
22:37             ---|<<-- Mooncairn [~mooncairn@0002c5b1.user.oftc.net] has quit (Quit: Leaving)
22:37           sam_ | it's wrong to not use the macro they've defined for that purpose
22:38           sam_ | (it'll warn or maybe even error on older compilers which don't support always_inline)
22:38           sam_ | see the comments in common.h
22:38           sam_ | it's also lasse(?)
22:38           sam_ | am i missing something
22:39       aciid[m] | \u2019\u2019\u2019... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/njvUNbPOdHSOnWFiRSynKjlN>)
22:39  _discord_6598 | https://git.rootprojects.org/root/xz/commit/dcfe5632992fb7f06f921da13fcdd84f83d0d285
22:41    prototux[m] | sam_: grandpacanary (@_discord_781783105090355201:t2bot.io) was talking about "ok, but without much value/purpose" commits
22:42           sam_ | i guess, i'm not really sure it's bullshit though
22:42           sam_ | that kind of thing is so normal in various projects and is just a cleanup
22:42           sam_ | it's not filler or anything
22:42    prototux[m] | (well, "without much value" to an extent, it's always good to do this tedious clean/refactoring work... maybe we should ask the intel agencies to lend us their devs as they're willing to do such work, but without the backdoor part)
22:42             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
22:43    prototux[m] | sam_: from the attacker's PoV, it is, as it's not useful to their mission (backdooring ssh)
22:43           sam_ | but it's a Lasse commit, isn't it?
22:43  grandpacanary | no it's Jia's
22:43           sam_ | for me, git log -p e7a86b94cd247435ac96bc79ba528b690b9ca388 shows Lasse
22:43  grandpacanary | yeah don't trust the gitauthor from Dec to now.
22:44           sam_ | lol
22:48  _discord_1121 | <aciid[m]> "\u2019\u2019\u2019..." <- CIARAMELLA
22:53  grandpacanary | what maintainer who's taking a mental health breaks decides, during this... "let's finish refactoring the transition to CMake" and continues the commit storm.   it's Jia.
22:53             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
22:53  _discord_1121 | grandpacanary[m]: It is Cia
22:53  grandpacanary | on top of that... fixing it for MSYS2
22:53  grandpacanary | like gmafb
22:53  _discord_1121 | On top adding AVX512
22:54  grandpacanary | "I need to take some time off...."    oh in the meantime let me fix the build for MSYS2 on windows
22:54  _discord_1121 | BTW, what happens if xz is indeed fully compomised?
22:55       aciid[m] | Easter bunny appears from the hat
22:57     dumpx86[m] | <prototux[m]> "yes, if you want, in addition to..." <- send it
22:58  *  prototux[m] posted a file: (17KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/94e2548d99f2fc09a6db020a5e0b14b1da0cc1c01774677691920809984/stage2.sh >
22:58    prototux[m] | still a bit of work to do on the compilation/link part
22:59             ---|---> __rand0m__0[m] [~discord55@2001:470:1af1:101::1:4cd0] has joined #xz-backdoor-chat
23:01  grandpacanary | <_discord_1121266414205030480[m> "BTW, what happens if xz is..." <- you mean for the high-level lang people that are binding to it to use it directly and passing byte streams to it?
23:01     dumpx86[m] | prototux[m]: ty
23:01             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
23:06    prototux[m] | dumpx86[m]: if you want, i have a github repo as well with everything so far, but i don't know if it's ok to post it here
23:06     dumpx86[m] | prototux[m]: thats ok I think. sharing is caring
23:11             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
23:19  grandpacanary | valeriifj (@_discord_1121266414205030480:t2bot.io) i think if it was fully-compromised, with what is known so far it really wants `/usr/sbin/sshd` to be there and loaded just the right way, and presuming those builds take place in LXx/Docker and no container break yet seen, the extent is just limited to those who grabbed the pipelined builds and ran them natively.
23:19             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
23:20             ---|<--- sam_ [~sam@000228b9.user.oftc.net] has left #xz-backdoor-chat ()
23:29             ---|---> _discord_811439166423302165[m] [~discord81@2001:470:1af1:101::1:4cd1] has joined #xz-backdoor-chat
23:30             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
23:30  _discord_1121 | <grandpacanary[m]> "valeriifj (@_discord_11212664142..." <- I mean what if L guy is also compromised.
23:32             ---|---> audave[m] [~discord42@2001:470:1af1:101::1:4cd2] has joined #xz-backdoor-chat
23:40  grandpacanary | <_discord_1121266414205030480[m> "I mean what if L guy is also..." <- that would be somethng
23:40  loganaden5095 | Could the timezone indicate china ?
23:41    prototux[m] | loganaden5095[m]: timezone is easy to fake, and the guy used a VPN in singapore (which has the same tz as eastern china)
23:42    prototux[m] | name seems to suggest the guy isn't "a real chinese"
23:42             ---|---> _discord_349582201429557269[m] [~discord34@2001:470:1af1:101::1:4cd3] has joined #xz-backdoor-chat
23:42  grandpacanary | <_discord_1121266414205030480[m> "I mean what if L guy is also..." <- to be fair, rms has been compromised since Unix SYSVR
23:43  grandpacanary | s/SYSVR/SYSVR3/
23:44    prototux[m] | grandpacanary[m]: rms has been compromised since he doesn't like passwords anyway
23:44             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
23:49       offtopic | Not talking until I've had my Root Beer.
23:49             ---|---> _discord_593081254962921473[m] [~discord59@2001:470:1af1:101::1:4cd4] has joined #xz-backdoor-chat
23:50  shasharina[m] | seems like you had it already
23:50  loganaden5095 | It will be hard to know for sure
23:50  loganaden5095 | Which state sponsored this campaign
23:53             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
23:57    prototux[m] | loganaden5095[m]: the only real clue i've seen so far is the RC4 that AFAIK is only used by "the equation group" (eg. NSA) for anything. the name is pretty much meaningless since they used at least 2, there's also Hans
23:57    prototux[m] | s/anything/any implant/malware/
23:57    prototux[m] | s/anything/an implant/malware/
23:57  _discord_1121 | prototux[m]: RC4 is literally used by Microsoft Word
23:57    prototux[m] | _discord_1121266414205030480[m: i mean, i could see someone calling ms word a malware, but...
23:57  _discord_1121 | prototux[m]: RC4 is like AES, encyption algorithm.
23:57  _discord_1121 | s/encyption/encryption/
23:57    prototux[m] | _discord_1121266414205030480[m: yes?
23:57  _discord_1121 | prototux[m]: And it is how word encrypts documents.
23:57    prototux[m] | _discord_1121266414205030480[m: yes? but i still don't see where you're going with that
23:58  _discord_1121 | prototux[m]: It is just old unsecure algo, not NSA.
23:58    prototux[m] | _discord_1121266414205030480[m: i know it's just an old algo, but AFAIK the only APT group that uses RC4 is NSA, the other ones have other algo preferences
23:59    prototux[m] | AFAIK that's also been used as a clue to attribute things to the equation group
23:59  _discord_1121 | prototux[m]: Hm. That makes sense.
--- Day changed Mon Apr 01 2024
00:00  _discord_1121 | they also like awk then, haha
00:01  _discord_6448 | that first level logic only worked in the beginning unfortunately :/
00:01  loganaden5095 | Nsa uses rc4 ??
00:01  _discord_1121 | _discord_644856977566203905[m]: Yes, we have elliptic curve, not quitr yet Kyber, but close
00:02  _discord_1121 | s/quitr/quite/
00:02  grandpacanary | Narrative of the whole TZ rabbit hole  https://rheaeve.substack.com/p/xz-backdoor-times-damned-times-and
00:02  _discord_1121 | I hope he is not trolling and this is not some elaborate crack me
00:02  *  prototux[m] uploaded an image: (28KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/518f3b5db286e0e99f71c34e21eed050bc7e5cf71774693807057534976/image.png >
00:03  _discord_6448 | _discord_1121266414205030480[m: i mean until actors started deliberately misdirecting by using other's known ttps
00:03             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
00:03    prototux[m] | (that's also why they earned this name, "equation group", because of they use of these crypto algs)
00:06    prototux[m] | would be interested to know what other APTs used RC4 \U0001f642
00:07     gamray[m]1 | Searching "rc4 malware" will give you plenty of blog post talking about it. I don't know about specific APT using it, but it's a common in malware dev... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/trLsAuVvDUkkfzMsUhlrtUIF>)
00:09     gamray[m]1 | s/a//
00:14             ---|---> monitor456 [~monitor45@5PUAAANCT.tor-irc.dnsbl.oftc.net] has joined #xz-backdoor-chat
00:19  loganaden5095 | The nsa could have prevented ibm from dynamically loading  lzma in systemd through manipulation.
00:21  loganaden5095 | Systemd was going to change the way it loads libraries
00:27  herzeleid02[m | keep in mind that sshd slowdown works while TERM is empty. If TERM var is empty with headless servers (no screen/tty whatsoever), they probably targeted big production servers or IoT devices
00:27  herzeleid02[m | the exploit even checks for DISPLAY and WAYLAND_DISPLAY
00:27  herzeleid02[m | not exploit, malware
00:30    prototux[m] | herzeleid02[m]: i doubt they were targeting ubuntu in priority, looks like they were particularely interested in fedora 40 (then RHEL/CentOS/RockyLinux) than ubuntu
00:31  herzeleid02[m | prototux[m]: well, they did ask ubuntu to package newer versions too
00:31    prototux[m] | if you're targeting servers (which is likely, given it specifically targeted sshd), the top targets are definitively RHEL and debian stable, ubuntu is a nice bonus, but nowhere near the importance of the first 2
00:32             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
00:32  herzeleid02[m | prototux[m]: i think ubuntu lts is more popular
00:32    prototux[m] | herzeleid02[m]: yes, but it was a "low risk" attempt, basically "debian updated, you can update too"
00:33    prototux[m] | herzeleid02[m]: not at the most interesting targets
00:33  herzeleid02[m | prototux[m]: anyway, do u think that the backdoor even was exploited at this moment?
00:33             ---|---> Penguinpee [penguinpee@got.my.bouncer.from.bnc4free.com] has joined #xz-backdoor-chat
00:33  herzeleid02[m | no reports of weird rogue connections nor no reports of binaries running around
00:35    prototux[m] | herzeleid02[m]: not in a meaningful scale, they were still working merely days before it was discovered, there weren't any warning/panic action that they knew it was compromised, and given the time they took, they most likely wanted to wait a couple of months or even years as 1) it goes into stable distros (eg. RHEL and debian) 2) people update to these. the upgrade cycle of servers, especially at big entities, is not fast at all
00:35  herzeleid02[m | prototux[m]: so my cat pics were safe?
00:36  _discord_1121 | herzeleid02[m]: And private keys in them too
00:36  loganaden5095 | Hold on. Systemd was going to dynamically load liblzma right ?
00:36  herzeleid02[m | _discord_1121266414205030480[m: omggggggg
00:36  herzeleid02[m | anyway ill never ever open sshd to the internet again
00:36  loganaden5095 | Even with the backdoor unnoticed, if systemd was updated, it would not work right ?
00:36    prototux[m] | given the scale of that operation, they aren't targeting your low level amateur sysadmin hosting his "cat" pictures and bank statements in a low cost VPS... they most likely targeted high profile companies or gov orgs, the kind of which are paying (and using) RHEL
00:37  herzeleid02[m | prototux[m]: i opened sshd to my personal shitbox with all the family cat pictures and girl nudes
00:37    prototux[m] | loganaden5095[m]: given how indirect this attack is, there's a lot that could've deactivated the attack. it's most likely they had other targets, at least for redundancy, as well
00:37  herzeleid02[m | and... telegram logs i guess
00:38  herzeleid02[m | i wonder why TERM is checked
00:38    prototux[m] | herzeleid02[m]: wait until they've compromised wireguard as well...
00:38  herzeleid02[m | prototux[m]: if a vm/server doesnt have any displays, is TERM var empty?
00:39  herzeleid02[m | even initrd has TERM=linux when launched on a machine with at least some graphics
00:39    prototux[m] | herzeleid02[m]: "it depends", TERM doesn't have any link to display, the goal of TERM is to say what terminal is used so software can adjust (typically, color output for compatible terminals)
00:39    prototux[m] | * have any direct link to
00:39    prototux[m] | anyway, on non amateur servers, there will always be a display
00:40    prototux[m] | (and in most cases, 2)
00:40  herzeleid02[m | prototux[m]: then why the empty TERM check
00:41    prototux[m] | herzeleid02[m]: no idea, didn't looked into that part yet
00:42    prototux[m] | if there's direct TERM or DISPLAY/wayland checks, could be a anti-tamper/anti-RE thing, as the only reason why i see you would have TERM or DISPLAY set is if you run sshd on your own terminal, not with a systemd/sysinitv/openrc/etc service
00:43    prototux[m] | * DISPLAY set in sshd's env is if
00:47  herzeleid02[m | prototux[m]: wait, the init system isolates the global variables?
00:47    prototux[m] | herzeleid02[m]: they aren't global variables
00:47             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
00:49  herzeleid02[m | prototux[m]: all hope is lost, man...
00:49    prototux[m] | herzeleid02[m]: ?
00:49  herzeleid02[m | my cat pictures are now leaked....
00:50  herzeleid02[m | btw id like to see the code for journalctl sshd bypass
00:53  grandpacanary | <prototux[m]> "i doubt they were targeting..." <- lots of upset CentOS corp installs transitioned/still in the process of fleeing to Rocky, that would have been quite lucrative
00:53  grandpacanary | faster update churn going on there
00:54    prototux[m] | grandpacanary[m]: CentOS/Rocky would be more damaging than ubuntu, as CentOS/Rocky is really used "seriously" as ubuntu is not used that much in such context
00:55    prototux[m] | CentOS/Rocky is mostly the "RHEL that doesn't require expensive licence" where ubuntu is more "debian but if you're not serious"
00:55    prototux[m] | (in a corp context, i mean)
00:58  grandpacanary | i didnt catch any traffic about Jia trying to snuggle up to openSUSE.   They just pipelined it on autopilot like Kali/Debian did?
00:58    prototux[m] | grandpacanary[m]: AFAIK they didn't tried opensuse... well, not that lots of people care about opensuse anyway \U0001f642
00:58    prototux[m] | any distribution not lagging behind would eventually have the infected versions on autopilot anyway
00:58    prototux[m] | the push for fedora (rhel), ubuntu and debian is because they wanted to have result without having to way yet another LTS/release cycle
00:59    prototux[m] | they're playing the long game, but waiting 2 or more years just because you missed the next LTS release is still annoying
00:59  grandpacanary | prototux[m]: well, Slackware would get it but it wouldn't work because they don't have `systemd` :dofW:
01:00    prototux[m] | grandpacanary[m]: they rely on the specific systemd-notify patch anyway, so any distro not heavily patching their packages wouldn't work, and from what i've seen on the stage 2 script, it is very, very unlikely that any non deb/rpm based distro would be affected
01:00  svenquakesson | Commit time patterns suggest that they were in rush in last months
01:01    prototux[m] | svenquakesson[m]: "oh shit, fedora 40 is in two weeks and ubuntu 24.04 is next after", when malware devs are getting a taste of working in the videogame industry
01:01  svenquakesson | Yeah, I can imagine that grind \U0001f642
01:02  grandpacanary | prototux[m]: for all we know this `.o` came from Activision \U0001f480
01:02    prototux[m] | they can now send their resumes to big videogame studios with "i've had crunch time to finish my sshd malware just in time" in it
01:02    prototux[m] | grandpacanary[m]: activision doesn't know linux
01:07  grandpacanary | <loganaden5095[m]> "Hold on. Systemd was going to..." <- didn't see this sorry... `systemd` is going to dyn load everything possible to get the lld scroll to go down
01:08  grandpacanary | s/lld/ldd/
01:10  grandpacanary | that's not a cure tho.
01:13             ---|---> mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
01:27             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
01:34  _discord_1134 | https://jmmv.dev/2023/07/ldd-untrusted-binaries.html
01:35  loganaden5095 | Opensuse is mostly deployed in Germany.
01:44             ---|---> _discord_856093329241538570[m] [~discord85@2001:470:1af1:101::1:4cd9] has joined #xz-backdoor-chat
01:59             ---|<<-- monitor456 [~monitor45@5PUAAANCT.tor-irc.dnsbl.oftc.net] has quit (Quit: monitor456)
02:07             ---|---> souls1232375[m] [~discord17@2001:470:1af1:101::1:4cdc] has joined #xz-backdoor-chat
02:07  souls1232375[ | hello, is there any explanation on how calls to lzma_alloc eventually leads to import_lookup_ex? It has to do with the third lzma_allocator field, opaque?
02:07  herzeleid02[m | <prototux[m]> "they can now send their resumes..." <- do u think theyd wait until trying to exploit it?
02:10    prototux[m] | herzeleid02[m]: yes
02:10  herzeleid02[m | prototux[m]: makes sense. running reverse shell with this is too risky to blow the bigger catch.
02:11             ---|<<-- tolto [~quassel@5402D3E4.dsl.pool.telekom.hu] has quit (Read error: Connection reset by peer)
02:12             ---|---> tolto [~quassel@5402D3E4.dsl.pool.telekom.hu] has joined #xz-backdoor-chat
02:21             ---|---> _discord_590560372143030272[m] [~discord59@2001:470:1af1:101::1:4cdf] has joined #xz-backdoor-chat
02:21  _discord_5905 | hello, where can I get the source of ver 5.6.0 or 5.6.1 for reversing
02:23             ---|---> rincat[m] [~discor_45@2001:470:1af1:101::1:4ce0] has joined #xz-backdoor-chat
02:23  *    rincat[m] posted a file: (2974KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/1fa7202365b07020cc13d271c88e92ea3968976d1774729276512272384/xz-5.6.1.tar.gz >
02:25  _discord_5905 | thank you verry much
02:27             ---|---> whichbuffer4909[m] [~discor_45@2001:470:1af1:101::1:4ce1] has joined #xz-backdoor-chat
02:27  whichbuffer49 | testing the kill switch on ubuntu https://twitter.com/WhichbufferArda/status/1774729956834123876
02:54             ---|<<-- tolto [~quassel@5402D3E4.dsl.pool.telekom.hu] has quit (Quit: https://quassel-irc.org - Chat comfortably. Anywhere.)
02:57  cl0pinette[m] | you can also use WAYLAND_DISPLAY= or TERM= etc.. there are many killswitch
03:04  whichbuffer49 | cl0pinette (@_discord_602140566821666878:t2bot.io) did you guys understand how attacker got RCE on remote device after the backdoor was installed, I want to reproduce this but didn't understand how backdoor work.
03:06  cl0pinette[m] | from what we got 
03:06  cl0pinette[m] | it uses a signed rsa key with a ed448 verification, but we're still not perfectly sure of how it works
03:12  whichbuffer49 | thanks
03:16             ---|---> _discord_772451504925442079[m] [~discor_45@2001:470:1af1:101::1:4ce4] has joined #xz-backdoor-chat
03:16  _discord_7724 | Hi, I'm starting to research Xz, where can I see how to rebuild the environment? Thank you!!
03:18             ---|---> _discord_226693359673147402[m] [~discord22@2001:470:1af1:101::1:4ce5] has joined #xz-backdoor-chat
03:21             ---|---> u0pattern[m] [~discord61@2001:470:1af1:101::1:4ce6] has joined #xz-backdoor-chat
03:25             ---|---> _discord_1224301579847340064[m [~discor_45@2001:470:1af1:101::1:4ce7] has joined #xz-backdoor-chat
03:25  _discord_1224 | Where can I get the EXP program? I really want it.
03:26  _discord_1224 | https://tenor.com/view/happy-easter-images2022-cute-cat-gif-10546635587382021140
03:26  _discord_1224 | \U0001f440
03:26             ---|---> kaos_iv[m] [~discor_45@2001:470:1af1:101::1:4ce8] has joined #xz-backdoor-chat
03:26  *   kaos_iv[m] uploaded an image: (78KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/22363a359ca5afc1dabec4b8006f3151f0106a091774745141949497344/image.png >
03:26     kaos_iv[m] | as taken from: https://gynvael.coldwind.pl/?lang=en&id=782... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/JBqNnFeqlBhkJAimojmzqExx>)
03:44  urbanhacker_8 | Obviously the first line would already be enough, maybe to just add confusion
03:44     harald_[m] | <kaos_iv[m]> "image.png" <- most likely because there were some issues on non-linux systems
03:45  urbanhacker_8 | but wouldn\u2019t the first line be enough?
03:45     harald_[m] | yup, it would be enough
03:45     harald_[m] | just for confusion / obfuscation puproses i guess
03:46             ---|---> sgm [~sgm@00030768.user.oftc.net] has joined #xz-backdoor-chat
03:46     kaos_iv[m] | nah, im not buying it.. there must be another reason
03:47     harald_[m] | the exploit is not working on e.g. macOS... they just wanted to make sure the backdoor only gets injected where it actually works
03:47     harald_[m] | for me that makes perfect sense, because everything would look clean on other operating systems
03:48     kaos_iv[m] | im talking about the reason there's 5 of them \U0001f642
03:48     harald_[m] | oh i see
03:48     harald_[m] | no idea
03:51  Foobar9222[m] | Couldve duplicated lines to later change the condition
03:51  Foobar9222[m] | After getting it to work elsewhere
03:52     harald_[m] | but i dont really think this plays an important role in the exploitation process
03:52     harald_[m] | 5.6.1 to me seems more like a version to do some fixes to the backdoor that came to their mind after the release of 5.6.0
03:53   u0pattern[m] | kaos_iv[m]: Maybe there's no reason
03:53   u0pattern[m] | Maybe he duplicated it unintentionally
03:55  svenquakesson | Maybe that\u2019s kind of alignment, the file was still valid xz?
03:55    prototux[m] | <kaos_iv[m]> "nah, im not buying it.. there..." <- FWIW could even be just the dev raging against the issue and going like "you want a condition, you got it fucker, now you got 5 of them, now what?!?"
03:56    prototux[m] | harald_[m]: it doesn't play an important role at all, and 5.6.1 seems indeed like a bugfix "release" of the backdoor
03:56             ---|---> konomi [~konomi@00020287.user.oftc.net] has joined #xz-backdoor-chat
03:56     harald_[m] | ^ this
03:57   u0pattern[m] | tbh I don't know why he left everything and focused on this :monkaW:
03:58   u0pattern[m] | s/:monkaW:/\U0001f642/
03:59     harald_[m] | jia?
04:01    prototux[m] | u0pattern[m]: ?
04:06     harald_[m] | i think some government is behind all this
04:06     harald_[m] | the backdoor is way too carefully planned for a single person to do all this
04:09    prototux[m] | harald_[m]: tell us something we don't already know \U0001f643
04:12      genazt[m] | well know is hard, this could still be pulled of by some non goverment entity
04:14   u0pattern[m] | <harald_[m]> "i think some government is..." <- also, there may be others besides xz
04:15    prototux[m] | genazt[m]: damn greenpeace and their backdoors!
04:15    prototux[m] | * and their sshd backdoors!
04:19  stan423321[m] | <kaos_iv[m]> "im talking about the reason..." <- Notice this is stored in the scrambled "corrupted" lzma archive, so this has very little byte size cost as it's an LZ compression dream scenario. And also makes archive looks more normal, I guess?
04:19     harald_[m] | <u0pattern[m]> "also, there may be others..." <- jup, but i am not aware of any other projects being part of every distro that have only one active maintainer like xz
04:19     harald_[m] | without full control over the source code, bringing some backdoors in ofc becomes a lot harder
04:19     harald_[m] | s/jup/yup/
04:21    prototux[m] | harald_[m]: i can probably list enough to fill a A4 page... starting with lz4
04:21    prototux[m] | * with lz4 which is also in ssh
04:24  *  prototux[m] uploaded an image: (48KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/354b788106fe66e690d8a949425dcdea539947e71774759685564399616/image0.png >
04:24     harald_[m] | https://github.com/lz4/lz4
04:24     harald_[m] | most commits are by the same person, but there is a lot more activity (like PRs from others) on the repo
04:24    prototux[m] | that is litterally one of the most famous XKCD comics, along with the standards obe
04:24    prototux[m] | s/obe/one/
04:25    prototux[m] | (the alt of the xkcd references imagemagick, which is pretty much the same)
04:28    prototux[m] | harald_[m]: so was for openssl until we learned there was actually one permanent contributor, who was also the maintainer, when heartbleed happenned
04:33    prototux[m] | even for ssh, in the different distros' packages, pretty much half of them are one-man-shows
04:38             ---|---> monitor456 [~monitor45@4JHAAAMSU.tor-irc.dnsbl.oftc.net] has joined #xz-backdoor-chat
04:39    prototux[m] | xz, lz4, libwrapper,  libxcrypt, bash  gnupg, bzip... you can check pretty much any package and the most likely thing is that there's one maintainer and few one-off contributors. libs and other "low level" parts that end users never hear about especially. that is indeed a problem
04:45             ---|---> _discord_494812552539144192[m] [~discord49@2001:470:1af1:101::1:4ced] has joined #xz-backdoor-chat
04:45  _discord_4948 | I guess people are now checking all GitHub accounts with user IDs of the form [A-Za-z]+\d+ .
04:45    prototux[m] | _discord_494812552539144192[m]: why?
04:45  urbanhacker_8 | A lot o sockpuppet / suspicious accounts used this pattern. But not all had (to my knowledge) github accounts.
04:46  urbanhacker_8 | They mostly interacted on various mailing lists outside of github
04:50    prototux[m] | urbanhacker_81768[m]: a lot of legit accounts also have that pattern, i guess it would be even harder to sort based on that than likely projects to be hijacked
04:51  _discord_3329 | well yeah that's why people use that pattern for stockpuppets
04:51  _discord_3329 | it's easy and it's close to what a real username looks like
04:51  _discord_3329 | this isn't like unique to this at all
04:52  _discord_3329 | ~~twitter~~ sorry, x.com bots use the same format
04:52      kam821[m] | _discord_332968312373903360[m]: *twixxer
04:52    prototux[m] | would be easier to sort between say, even 20k projects than probably around 40-60 millions people
04:54  urbanhacker_8 | prototux[m]: oh I wouldn\u2019t use it as "filter" that probably as a lot of false positive
04:55      kam821[m] | <_discord_494812552539144192[m]> "I guess people are now checking..." <- unfortunately it's also a common pattern for pretty much majority of nicknames everywhere.
04:55    prototux[m] | urbanhacker_81768[m]: huge room for false negatives as well
04:57  _discord_3329 | I see someone with one of those usernames typing right now
04:58    prototux[m] | _discord_332968312373903360[m]: ?
04:59  _discord_3329 | prototux[m]: [a-a]\d+
04:59  _discord_3329 | * [a-]\d+
04:59  _discord_3329 | * [a-z]\d+
04:59  _discord_3329 | or whatever the regex is
04:59  _discord_3329 | regex the only programming language that you can neither read nor write
05:00  stan423321[m] | everyone used to use the johnny bunchofnumbers format until people stopped being embarassed by nicknames with random words in them. formal pedants wanted name.surname but that was too revealing, and tlas are few
05:00    prototux[m] | (to give an idea, checking all gh accounts with that pattern would basically check the equivalent of the entire population of poland... and still having the entire population of france as a possible false negative)
05:00  urbanhacker_8 | I always use something like urban.bigboss69420
05:00  urbanhacker_8 | * like urban.bigboss69420 /s
05:01  _discord_3329 | should have used a LLM to create the usernames for the stockpuppets
05:01  _discord_3329 | finally a real life use for LLMs
05:02    prototux[m] | _discord_332968312373903360[m]: regexes aren't that hard
05:04    prototux[m] | Jia's account doesn't match the regex also \U0001f605
05:10  stan423321[m] | <_discord_332968312373903360[m]> "should have used a LLM to create..." <- Bing Copilot (free)... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/nHtMXPtkrahRDQYKjggODiAK>)
05:11      kam821[m] | definitely not suspicious
05:12  urbanhacker_8 | Damn, I asked chatgpt why having 5 times to check if linux is the running platform and his answer was since its a backdoor to contact a cyber security expert!
05:13    prototux[m] | stan423321[m]: alice nguyen is a good one
05:13      kam821[m] | urbanhacker_81768[m]: type linux test 5 times if you have trouble
05:14      kam821[m] | * type linux test 5 times if you are in trouble
05:14  urbanhacker_8 | s/his/its/
05:15     mikewii[m] | I surprised noone renamed themselfs as Jia Tan and typed in this chat yet
05:16             ---|---> morris_twitty[m] [~discor_45@2001:470:1af1:101::1:4cee] has joined #xz-backdoor-chat
05:16  morris_twitty | <prototux[m]> "image0.png" <- must to say thanks for the Jia guy's mistake - ssh performance downgrading ... or it will be a big bomb in the future
05:16  svenquakesson | I think that the pattern of accounts with the numbers as suffix is quite common now as services suggest it if the username you wanted is already taken
05:16  svenquakesson | So it might be correlated with age of an account
05:17  morris_twitty | morris_twitty[m]: while I've been using xz 5.6+ for more than 1 month
05:17  svenquakesson | Rather than being malicious \U0001f642
05:18  stan423321[m] | yes, but it depends on social circles whether they'll take that suggestion
05:18      kam821[m] | svenquakesson[m]: I guess that amount of effort put into working on this malware, it was designed to slowly diffuse into stable/LTS versions of the system and only then would it be exploited
05:19      kam821[m] | s/that/by/
05:20      kam821[m] | s/that/by/, s/working on//
05:21    prototux[m] | svenquakesson[m]: i guess i'm old then
05:22      kam821[m] | * I guess by amount of effort put into this malware, it was designed to slowly diffuse into stable/LTS versions of the system and only then would it be exploited. focusing on sshd does not combine well with exploiting rolling releases.
05:23      _mkow_[m] | <prototux[m]> "probably, wouldn't be surprising..." <- lol, how could an AV detect this?
05:23   lindi0533[m] | In theory the system invocation could be detected with some audit events?
05:23    prototux[m] | _mkow_[m]: heuristics/entropy
05:24      kam821[m] | prototux[m]: clamav and heuristics, lol
05:24      _mkow_[m] | prototux[m]: ?
05:24      _mkow_[m] | that would trigger literally on any compressed file
05:24      _mkow_[m] | e.g. all lzma test files, even the clean ones
05:24  stan423321[m] | well GMail takes it to the next level and blocks anything it can't decompress
05:24    prototux[m] | kam821[m]: clamav is a pretty good av... it takes so much cpu cycles there's none left for the malwares
05:25      _mkow_[m] | AV has no wait to detect a backdoor, AVs are just matching known signatures from the past plus some heuristics
05:25   lindi0533[m] | I think mdatp is actually reading audit events in realtime
05:26   lindi0533[m] | So in theory it should be possible yo detect that openssh started a child process without logging a valid login event first
05:26    prototux[m] | _mkow_[m]: and lots of compressed files do indeed display a warning on some mail clients...
05:26     kaos_iv[m] | it makes sense tho that he wanted to have as little attention as possible to the payload binaries since it would arise suspicions if he was changing the content of 2 compressed files in each commit
05:26     kaos_iv[m] | * compressed files (that meant for testing only) in each
05:27    prototux[m] | _mkow_[m]: that wasn't what i said either
05:27  _discord_3329 | could detect the GOT patching, windows AVs have detected imports patching for a while
05:27             ---|---> _mark_[m] [~discor_46@2001:470:1af1:101::1:4cf0] has joined #xz-backdoor-chat
05:27      _mark_[m] | Especially since they were created with a "known seed" in order to make them reproducible. \U0001f923
05:27  stan423321[m] | _mkow_[m]: there are AVs which delete any exe they don't know, fresh hello world included
05:28  svenquakesson | It\u2019s easy to detect when you know what to look for, same as with 9/11
05:30      kam821[m] | _discord_332968312373903360[m]: not in the high-performance C libraries. these folks like doing this kind of weird fuckery for breakfest.
05:30  svenquakesson | OTOH somebody (tm) can build all the packages from Debian repo to see  and catch some outstanding behavior
05:30      kam821[m] | * C libraries world. these
05:30      _mark_[m] | Man, if my wife didn't know about the xz event the title of this channel would be super suspicious to see if she walked by.
05:31    prototux[m] | it's already annoying enough to send files that can trigger paranoid AVs, it isn't really rocket science to figure out that when you know what you send is actually malicious, you don'y want to blow your cover on a ranfom guy's mail clien displaying s red warning message on top of your PR
05:31    prototux[m] | s/y/t/
05:34      _mkow_[m] | <prototux[m]> "and lots of compressed files..." <- what I mean is this change is indistinguishable from a legitimate change in lzma, from AV point of view
05:34      _mkow_[m] | s/wait/way/
05:35    prototux[m] | _mkow_[m]: doesn't matter, you don't want to attract attention when you send a malware, legit warning or false positive doesn't matter at all
05:35      _mark_[m] | too many warnings and people ignore them
05:35      _mkow_[m] | I don't get this point
05:36      _mkow_[m] | if someone would be using AV on this mailing list then it would trigger every second message
05:36  _discord_6598 | <lindi0533[m]> "In theory the system invocation..." <- if tracing is enabled,  echo 1 > /sys/kernel/tracing/events/syscalls/sys_enter_execve/enable would be a pretty good way
05:36      _mkow_[m] | it makes no sense
05:36      _mark_[m] | It's why some of the valgrind messages were ignored as "noise"
05:36    prototux[m] | _mkow_[m]: you understand that mails end in some people's mail clients, right?
05:38      _mkow_[m] | prototux[m]: yes
05:39    prototux[m] | _mkow_[m]: you understand that Jia doesn't know every mail client and what AV plugins they may have of every people who subscribed on xz's ML right?
05:39      _mkow_[m] | and if they subscribe to that list with a super sensitive AV then it would trigger on half of the messages on that mailing list
05:39      _mark_[m] | Are they really sending binaries on the mailing list?
05:39      _mkow_[m] | because a clean test file is indistinguishable from a backdoored test file in this case
05:40      _mkow_[m] | yes, but I think text-encoded
05:40    prototux[m] | doesn't take a rocket scientist to understand that given the choice, he wants to avoid potential people reporting warnings when he knows he sends actual malicious files
05:40    prototux[m] | _mkow_[m]: doesn't matter
05:40      _mark_[m] | Right, so it is unlikely to make alarm bells go off
05:41      _mkow_[m] | I really don't think this makes sense \u00af\\\_(\u30c4)\_\/\u00af people won't report anything, because why would they report anything for his messages, but not for a 100 other commits which also contain binary test files?
05:42  urbanhacker_8 | <prototux[m]> "probably, wouldn't be surprising..." <- The compressed archived where obfuscated so unlikely any anti virus would have found anything. Also he could have said: Hey I included some corrupted archive for tests in a zip file to bypass google detection and call it a day
05:43    prototux[m] | _mkow_[m]: i really have to make a whole damn book to explain why somebody willingly sending malware would want to do it in the way that is the less likely to blow his cover?
05:43      _mark_[m] | I have to imagine that Jia's employer is not happy right now.
05:43    prototux[m] | urbanhacker_81768[m]: it. doesnt. matter.
05:44      _mkow_[m] | prototux[m]: my point is that it doesn't matter, the AVs can't detect this, so I don't see why Jia would care
05:44      _mkow_[m] | anyways, no need to be passive-aggressive
05:44      _mkow_[m] | we're just discussing
05:45    prototux[m] | you already made me repeat myself 2 or 3 times, it'd annoying, and you still loop yourself on the same useless point
05:45    prototux[m] | s/d/s/
05:46      _mkow_[m] | ok, whatever, this discussion isn't going anywhere and it's getting too heated, let's just end it
05:47    prototux[m] | doesn't takes a rocket scientific degree to understand Jia wants to svoid any risk of detection
05:47  u4315u4312u43 | prototux (@_discord_621017259153817601:t2bot.io) fyi you're talking with reverse engineering expert right now, maybe take your time to reconsider your position and make sure you're right
05:47    prototux[m] | u4315u4312u4321u4310u4304[m]: i'm pretty sure about it
05:48    prototux[m] | s/svoid/avoid/
05:48     kaos_iv[m] | i believe what prototux (@_discord_621017259153817601:t2bot.io) is trying to say, given the choise between raising suspicions or trying go undetected on as many fronts as possible, the later is what would anyone choose
05:48             ---|---> pr0lefeed [~pr0lefeed@110.47.208.46.dyn.plus.net] has joined #xz-backdoor-chat
05:48    prototux[m] | kaos_iv[m]: thank you!
05:48      _mkow_[m] | prototux[m]: but you're assuming this is actually a risk, and I was trying to explain to you that this particular thing doesn't matter. When doing such stuff you care about things that matter and can actually expose you, like suspicious strings in the backdoor payload - that's why they've hidden it cleverly
05:49  urbanhacker_8 | What I could see by avoiding e-mails is also potential confusion. Imagine having to send a new "better" binary file with a seed or whatever excuse he used, probably most contributor would say well the previous one worked, let\u2019s keep it or similar.
05:49  urbanhacker_8 | While if its buried it a commit its just part of the flow of various other commits
05:49      _mkow_[m] | kaos_iv[m]: and my point is that this scenario is just impossible in practice, so they wouldn't invest time in mitigating it IMO
05:49    prototux[m] | _mkow_[m]: or sending the payload in a way that makes people look into it instead of a like in a git history realisitcally nobody reads
05:50     kaos_iv[m] | there maybe another reason, that would make more sense, but atm the AV theory is just an example
05:50      _mkow_[m] | but in this specific repo sending binaries is complete normal, because that's how they test it
05:50      _mkow_[m] | it's not suspicious
05:50  urbanhacker_8 | Imagine jia sending the wrong archive and then having to convince the maintainer to use the new one (the boss wouldn\u2019t want that)
05:51  u4315u4312u43 | Avoiding sending the binaries, when you expect binaries (for tests) is the suspicious thing here
05:51  u4315u4312u43 | urbanhacker_81768[m]: They were the maintainer.
05:52    prototux[m] | _mkow_[m]: and in practice it's almost impossible to have one guy on debian testing with custom compile flags that makes it visible, and that the guy have enough skills and knowledge to dig into this, have time to do the debugging directly and find the backdoor, and yet...
05:52    prototux[m] | u4315u4312u4321u4310u4304[m]: he didn't avoided it
05:53     kaos_iv[m] | they may had plans to use the repo as delivery of other payloads
05:53     kaos_iv[m] | futureproofing it
05:53  urbanhacker_8 | I think the extension mechanism is for that. You can just add more test files
05:54      _mark_[m] | urbanhacker_81768[m]: Yes, this.  They would be matched by the glob
05:54    prototux[m] | it's just a perfectly legit sounding usecase to ask to go to github while also a perfect way to avoid attract too much scrutiny to do direct commits on gh than sending patches thru mail, that's all...
05:56      _mark_[m] | I can't  imagine how bad this would have been if Andres hadn't poked around.  I'm not gonna you because you're probably sleeping, but please set up a ko-fi or something so that I can buy you a coffee or beer or whatever your vice may be.
05:57  u4315u4312u43 | prototux[m]: Well, it's risking that somebody starts to analyze what did change with maintainers that they no longer want to use email. It's not so clear cut, what can raise less suspicions. People who are watching a project also receive emails (potentially with patches). Should you also be petrified, that their emails are scanned by AV?
05:57      _mark_[m] | * not gonna @ you because
05:58      _mark_[m] | You can censure or remove github comments, mailing lists are indelible.
05:58    prototux[m] | u4315u4312u4321u4310u4304[m]: "we're going to a more modern and lean workflow", there's pretty much nothing controversial with moving from mails to a github/gitlab/etc, other than bikeshedding and "but it's on the cloud!"
05:58  _discord_6448 | _mark_[m]: actually i don't remember whether it was revealed, but how did he go from `ssh connection is lagging` to `lzma has hooked stuff`? would be interesting to know
05:58      _mkow_[m] | just for some statistics, there are 438 changes in this single repo to the binary files in tests/files/
05:59      _mkow_[m] | if someone/something would be triggered by "there's a binary blob here" they'd be triggered by all of these commits
05:59             ---|---> chu121su120[m] [~discord36@2001:470:1af1:101::1:4cf5] has joined #xz-backdoor-chat
05:59  urbanhacker_8 | _mark_[m]: Also you move the discussion to a space you fully control
05:59  chu121su120[m | what's wrong with replacing the test files to be a regular text document then have a script to compress and corrupt it?
05:59    prototux[m] | u4315u4312u4321u4310u4304[m]: also, they receive notifications, not the actual files, it's less likely they will poke at the file this way
05:59  stan423321[m] | to change the subject slightly from gh/email circle while staying connected to test files. given my absolute lack of knowledge about malware, autotools, and whatnot, I may be missing something, but was the extension mechanism ready to disable current functionality cleanly?
06:00  urbanhacker_8 | chu121su120[m]: you mean as a good practice? To have a reproducible way to corrupt files for tests so there is nothing suspicious?
06:00      _mkow_[m] | I think they moved to GitHub because then Jia could have the full control
06:00      _mkow_[m] | over the repo
06:00      _mkow_[m] | and that's all to this
06:00    prototux[m] | stan423321[m]: the extension thing is a find+include, that's all
06:01  chu121su120[m | urbanhacker_81768[m]: maybe. at least the original (test) document and the corrupting script ought to be readable
06:01    prototux[m] | chu121su120[m]: takes resources
06:02  chu121su120[m | yeah. that too
06:02  urbanhacker_8 | chu121su120[m]: Then he would have had hidden somewhere else, with enough time you can always hide. Eg: create an image, then compress it and corrupt it. But the noise image itself is the payload
06:03      _mark_[m] | "new xz logo!"
06:03      _mark_[m] | "now with two toucans"
06:03  urbanhacker_8 | \U0001f61b
06:03    prototux[m] | keep in mind that xz is an old project, back then cpu time was a precious resource. and switching that after the fact is taking human resources for basically zero advantage, so...
06:03  chu121su120[m | urbanhacker_81768[m]: i think this is the one i missed
06:04  u4315u4312u43 | <_discord_644856977566203905[m]> "actually i don't remember..." <- I think that what you do when some software is lagging, is you take a profile and analyze where it is spending time. In case of 6 fold increase, you quickly realize that this is in code that shouldn't ever be there, and start digging.
06:04  urbanhacker_8 | I won once a red team CTF competition by doing something similar (ironically with the LZMA lib). in my case I hide it in some C array redefining some macro deeply buried header no one bother to check
06:05  urbanhacker_8 | you have so many ways you can hide stuff
06:05    prototux[m] | urbanhacker_81768[m]: it would add an extra layer of irony if it was with liblzma 5.6.0
06:06  urbanhacker_8 | it was 10 years ago
06:06  urbanhacker_8 | so probably not
06:06    prototux[m] | urbanhacker_81768[m]: i mean, there's already a giant textbook of that called "all the entries in the underhanded c contest"
06:09             ---|<<-- pr0lefeed [~pr0lefeed@110.47.208.46.dyn.plus.net] has quit (Ping timeout: 480 seconds)
06:10      _mark_[m] | So, I hate to bring this up but it's been on my mind.  Are we certain that Lasse is 100% innocent?
06:10  svenquakesson | <_mkow_[m]> "if someone/something would be..." <- To be honest it could be even hidden in a long enough comment in the code\u2026
06:11  svenquakesson | _mark_[m]: Nobody is \U0001f642 And I guess that\u2019s gonna be a new normal
06:11    prototux[m] | _mark_[m]: there's no clue he's willingly involved in that
06:11      _mark_[m] | Let's hope that we don't have a Tyler Durden situation here.
06:12    prototux[m] | _mark_[m]: unlikely
06:12       tanto[m] | Nice PsyOp. Given most people seem confident  he retired due to health reasons, we should give him the benefit of the doubt that he thought he found someone who volunteered to take away the burden
06:13       tanto[m] | but if you do find evidence of malice, do share.
06:13             ---|<<-- beber_ [~beber_@2a05:d018:c28:1a00:fd:d0ae:0:5222] has quit (Ping timeout: 480 seconds)
06:14    prototux[m] | there was social engineering work done publicly on the ML, if he was in it, there wouldn't be a need for that, especially given how low scrutinity xz had anyway
06:15  stan423321[m] | thankfully it doesn't really change much. people are going to look at xz changes carefully know even if they come from, I dunno, Tom Scott, because who knows what's left in it
06:15  urbanhacker_8 | prototux[m]: I started doing an analysis of this and what\u2019s shocking, every interaction can be dismissed as some guy asking some question or some impatient dev wanting a new feature.
06:15  stan423321[m] | prototux[m]: devil's advocate: that's what they'd like you to think
06:16    prototux[m] | playing any other game doesn't even give any advantage to whoever is behind this, xz is on the spotlight now
06:16    prototux[m] | stan423321[m]: for what purpose?
06:16  urbanhacker_8 | But if you zoom out (and with insight) you see how they are pushing him to give the maintenance to someone else. Eg (paraphrasing it) you could focus on Xz-java and give this project to someone else
06:17    prototux[m] | we aren't going to not look into the other commits made by other people than Jia and Hans now thst xz is known to be infected, so...
06:17      _mark_[m] | prototux[m]: Now is the time to add the payloads to other projects, everybody is looking at xz! \U0001f642
06:18    prototux[m] | urbanhacker_81768[m]: it's obvious only because the rest of the story so far, though
06:18             ---|---> beber_ [~beber_@2a05:d018:c28:1a00:fd:d0ae:0:5222] has joined #xz-backdoor-chat
06:19    prototux[m] | s/thst/that/
06:19  urbanhacker_8 | yeah I mean I wouldn\u2019t have noticed before
06:19    prototux[m] | urbanhacker_81768[m]: impressively, there's things (the landlock bypass) that managed to not be noticed for quite some time even with xz in the spotlight
06:20      _mark_[m] | Wasn't that only if cmake was used?
06:20  *      tty6[m] posted a file: (38KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/c1465e8f891a2376d3528c4f1c5460048fb227dd1774789025350025216/jiat75_github.pdf >
06:20  *      tty6[m] posted a file: (33KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/7cacd5fa769c158ad60a64991f86d6d6d9f60a511774789031716978688/larhzu_github.pdf >
06:20        tty6[m] | <_mark_[m]> "So, I hate to bring this up..." <- I doubt it, the activity hours are very different
06:20  urbanhacker_8 | i had to look several time to notice the +. in the large diff
06:20    prototux[m] | did the test and sent the screenshot of the cmakefile patch to dev friends, even with context, not even 1/4 got it...
06:21      _mark_[m] | tty6[m]: That is a relief, honestly.
06:21             ---|<<-- hanemile [~root@emile.space] has quit (Quit: Lost terminal)
06:21  _discord_6598 | it looks like a speck of dirt on your screen or a dead pixel. and since the C code is inside a quote, syntax highlighting won't catch it
06:22  urbanhacker_8 | I have to say I feel bad for Lasse (assuming he has nothing to do with this). Contribute for more than a decade, is tired, nudged by many people then a helpful contributor comes along and backdoor your stuff
06:22  Foobar9222[m] | Must really put a damper on trusting humans
06:24    prototux[m] | urbanhacker_81768[m]: That, and probably additional guilt feeling becausd of what happenned (and nearly happenned), and unease as "i'm into a intel agency fuckup now"
06:24  loganaden5095 | Github should restore lasse Collin github access
06:24  urbanhacker_8 | s/tired/exhausted/
06:24      _mark_[m] | I'm sure that he's more than happy to go on without github.
06:25    prototux[m] | urbanhacker_81768[m]: It's fair to say nobody wants to be in that situation
06:30  urbanhacker_8 | speaking of new logo, was the Xz logo designed by Jia? Reading their page make it seems so: https://tukaani.org/artwork.html
06:31             ---|<<-- crawler [~crawler@109.245.201.129] has quit (Quit: Leaving)
06:31      _mark_[m] | huh
06:32    prototux[m] | urbanhacker_81768[m]: good catch
06:32      _mark_[m] | I was just joking about that
06:32       aciid[m] | Lasse said it was done by a friend of his, but gave rights to Jia
06:32  *  prototux[m] uploaded an audio file: (2KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/ffd552a900e544ab81c1f06a1913c6b293c31d2f1774791870946213888/voice-message.ogg >
06:32       aciid[m] | I have logs
06:32  urbanhacker_8 | https://git.tukaani.org/?p=xz.git;a=commit;h=31293ae7074802cc7286089a89c7b552d930c97f
06:33       aciid[m] | https://bpa.st/62RQ 
06:34  stan423321[m] | Yeah, I noticed this when browsing the website. It's... a bit unnerving, but a photo would be better for noise I think
06:34       aciid[m] |  * https://bpa.st/62RQ  log about logo
06:35      _mark_[m] | "Assuming the logo doesn't have a backdoor." 
06:35      _mark_[m] | lol
06:35   u0pattern[m] | urbanhacker_81768[m]: I swear to god if he continues for another two years, I think he will become the owner
06:36             ---|---> fullstop [~fullstop@162.243.42.48] has joined #xz-backdoor-chat
06:36      kam821[m] | u0pattern[m]: slowly diffusing cancer.
06:37  urbanhacker_8 | _mark_[m]: but those logs were written after it was found correct?
06:37      _mark_[m] | yes
06:38             ---|<<-- zhli [~zhli@DN200ouvs.stanford.edu] has quit (Quit: zhli)
06:38             ---|---> zhli [~zhli@DN200ouvs.stanford.edu] has joined #xz-backdoor-chat
06:39    prototux[m] | _mark_[m]: sadly, it doesn't have metadata either
06:39  Foobar9222[m] | As of atm, there still isnt any other known consequences of this correct? Besides sshd rce
06:40  Foobar9222[m] | No ssh key exfil or browser profile exfils etc
06:40      _mark_[m] | slow ssh connections
06:40  *  prototux[m] uploaded an image: (19KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/27b4e7dbc55599c104bba0670085f56ea94256881774794000830562304/Screenshot_2024-04-01-15-40-00-961_org.mozilla.firefox-edit.jpg >
06:40    prototux[m] | only thing but doesn't mean much
06:41      _mark_[m] | that's not what mine has.  I didn't get it from git, but from the website
06:41      _mark_[m] | oh.  that's because I saved it today.
06:42      _mark_[m] |     date:modify: 2024-01-19T14:41:59+00:00
06:42  stan423321[m] | Foobar9222[m]: nothing is known, but afaik there could be more left to uncover
06:42  *  prototux[m] uploaded an image: (48KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/1088b9b245692661236fc2d21234379521f753ea1774794461826514944/Screenshot_2024-04-01-15-42-06-488_org.mozilla.firefox-edit.jpg >
06:42  Foobar9222[m] | stan423321[m]: Indeed until its fully reversed i will remain paranoid \U0001f642
06:43  Foobar9222[m] | Luckly data exfil seems unlikely as to fly under the radar
06:43  _discord_2077 | is fully reversing this without the knowledge of the crypto keys even possible?
06:43    prototux[m] | _discord_207775211158765569[m]: yes
06:44  Foobar9222[m] | Oh, is the code dynamically decrypted via key provided from the network?
06:44  Foobar9222[m] | That would be fun
06:44  urbanhacker_8 | _discord_207775211158765569[m]: Assuming the complete payload is not encrypted like with some malware yes. We won\u2019t be able to trigger the original exploit since we do not have the original keys but it can be patched with a new key to show a PoC
06:44    prototux[m] | urbanhacker_81768 (@_discord_1159215691052875836:t2bot.io) just to check... do you know if there's other commits or public mail about the logos?
06:44             ---|<--- leggo [~katt__@147.28.162.171] has left #xz-backdoor-chat (Leaving)
06:45    prototux[m] | urbanhacker_81768 (@_discord_1159215691052875836:t2bot.io) given the png gives a +00 timezone... would be interesting if Jia ever said the word "coulour" or "color" \U0001f642
06:46      _mark_[m] | those words do not appear in the commit logs
06:46  urbanhacker_8 | This is what I found after a quick search: https://git.tukaani.org/?p=xz.git&a=search&h=HEAD&st=commit&s=logo
06:46      _mark_[m] | It is interesting that this was done in january
06:46  urbanhacker_8 | prototux[m]: Wait I remember something about color, given me 2min
06:47  urbanhacker_8 | Jia opened some PR about adding color output: https://github.com/keithn/seatest/pull/30/files
06:49        xorAxAx | e.g. https://github.com/keithn/seatest/pull/30/files#diff-446030459a2623b2057dfb001b1cbd5fe0e5e5ce8dc369d8a8c58a23a01bd446R411 looks wrong
06:50    prototux[m] | urbanhacker_81768[m]: he does say "color", not "colour", though. would still be worth checking the vocabulary, and try at least to pinpoint what english variant he's using... for once, we have a lot of text by the author or authors, not just a bin
06:50        xorAxAx | ah, its only used for centering
06:51    prototux[m] | urbanhacker_81768 (@_discord_1159215691052875836:t2bot.io) a +00 timezone and "colour" would have narrowed it down, AFAIK only british and maybe australians use "colour"
06:51  grandpacanary | `colour` and other types of British spellings `goal` instead of `jail` typically have some Norman French influences and other quirks in Britain that wasn't erased by the Webster spelling conventions the USA adopted but failed to get adopted in the UK.   The preference lingers on in current-former Commonweath countries.
06:51  grandpacanary | Canadians use colour.
06:51             ---|---> cheesypeenygregorini9016[m] [~discord31@2001:470:1af1:101::1:4cf6] has joined #xz-backdoor-chat
06:51  cheesypeenygr | don't put too much weight on the type of english; the types of english taught varies depending on type of school and people often end up getting tertiary education in either US English or UK English countries in a 50/50 split
06:51             ---|User: *** cheesypeenygregorini9016[m] is now known as cheesypeenygregorini[m]
06:52    prototux[m] | grandpacanary[m]: TIL
06:52  cheesypeenygr | *types of english in this part of the world
06:53    prototux[m] | cheesypeenygregorini[m]: there's quirks that's indicative sometime, many non-native speakers in western europe tend to have a mix and match between uk and us english for example
06:56      _mark_[m] | My kids make fun of me for doing it.
06:56             ---|---> _discord_395533366881026058[m] [~discor_46@2001:470:1af1:101::1:4cf8] has joined #xz-backdoor-chat
06:56  _discord_3955 | I tried executing `sshd` with the shared object files from the `oss` mailing list, yet I don't have any performance degradation when running: `time env -i LC_LANG=C LD_PRELOAD=/usr/lib/x86_64-linux-gnu/liblzma.so.5.6.1 /usr/sbin/sshd -h`. Am I doing something wrong?
06:57  KonomiSheHer[ | you can have a mix of both being a native speaker
06:57    prototux[m] | he didn't said "mate" \U0001f605
06:57  KonomiSheHer[ | specially when you're online a lot and get exposed to both spellings frequently
06:58    prototux[m] | KonomiSheHer[m]: uk and us?
06:58  KonomiSheHer[ | it's just english and us english
06:58  KonomiSheHer[ | is is the variant not the original
06:58  KonomiSheHer[ | s/is/us/
06:59             ---|---> crawler [~crawler@109.245.201.129] has joined #xz-backdoor-chat
06:59             ---|---> fn0rd[m] [~discord91@2001:470:1af1:101::1:4cf9] has joined #xz-backdoor-chat
06:59       fn0rd[m] | Hi, just a heads up, at Bellingcat community we are also investigating this https://discord.com/channels/709752884257882135/1223764590890975282
06:59  KonomiSheHer[ | there's also spelling differences between the uk and other countries besides the usa
06:59  KonomiSheHer[ | mostly around when to use a z or an s
06:59  KonomiSheHer[ | the dropping of the u is more of a usa thing I don't think other english speaking countries do it
07:00  _discord_3329 | <kam821[m]> "* not in the high-performance..." <- like AV engines which often use it themselves
07:00  _discord_3329 | there is a reason you can't really run more than one AV engine
07:00      _mark_[m] | I realise that.  \U0001f609
07:00    prototux[m] | KonomiSheHer[m]: probably
07:00  KonomiSheHer[ | mixing them up can mean they might not be from the us
07:00      _mark_[m] | oddly enough, lasse used "realize"
07:00  KonomiSheHer[ | or it could be just to confuse people
07:01       fn0rd[m] | one interesting thing might be that Jia fucked up spoofing his timezones a couple of times https://rheaeve.substack.com/p/xz-backdoor-times-damned-times-and
07:01             ---|<<-- zhli [~zhli@DN200ouvs.stanford.edu] has quit (Quit: zhli)
07:01    prototux[m] | KonomiSheHer[m]: that's where i was going
07:01      _mark_[m] | or rebooting between windows and linux when the bios clock was not set to gmt
07:01       fn0rd[m] | there's also people who analyzed commit times
07:01  _discord_3329 | fn0rd[m]: unexpected bellingcat
07:01  KonomiSheHer[ | you're going to need more to be certain about the bad actors identity than timezones and spelling differences
07:02  grandpacanary | There's a style to Jia's comments.   They do include conjunctons (`and` `but` `or`) but not all the time where one would be obvious to place.
07:02  grandpacanary | So it's definitely an ESL speaker.
07:02  KonomiSheHer[ | not even sure discussion based around such weak indicators is worth the time
07:02       fn0rd[m] | https://media.discordapp.net/attachments/1223764590890975282/1224137405838266469/image.png?ex=661c65cc&is=6609f0cc&hm=d740ef562cc80e905811a1bebbc9402332b711f20d68912db6b7b4a622a5dc66&=&format=webp&quality=lossless
07:03  _discord_4287 | agree
07:03             ---|---> _discord_249998532591747092[m] [~discord24@2001:470:1af1:101::1:4cfa] has joined #xz-backdoor-chat
07:04       fn0rd[m] | grandpacanary[m]: What is an ESL speaker?
07:04      _mark_[m] | english as a second language
07:04   u0pattern[m] | <fn0rd[m]> "Hi, just a heads up, at Bellingc..." <- All of you come over here
07:04  _discord_3329 | fn0rd[m]: it's so difficult to trust the metadata on this considering the threat actor is likely to be literate in what their metadata looks like
07:04  urbanhacker_8 | fn0rd[m]: There is a lot of information, but it seems updates would close their windows of opportunity. This probably made them doing a desperate attempt to try to push it to as many distribution as possible, with the release of Ubuntu, Fedora soon happening
07:04  _discord_3329 | anything could be intentional obfuscation just as easily as a legitimate mistake
07:05      _mark_[m] | Another amusing thing to think of is that Jia / Jia's group are probably watching this chat.  Hi Jia!
07:05       fn0rd[m] | good afternoon Jia
07:05             ---|---> _discord_747428452411506819[m] [~discor_46@2001:470:1af1:101::1:4cfb] has joined #xz-backdoor-chat
07:05  _discord_7474 | Hi!, I'm looking for a copy of `tukaani-project/tukaani-project.github.io` repo,  the GitHub's pages site `xz.tukaani.org`. If you know how to find it, let me know. Thank you.
07:05       fn0rd[m] | or wait what time is it at your place, Jia?
07:05  urbanhacker_8 | * There is a lot of information, but it seems updates would close their windows of opportunity. This probably made them doing a desperate attempt to try to push it to as many distribution as possible, with the release of Ubuntu, Fedora soon happening.
07:05  urbanhacker_8 | See: https://github.com/systemd/systemd/pull/31550#issuecomment-1972737923
07:06    prototux[m] | grandpacanary[m]: ESL?
07:06  _discord_4287 | i lost my watch, anyone got the time :looking_away:
07:06      _mark_[m] | prototux[m]: english as a second language
07:06  urbanhacker_8 | o/ jia, what\u2019s your nickname here?
07:06  _discord_3329 | watch Jia publish a backdoored script to deobfuscate the sample
07:07    prototux[m] | KonomiSheHer[m]: it makes for a break between ghidea and cursed bash
07:07  _discord_4287 | how large is the binary that people are RE'ing ?
07:07  _discord_4287 | * the binary file that people
07:07       fn0rd[m] | yeah what I saw when I glanced at the shell was that he was using backticks instead of $()
07:07       fn0rd[m] | s/shell/shellscipt/
07:08  svenquakesson | https://bugzilla.redhat.com/show_bug.cgi?id=2267598 uh that was close to find out
07:09    prototux[m] | _mark_[m]: thanks for the challenge, it's just as fun as pwn'ing a coffee machine
07:09    prototux[m] | _discord_428716613240619008[m]: 157 functions IIRC (in ghidra, at least)
07:11    prototux[m] | fn0rd[m]: he's using basic sh syntax, not modern/bash one
07:11  urbanhacker_8 | <fn0rd[m]> "Hi, just a heads up, at Bellingc..." <- Is this an april\u2019s fool joke?
07:11    prototux[m] | using test and expr too
07:12             ---|---> hiItsMe [~hiItsMe@2a0e:1c80:14:0:45:15:18:72] has joined #xz-backdoor-chat
07:14             ---|<<-- hiItsMe [~hiItsMe@2a0e:1c80:14:0:45:15:18:72] has quit ()
07:16             ---|---> hiItsMe [~hiItsMe@2a0e:1c80:14:0:45:15:18:72] has joined #xz-backdoor-chat
07:17             ---|<--- hiItsMe [~hiItsMe@2a0e:1c80:14:0:45:15:18:72] has left #xz-backdoor-chat ()
07:17             ---|---> hiItsMe [~hiItsMe@2a0e:1c80:14:0:45:15:18:72] has joined #xz-backdoor-chat
07:17             ---|<<-- hiItsMe [~hiItsMe@2a0e:1c80:14:0:45:15:18:72] has quit ()
07:18             ---|---> hiItsMe [~hiItsMe@2a0e:1c80:14:0:45:15:18:72] has joined #xz-backdoor-chat
07:27             ---|---> pr0lefeed [~pr0lefeed@110.47.208.46.dyn.plus.net] has joined #xz-backdoor-chat
07:28             ---|<<-- pr0lefeed [~pr0lefeed@110.47.208.46.dyn.plus.net] has quit (Remote host closed the connection)
07:30      _mark_[m] | https://www-zhihu-com.translate.goog/question/650826484/answer/3449022153?_x_tr_sl=auto&_x_tr_tl=en&_x_tr_hl=en&_x_tr_pto=wapp
07:30      _mark_[m] | ^-- is this just a translation of something previously in English?
07:36       aciid[m] | <urbanhacker_81768[m]> "Is this an april\u2019s fool joke?" <- it's not an official project, it's just a community thread
07:39             ---|---> zhli [~zhli@DN2lk4370.stanford.edu] has joined #xz-backdoor-chat
07:40             ---|<<-- Celelibi [celelibi@00012037.user.oftc.net] has quit (Ping timeout: 480 seconds)
07:41             ---|---> Celelibi [celelibi@82-64-105-152.subs.proxad.net] has joined #xz-backdoor-chat
07:46  _discord_6448 | <fn0rd[m]> "Hi, just a heads up, at Bellingc..." <- will you publish your findings even if it points to FVEY? \U0001f642
07:48       fn0rd[m] | ofc \U0001f609
07:49       fn0rd[m] | I mean I am just one member of that community, not a member of Bellingcat itself
07:53        bjo[m]1 | <_discord_644856977566203905[m]> "will you publish your findings..." <- Is it also linked to matrix?
07:54             ---|---> zhli_ [~zhli@DN2lk43at.stanford.edu] has joined #xz-backdoor-chat
07:56  _discord_6448 | dunno, Fnord didnt publish a invite link but a channel like which is usable only while already bring on the "server"
07:56             ---|<<-- konomi [~konomi@00020287.user.oftc.net] has quit (Quit: konomi)
07:57  _discord_6448 | s/a/an/, s/like/link/, s/bring/being/
07:57             ---|---> _discord_346810847831523338[m] [~discor_46@2001:470:1af1:101::1:4cfd] has joined #xz-backdoor-chat
07:57  _discord_3468 | Who is H.J. Lu?
07:57  _discord_3468 | https://gcc.gnu.org/bugzilla/show_bug.cgi?id=114115
07:58             ---|---> konomi [~konomi@00020287.user.oftc.net] has joined #xz-backdoor-chat
08:02             ---|<<-- zhli [~zhli@DN2lk4370.stanford.edu] has quit (Ping timeout: 480 seconds)
08:02             ---|User: *** zhli_ is now known as zhli
08:03       fn0rd[m] | not trying to poach either way or any of that nonsense. Also no RE taking place there as of now. Invite link is https://discord.gg/bellingcat
08:09  grandpacanary | `ibus`  https://www.openwall.com/lists/oss-security/2024/04/01/1  :wtf:
08:10             ---|---> Mooncairn [~mooncairn@0002c5b1.user.oftc.net] has joined #xz-backdoor-chat
08:11  tyrheimdal[m] | <_mark_[m]> "oddly enough, lasse used "..." <- Did we see Lasse doing the same?
08:13  tyrheimdal[m] | <fn0rd[m]> "one interesting thing might be..." <- We were talking about this yesterday, and figured it might be related to how rebase/force-pushing works too.
08:15             ---|---> laanwj[m] [~orionwlx0@2001:470:1af1:101::1:4bd9] has joined #xz-backdoor-chat
08:16  tyrheimdal[m] | I'm going to start documenting all the weird paths I've explored so far during the day. Lots of notes. :FeelsExhaustedMan:
08:17  grandpacanary | tyrheimdal[m]: got sloppy opening it outside of the controlled vm maybe or forgot to check the clock before powering it on a few times
08:17             ---|---> JiaTan[m] [~discor_46@2001:470:1af1:101::1:4cff] has joined #xz-backdoor-chat
08:18  grandpacanary | I have stuff where I have banned entire timezones and have controlled vms specifically to test that they work, that the server grabs ip and throws it on a bantable
08:19  tyrheimdal[m] | Hopefully we can find some smoking gun(s), but they could also be elaborate to throw off suspicion.
08:32       tanto[m] | <fn0rd[m]> "one interesting thing might be..." <- Stuxnet 2.0? Some people never learn...
08:44  svenquakesson | Dunno but he commited something to xz in Dec of 2020
08:45  svenquakesson | <_discord_346810847831523338[m]> "Who is H.J. Lu?..." <- Dunno but he commited something to xz in Dec of 2020
08:46             ---|<<-- zhli [~zhli@DN2lk43at.stanford.edu] has quit (Quit: zhli)
08:46  svenquakesson | But he seems to be active for years in various projects
08:48  grandpacanary | <tyrheimdal[m]> "Hopefully we can find some..." <- im guessing all the usual OSINT stuff has been done, i.e. looking for similarites on accounts at totally different platforms, does he have a Steam account, etc
08:49             ---|---> galacticbeat[m] [~discord70@2001:470:1af1:101::1:4d00] has joined #xz-backdoor-chat
08:49  galacticbeat[ | JiaT75 revealed to be Diddy Combs. When questioned he stated "I just love screwing people, y'all."
08:52      kam821[m] | <mikewii[m]> "I surprised noone renamed..." <- said something?
08:53  * _discord_332 uploaded an image: (18KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/9d09b8b587ba52efcfc70a2a7692faba361424051774827435284496384/image.png >
08:53  _discord_3329 | huh why only the first 5 bytes
08:55  _discord_3468 | <svenquakesson[m]> "Dunno but he commited something..." <- 1 commit to xz: Enable Intel CET in x86 CRC assembly codes
08:55  _discord_3468 | https://git.tukaani.org/?p=xz.git;a=search;h=edf525e2b1840dcaf377df472c67d8f11f8ace1b;s=H.J.+Lu;st=author
08:55             ---|---> _discord_1224378725421027503[m [~discor_47@2001:470:1af1:101::1:4d01] has joined #xz-backdoor-chat
08:56  grandpacanary | Go coders represent :eve: :GigaChatting:
08:57             ---|---> zhli [~zhli@DN2lk430j.stanford.edu] has joined #xz-backdoor-chat
09:00             ---|---> _discord_609041026644049945[m] [~discor_47@2001:470:1af1:101::1:4d02] has joined #xz-backdoor-chat
09:00  _discord_6090 | What is the earliest date for which we have any sign of activity toward creating this backdoor? How does this relate to the date the war in Ukraine began? Isn't this timeline very close to each other?
09:01  _discord_6090 | Could be NSA targeting Russia just before the war began
09:01  tyrheimdal[m] | grandpacanary[m]: You wrote Rust wrong. :Confused_Dog:
09:03  galacticbeat[ | _discord_609041026644049945[m]: lol.
09:04  _discord_6090 | what\u2019s funny?
09:04  _discord_6090 | it happened before many times
09:05  galacticbeat[ | I don't know how other people's minds work, especially yours.
09:05  tyrheimdal[m] | That's the funny part, they don't. :LULDOG:
09:06  galacticbeat[ | I've noticed this overwhelming tendency in the last year or two for people to see conspiracy absolutely everywhere
09:07      _mark_[m] | galacticbeat[m]: That's not healthy
09:07  * itzswirlz0[m uploaded an image: (45KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/c405546e2d9f021c0c54070f90cbddf1759556e11774831004712697856/Screenshot_2024-04-01_at_12.07.13_PM.png >
09:07  itzswirlz0[m] | also getting concerned with the amount of jias now
09:07  tyrheimdal[m] | https://tenor.com/view/xfiles-frustrated-david-duchovny-mulder-gif-5207057
09:07  itzswirlz0[m] | i think the 2nd one is satire though
09:08  galacticbeat[ | honestly I don't think tiktok is helping the general populace, I was previously anti-ban, but they need to ban the hell out of it.
09:09  itzswirlz0[m] | tiktok = brain rot
09:09  galacticbeat[ | it's conspiracy central
09:09             ---|---> _discord_263766738443829249[m] [~discor_47@2001:470:1af1:101::1:4d03] has joined #xz-backdoor-chat
09:09       fn0rd[m] | <grandpacanary[m]> "im guessing all the usual..." <- it is never 'done' https://news.ycombinator.com/item?id=39869014 here's output from whatsmyname
09:09  _discord_2637 | Is this code legit for testing if Kali is affected by the xz backdoor?
09:09  _discord_2637 | https://gist.githubusercontent.com/thixpin/32af2d41a60ef1a1bcbd01c6f49863f3/raw/f082f88bb8e867e318827592bb0d710d72e14bc2/xzbd-scan.sh?fbclid=IwAR2c5jnhKCoXcYMACVtWBam5MSwsNxBq-pE6dhOdSfyoAYAbKxBI_m8krMM_aem_AXTe6OgydqZhCoqfwZOr8Eoy8LAPGWRdlcrM1GP0sitrA10VGhKGQc7Vh0LJvn7d1oOYjHYELj3QWD666oaxRMxr
09:10  _discord_2637 | * Is this code legit for testing if Kali is affected by the xz backdoor?... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/QwupjyXghRFvFYlTDxYSvNng>)
09:10  _discord_6090 | How is this conspiracy? https://en.m.wikipedia.org/wiki/Viasat_hack
09:11        tty6[m] | fn0rd[m]: ebay is interesting
09:12       fn0rd[m] | <_discord_346810847831523338[m]> "1 commit to xz: Enable Intel CET..." <- the name hans jansen could've been derived from that inspiration, or it could be same person
09:13       fn0rd[m] | Location: United StatesMember since: May 28, 2021 nothing else on there, too bad we aint LE
09:14  galacticbeat[ | _discord_609041026644049945[m]: explain how the xz backdoor has anything to do with the Ukrainian war.
09:14  galacticbeat[ | you're drawing weird conclusions out of nothing.
09:16        tty6[m] | fn0rd[m]: why would he create an ebay account in the first place?
09:17       fn0rd[m] | cause he knew he'd be found out eventually?
09:17  galacticbeat[ | to appear to be a real person
09:17  _discord_4287 | i think it's unlikely to be made by the same person
09:17  itzswirlz0[m] | I talked about another guy who disliked Clang's rejection of merging Jia's PR and somewhere yesterday I figured out some guy who was irrelevant because of CPU stuff. However, one of Jia's stared repos ishttps://github.com/google/cpu_features
09:18  _discord_4287 | there's ebay jiat72 73 etc too
09:18       aciid[m] | Couls be just puppeting
09:19       fn0rd[m] | zero attribution found to RU but breadcrumbs to CN, HK, SG, TZ of EET, and also some basic language analysis shows some odd ways of saying (non-native English) and mixed British/American English. This fellow was well prepared in advance, so he(/she/they) also took preparations that he'd get caught eventually
09:20       fn0rd[m] | it is called legacy building btw
09:21       aciid[m] | Or legend building
09:21       aciid[m] | * legend building in intelligence
09:22      JiaTan[m] | it was nsa
09:22       fn0rd[m] | OK, I just know the Dutch version of it \U0001f61b
09:22  itzswirlz0[m] | fyi: it appears theres a post on 4chan thats now been "archived" reacting to arch's homepage about xz https://boards.4chan.org/g/thread/99734406/ohnononono
09:23  * galacticbeat uploaded an image: (15KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/64fce545f4e0b61786867f9831576f9f56a64b6b1774835061821014016/image.png >
09:23  galacticbeat[ | Gold
09:23  itzswirlz0[m] | lol
09:24  itzswirlz0[m] | well
09:24  itzswirlz0[m] | if you use wsl you may not be
09:24  galacticbeat[ | I don't even program, I just came to laugh.
09:24       fn0rd[m] | WSL with which distro?
09:24       fn0rd[m] | Kali? lol
09:24  tyrheimdal[m] | Arch ofc \U0001f604
09:26       fn0rd[m] | doesn't have linked liblzma on sshd. WSL with sshd and systemd based on.. I dunno, no stable distro had this, except for those based on Debian Testing or Ubuntu Testing
09:26  galacticbeat[ | I tried to bring up the subject of this backdoor with my wife and she said "For the hundredth time NO. Always NO. Forever NO."
09:27  galacticbeat[ | She doesn't appreciate tech :\
09:28  _discord_6090 | Why are you here? Just leave and let people work galacticbeat (@_discord_708371049212936284:t2bot.io) . You\u2019re useless tbh
09:28  itzswirlz0[m] | _discord_609041026644049945[m]: Nobody asked for your stinginess
09:29  itzswirlz0[m] | You can leave, or if you think you can solve everything then solve everything
09:29  galacticbeat[ | dude is mad I asked him to pinpoint how this backdoor is related to Ukraine war, since that's what he said.
09:29  svenquakesson | Hans Jansen was also recently working on arm64 implementation of crc
09:29  itzswirlz0[m] | <itzswirlz0[m]> "fyi: it appears theres a post on..." <- anyways we should check 4chan equivalents for china and russia or really any random unmoderated board website
09:30       fn0rd[m] | Telegram? \U0001f61b
09:30  itzswirlz0[m] | not sure how far i can go querying telegram for thngs like "my plan"
09:30  itzswirlz0[m] | * "my plan for xz"
09:31       fn0rd[m] | in Russian
09:31             ---|<--- TobiX[m] [~tobixccca@2001:470:1af1:101::6d6c] has left #xz-backdoor-chat ()
09:32  * itzswirlz0[m uploaded an image: (647KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/3881f7dadf8b4d407811d0d3d678879ffe44798a1774837265038573568/image.png >
09:32  itzswirlz0[m] | ?
09:32  * itzswirlz0[m uploaded an image: (483KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/f8c151be9d4a7176f97dcf2fe9131c367df8c1f01774837296164503552/image.png >
09:37  *    _mark_[m] uploaded an image: (210KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/99797af783d83d0faedd2de3b4a67186454695691774838526701993984/Screenshot_20240401-123700.png >
09:37  itzswirlz0[m] | probably people being funny
09:37      _mark_[m] | It was something else before and it's probably malware.
09:42             ---|<<-- zhli [~zhli@DN2lk430j.stanford.edu] has quit (Quit: zhli)
09:43     dumpx86[m] | Do we have a compilation of all sus commits from Jia?
09:43     dumpx86[m] | Like the ones which are certainly malicious
09:43      midar3[m] | @room Hi everyone! While so far you are all very well behaved, this little chat room that I wanted to create has exploded into something much bigger than I ever anticipated. Unfortunately, too big for me to moderate alone, especially as sometimes I also sleep ;). Which means I could help some help in moderation! Ideally a moderator on each: Matrix, IRC and Discord. I haven't made up my mind yet on how to avoid a JiaT takeover, but if
09:43      midar3[m] | you're interested, please let me know (@js:nil.im in Matrix, js in IRC and midar3 (@_discord_774066653708681226:t2bot.io) in Discord)
09:45             ---|---> _discord_838601842086248469[m] [~discord83@2001:470:1af1:101::1:4d06] has joined #xz-backdoor-chat
09:45  _discord_8386 | midar3 (@_discord_774066653708681226:t2bot.io) happy to help moderate on Discord. I\u2019m just lurking so far. I\u2019ll send you a dm.
09:45             ---|---> todd_33582[m] [~discor_47@2001:470:1af1:101::1:4d07] has joined #xz-backdoor-chat
09:45  todd_33582[m] | Is it plausible that other non-SSH tools (like OpenVPN) could also succumb to this attack, or was this specifically targetting SSH?
09:45             ---|---> scatterflower[m] [~discord87@2001:470:1af1:101::1:4d08] has joined #xz-backdoor-chat
09:45             ---|---> flapjack8100[m] [~discor_47@2001:470:1af1:101::1:4d09] has joined #xz-backdoor-chat
09:45  flapjack8100[ | imagine sleeping in the current year \U0001f602
09:45  herzeleid02[m | todd_33582[m]: its not even clear that there was code to advertise the exposed ip
09:46  grandpacanary | <itzswirlz0[m]> "I talked about another guy who..." <- If you are a frequent user of IFUNC, that libary would be a common go-to, bc obvs the purpose of IFUNC is to avoid shipping a bunch of dynlibs or other macro spaghetti to get out chip-variant versions
09:46  * _discord_609 uploaded an image: (370KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/198c2bbc86587ecc8f5d67e6777cee6de8dff6c41774840786504908800/IMG_3939.png >
09:46  _discord_6090 | https://github.com/snappyJack/snappyjack.github.io/commit/7ee63179ae40e5e7e2df94313112ca66d275f78b
09:48             ---|---> lukflug[m] [~discor_47@2001:470:1af1:101::1:4d0a] has joined #xz-backdoor-chat
09:48  *   lukflug[m] uploaded an image: (27KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/4d3e71a6d9b142bdc68b691b7817566fa25a7c0f1774841324768329728/Jia_Tan_meme.png >
09:49  _discord_8967 | <midar3[m]> "@room Hi everyone! While so..." <- Happy to help
09:51  herzeleid02[m | _discord_896728944479461467[m]: omgg the guy himself
09:52     esclear[m] | <_discord_609041026644049945[m]> "https://github.com/snappyJack/..." <- > ### Opening strategy... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/DWUsrXDrIlJqnFSAFXQfFrZq>)
09:52  herzeleid02[m | anyway, were there ANY reports of rogue binaries running around or connections being made during march? or is still nothing?
09:52  _discord_8967 | herzeleid02[m]: But I don't actually have any time to moderate :c maybe just occasionally
09:52     esclear[m] | s/>//
09:53     esclear[m] | s/>//
09:54             ---|---> _cra2yman_0[m] [~discor_47@2001:470:1af1:101::1:4d0b] has joined #xz-backdoor-chat
09:55  grandpacanary | <todd_33582[m]> "Is it plausible that other non-..." <- Late last night I put some CGo bindings against the existing comp/decom published routines everybody imports lzma for.   Nothing strange that I can see yet from the viewpoint of a binding-user just wanting to add `xz` support.   But the RE of the `.o` payload is not fully exhausted out, so it cannot be ruled out, but then if he is messing around with a host app using
09:55  grandpacanary | `liblzma.so` and it's just a few thousand clock cycles, id have to profile my host better than just using `time`
09:56             ---|---> zhli [~zhli@DN2lk4339.stanford.edu] has joined #xz-backdoor-chat
09:57             ---|---> eak[m] [~eakdigita@2001:470:1af1:101::9f8f] has joined #xz-backdoor-chat
10:00             ---|---> harmathy [~harmathy@00027b72.user.oftc.net] has joined #xz-backdoor-chat
10:00             ---|---> trn_0[m] [~discord75@2001:470:1af1:101::b1bb] has joined #xz-backdoor-chat
10:00  *     trn_0[m] uploaded an image: (1951KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/c5ed5677b72f43ebe368357d245321adc52b42c91774844348014264320/IMG_0341.png >
10:02  grandpacanary | <grandpacanary[m]> "Late last night I put some CGo..." <- I am only still skeptical for these reasons
10:02  galacticbeat[ | "Tony Stark was able to build this in a cave!  .... with a box of scraps!"
10:02      midar3[m] | <_discord_896728944479461467[m]> "Happy to help" <- Username seems trustworthy! All  good \U0001f44d
10:04  grandpacanary | * I am only still skeptical for these reasons
10:04  grandpacanary | -  In the CMake refactoring Jia was all over the place updating the use of structs and enums
10:04  grandpacanary | -  The exploit `.o` itself throws state all the time inside structs, puts calls as indirect pointers inside structs that are themselves passed around by pointers, making dynamic RE without the symbols a PITC
10:04  grandpacanary | * I am only still skeptical for these reasons
10:04  grandpacanary | -  In the CMake refactoring Jia was all over the place updating the use of structs and enums
10:04  grandpacanary | -  The exploit `.o` itself throws state all the time inside structs, puts calls as indirect pointers inside structs that are themselves passed around by pointers, making dynamic RE without the symbols a PITA
10:07             ---|---> mikecmpbll [~mikecmpbl@92.40.189.136.threembb.co.uk] has joined #xz-backdoor-chat
10:08      kam821[m] | <_discord_609041026644049945[m]> "https://github.com/snappyJack/..." <- that sounds like some motivational guru shit
10:09  grandpacanary | * I am only still skeptical for these reasons... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/LPesMhcyITMOkzjlQmUGCggf>)
10:16             ---|---> er [~er@44-174-190-90.dyn.estpak.ee] has joined #xz-backdoor-chat
10:16  scatterflower | #JeSuisJiaTan
10:17  u4315u4312u43 | More like #WoShiJiaTan
10:17  grandpacanary | I am biased tho... I have spent a lot of my paid time updating high level dependencies to old C/C++ going, so my brain says why fkn do the whole rewrite unless a major big feature needs to be done in it, a whole internal rewrite needs to happen bc reasons.    What was Jia's major feature he added... the RISCV support?   That was it, right?
10:18  grandpacanary | * bc reasons (security driven, upcoming under-dependency is going to get yeeted, etc).    What
10:19  scatterflower | grandpacanary[m]: he did add ifunc support to the crc functions... lol
10:20             ---|---> _discord_161548333582778368[m] [~discor_47@2001:470:1af1:101::1:4d0d] has joined #xz-backdoor-chat
10:20  _discord_1615 | btw guys i've been idling in tukaani irc for a while - Larhzu has been active for a half hour or so - if anyones interested i can paste his chats in here
10:21  grandpacanary | _discord_161548333582778368[m]: I will send him $500 to come here cashapp
10:21     dumpx86[m] | x-posting: We have a new channel to discuss OSINT / Recon stuff related to Jia #xz-backdoor-osint
10:22     kaos_iv[m] | grandpacanary[m]: i believe that someone of the team must be here, it would be stupid of them not to
10:24             ---|User: *** _discord_161548333582778368[m] is now known as kiveris[m]
10:24  *   kiveris[m] posted a file: (5KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/7e01e6fed4c6ab68f9b8f9d2bfa3c8c2717c9e571774850298112638976/message.txt >
10:24     kiveris[m] | this is not formatted in any way - just removed user joining/leaving messages
10:24     kiveris[m] | * this is not formatted other than a little spacing - just removed user joining/leaving messages
10:24     kiveris[m] | * this is not formatted other than a little spacing & removed user joining/leaving messages
10:25             ---|User: *** _discord_838601842086248469[m] is now known as no023456789[m]
10:27  _discord_6598 | <grandpacanary[m]> "* I am biased tho... I have..." <- multithreaded decoding
10:27             ---|User: *** _discord_659897428417445909[m] is now known as rlrevell[m]
10:28             ---|---> foxboron[m]1 [~discord10@2001:470:1af1:101::1:4d0e] has joined #xz-backdoor-chat
10:28   foxboron[m]1 | kiveris[m]: Liberal.chat doesn't allow logging of channels unless explicitly noted in the topic. Please don't forward chat logs from people without consent. Thanks
10:28             ---|---> Barto [~barto@0002b798.user.oftc.net] has joined #xz-backdoor-chat
10:28   foxboron[m]1 | s/Liberal/Libera/
10:28     kiveris[m] | my bad!
10:29   foxboron[m]1 | kiveris[m]: No worries
10:29     kiveris[m] | not a regular on libera
10:29  grandpacanary | rlrevell[m]: which right now everybody uses `pigz` for.  :thonking:
10:29    rlrevell[m] | rlrevell[m]: but that seemed like it was just to establish competence
10:29  _cra2yman_0[m | In addition, whether this incident may have some similarities with the solarwinds supply chain at that time does not mean that I accuse this from the same attacker.
10:29             ---|User: *** _cra2yman_0[m] is now known as _cra2yman_[m]
10:30  _cra2yman_[m] | I haven't analyzed the implantation of its infection development environment.
10:30   foxboron[m]1 | _cra2yman_[m]: It doesn't. That was a compromise of the distribution server.
10:30             ---|---> shenanigansd[m] [~discor_48@2001:470:1af1:101::1:4d0f] has joined #xz-backdoor-chat
10:30  grandpacanary | rlrevell[m]: I wanna say that was a goal of Lasse since `pigz` solved it already so if the dream was to make `xz` more useful... yeah.    Can't say either way.
10:31             ---|User: *** _discord_332968312373903360[m] is now known as num0005[m]
10:31     harald_[m] | hello
10:31  scatterflower | what has larhzu been saying on irc
10:31     harald_[m] | what happened to the server
10:31     harald_[m] | lol
10:31  _cra2yman_[m] | foxboron[m]1: More precisely, how to better embed it to avoid some censorship.
10:32  _cra2yman_[m] | It seems that solarwinds' supply chain also embeds some codes that conform to the original project. From the current reverse results, the author of the back door has a deep understanding of lzma's project.
10:32 @           js | @room Since we are getting more and more rooms, there is a Matrix space now containing all rooms with the address #xz-backdoor:nil.im. Those on Discord don't need to do anything, as a server always shows all room. Those on IRC can use /LIST to see all rooms starting with #xz-backdoor-, I suppose.
10:33        xorAxAx | /list #xz-backdoor
10:33        xorAxAx | /list #xz-backdoor*
10:34        xorAxAx | (works)
10:34      laanwj[m] | thanks, that's useful
10:37             ---|---> BradleyReynolds[m] [~shenaniga@2001:470:1af1:101::1:4d10] has joined #xz-backdoor-chat
10:39  galacticbeat[ | <foxboron[m]1> "* Libera.chat doesn't allow..." <- that's not very "Libera" of it.
10:40             ---|---> andreyv [~andrey@0001bc7d.user.oftc.net] has joined #xz-backdoor-chat
10:40  galacticbeat[ | name your irc network freedom. start with list of demands.
10:41             ---|---> _discord_316260632133369856[m] [~discord31@2001:470:1af1:101::1:4d11] has joined #xz-backdoor-chat
10:41  _discord_3162 | have linux distros converged on a "safe" old version of xz yet?
10:41             ---|User: *** _discord_316260632133369856[m] is now known as _bluss[m]
10:44             ---|---> segmentationviolation[m] [~segmentat@2001:470:1af1:101::1:4d12] has joined #xz-backdoor-chat
10:45 @           js | I don't think yet
10:45 @           js | Another topic is if XZ should be dropped entirely. The fact that Jia sabotaged sandboxes is a strong indication IMO that he's sitting on a 0day against XZ, so it's possible that unxz foo.xz does code execution.
10:46     num0005[m] | what could you even replace it with
10:46 @           js | zstd
10:46             ---|Channel: mode/#xz-backdoor-chat [+o wrc] by ChanServ
10:46 @           js | Or even plain gz ain't that bad
10:46        andreyv | js: Was anything other than Linux landlock in CMake files sabotaged?
10:46 @           js | andreyv: Capsicum was also removed from autotools builds
10:47        andreyv | Thanks
10:47 @           js | So there certainly seems to be a strong desire to sabotage sandboxes - which only makes sense if you're sitting on a 0day
10:47 @           js | I'd only extract .xz files in VMs for now
10:47             ---|---> _discord_623361891174973440[m] [~discord62@2001:470:1af1:101::1:4d13] has joined #xz-backdoor-chat
10:47  _discord_6233 | What could be the purpose of this "kill switch" string ? https://twitter.com/WhichbufferArda/status/1774729956834123876
10:48       harmathy | num0005[m]: There is [pixz](https://github.com/vasi/pixz)
10:48      _mark_[m] | I saw some screenshot which suggested that Jia had clones of zstd and had deleted them after people found out about the backdoor.  Whether it was legit or not, I do not know.
10:49     num0005[m] | harmathy: it only has two contributors
10:49     num0005[m] | isn't really much of an improvement
10:49             ---|---> _discord_133348672976060416[m] [~discord13@2001:470:1af1:101::1:4d14] has joined #xz-backdoor-chat
10:49        andreyv | _mark_[m]: https://web.archive.org/web/20240329163626/https://github.com/JiaT75
10:49  _discord_1333 | _mark_[m]: yes, I have a copy of that repo
10:50  loganaden5095 | js: Yes. Likely. I also believe that.
10:51  loganaden5095 | It shouldn't be dropped entirely
10:51  loganaden5095 | Just carefully audited
10:51      _mark_[m] | zstd and lz4
10:52  loganaden5095 | <js> "Another topic is if XZ should be..." <- https://cyberstormdotmu.blogspot.com/2024/03/xz-without-seatbelts.html?m=1
10:53             ---|---> alecmocatta[m] [~discord47@2001:470:1af1:101::1:4d15] has joined #xz-backdoor-chat
10:53  * alecmocatta[ uploaded an image: (281KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/ff1f325e2dd68853d24cdfb41d55e259983f0efe1774857619094110208/image.png >
10:53  alecmocatta[m | <_mark_[m]> "I saw some screenshot which..." <- if you meant this then it's a red herring. github idiosyncrasy https://github.com/JiaT75/zstd/branches/all
10:53      _mark_[m] | that may have been it.  Was that a result of gh banning the account?
10:54             ---|---> advern[m] [~advernmat@2001:470:1af1:101::1:4cfc] has joined #xz-backdoor-chat
10:55      _mark_[m] | also, it looks like no changes were made.. at least changes which were committed + pushed
10:56  alecmocatta[m | no, happens for normal accounts also. if you go to the "all branches" page for any stale repo, it says "now" with the @ghost avatar. and then caches that time, so then shows "5 minutes ago", "3 days ago", etc
10:56      laanwj[m] | i doubt xz is any more risky than many other C libraries, if you exclude the changes since Jia, though it's certainly good to audit things of course, but dropping it just because it was the target of this is kinda... lashing out unreasonably imo
10:58      laanwj[m] | yeah his zstd fork didn't seem to have any changes
10:59             ---|User: *** _discord_303560384747667459[m] is now known as oachkatzloarsch[m]
11:00       Jan[m]12 | While trying to understand ssh forking behavior, I came across UsePrivilegeSeparation which is said to default to sandbox and thus provide some level of sandboxing for some pre-auth unprivileged (?) process. https://jfrog.com/blog/examining-openssh-sandboxing-and-privilege-separation-attack-surface-analysis/
11:01       Jan[m]12 | which of the processes would be the one where the system() call introduced by the backdoor happens?
11:01             ---|---> arraybolt3_ [~arraybolt@2607:fb91:1126:8371:c6ad:209b:f64:79dc] has joined #xz-backdoor-chat
11:02       fn0rd[m] | https://useful-forks.github.io/ allows you to find useful forks of a project. Yes, I noticed he forked a couple of projects, but did not seem to have development on it (at least, in public, cause he also had development on private repos)
11:04  itzswirlz0[m] | <midar3[m]> "@room Hi everyone! While so..." <- I could mod, at least for like, this week since im on spring break?
11:04             ---|User: *** itzswirlz0[m] is now known as itzswirlz[m]
11:07             ---|<<-- arraybolt3 [~arraybolt@2607:fb91:11d0:cf53:64c5:5006:5f95:41bd] has quit (Ping timeout: 480 seconds)
11:11      _bluss[m] | xz didn't have an active debian maintainer and that's another reason it was a good target. So two layers of maintainers were inactive
11:11        xorAxAx | jia was a maintainer
11:11      _bluss[m] | an active debian devel could be interested in having pristine source tarballs etc
11:11        xorAxAx | or technically, still is (maybe?)
11:14       fn0rd[m] | maintainer of what?
11:14        xorAxAx | xz-utils
11:14             ---|---> _discord_686253025970356309[m] [~discord68@2001:470:1af1:101::1:4d17] has joined #xz-backdoor-chat
11:14  _discord_6862 | Fnord
11:15        xorAxAx | libxz
11:15  _discord_6862 | the repo i think
11:17       fn0rd[m] | nope
11:19       fn0rd[m] | Jia never had commit access on git.tukaani.org; they had commit access on https://github.com/tukaani-project/xz and on xz.tukaani.org (CNAME is now removed)
11:20             ---|---> _discord_660066004059029524[m] [~discord66@2001:470:1af1:101::1:4d19] has joined #xz-backdoor-chat
11:22        xorAxAx | thats interesting because he was marketed as second upstream maintainer
11:23             ---|---> brondolongwood_12215[m] [~discor_48@2001:470:1af1:101::1:4d1a] has joined #xz-backdoor-chat
11:26       aciid[m] | Yooo wtf
11:26       aciid[m] | https://github.com/orgs/Homebrew/discussions/5243
11:26       aciid[m] | They tried to get it to homebrew
11:26       aciid[m] | Same night
11:27   itzswirlz[m] | no way
11:27     brlintw[m] | https://discord.com/channels/1223666474091020432/1224407864307880047/1224422903815340132
11:27     brlintw[m] | Don't allow ANY binaries in the source tree is probably the way to go?
11:27   itzswirlz[m] | man didnt know
11:28  shenanigansd[ | itzswirlz[m]: Or maybe he did
11:28   itzswirlz[m] | same nighta s 5.6 release?
11:28   itzswirlz[m] | and username is atncsj6h
11:28   itzswirlz[m] | hm
11:28  shenanigansd[ | * Or maybe he did
11:28  shenanigansd[ | :sus:
11:30       aciid[m] | yes also new account to OSINT!
11:30      laanwj[m] | there's no point getting it to homebrew if the goal is to spread the backdoor, the backdoor doesn't work on macos for several reasons: first stage explicitly checks for linux, it's an ELF object, macos dynlinker works different, there's no systemd importing lzha into sshd, and so on
11:32  shenanigansd[ | <brlintw[m]> "https://discord.com/channels/122..." <- Generally, yeah
11:32  shenanigansd[ | Security reasons aside, they're annoying to deal with and almost always better handled elsewhere
11:34             ---|User: *** _discord_747428452411506819[m] is now known as julianor[m]
11:36  shenanigansd[ | I only have two repos with binary files
11:36  shenanigansd[ | One is a proprietary database driver, which... is published as an `.exe` that when run extracts itself into the CWD. Whoever thought that was a good idea should be shot.
11:36  shenanigansd[ | And the other is some images that I haven't setup a CDN for yet.
11:36  shenanigansd[ | Which is actually a good example of binary files that shouldn't be in the repo
11:36  shenanigansd[ | A CDN could cache those images in a POP that was much closer to the user than GitHub coudl
11:36  shenanigansd[ | s/coudl/could/
11:38  shenanigansd[ | shenanigansd[m]: There's nothing "wrong" with the images themselves, GitHub is currently handling them just fine, but a dedicated system, like Cloudflare for example, would bring a whole lot more oppertunity and tooling to the table.
11:39             ---|<--- advern[m] [~advernmat@2001:470:1af1:101::1:4cfc] has left #xz-backdoor-chat ()
11:44      _mark_[m] | there are probably policies about reposting stuff from irc here, so I will paraphrase, but lasse has stated that he learned one new thing, and that it is something that the public can not know right now.
11:45      _mark_[m] | he will comment on it later to make sure that he has it right to avoid speculation
11:46      _mark_[m] | \U0001f937\u200d\u2642\ufe0f
11:46             ---|---> orfeo5862[m] [~discor_48@2001:470:1af1:101::1:4d1b] has joined #xz-backdoor-chat
11:46   orfeo5862[m] | Suspense !
11:46  herzeleid02[m | _mark_[m]: omg is it going to be worse now
11:46  sophrosyne420 | Has Jia ever spoken since the backdoor was revealed?
11:46             ---|User: *** sophrosyne420[m] is now known as sophrosyne42[m]
11:47             ---|<<-- hiItsMe [~hiItsMe@2a0e:1c80:14:0:45:15:18:72] has quit (Quit: gone)
11:47      _mark_[m] | herzeleid02[m]: don't speculate!  \U0001f642
11:50     kiveris[m] | <_mark_[m]> "there are probably policies..." <- yeah this stood out to me as well. i'm not sure i've ever even seen a movie, or played any game that has had me so invested in the story, lol.
11:51      laanwj[m] | reading Kim Zetter's book about stuxnet came close, but agree
11:54        tty6[m] | <sophrosyne42[m]> "Has Jia ever spoken since the..." <- Lasse says no and they were supposed to be offline during Easter
11:56     kiveris[m] | stuxnet was fascinating to read about - though as i have aphantasia, experiencing such an event vs reading about it is night and day
12:00  _discord_5197 | <aciid[m]> "https://github.com/orgs/Homebrew..." <- This is post-discovery (after Andres's oss-security thread), and looks like a normal user being surprised that a package was downgraded. Unless there's a sign I'm missing?
12:00             ---|User: *** _discord_519762651815870464[m] is now known as thejakeschmidt[m]
12:01  thejakeschmid | (that message is in regards to the Homebrew issue; I'm not sure if Discord's reply-to makes it through the wormholes)
12:02      laanwj[m] | it does make it to matrix, it seems
12:03  * shenanigansd uploaded an image: (107KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/6ae1c81d8360606a6056465af7211e26c18aef541774875160633933824/image.png >
12:03  shenanigansd[ | thejakeschmidt[m]: looks like this
12:03       gmod9[m] | <shenanigansd[m]> "I only have two repos with..." <- i have some lib files that are statically linked in my repos
12:04       gmod9[m] | because i don't feel like rebuilding the same depts everytime
12:04   orfeo5862[m] | gmod9[m]: Boo!
12:04      laanwj[m] | but unless there's another issue in xz/liblzha, i don't think we need to be worried about homebrew or any user proposing it there, let's not unnessecarily rope people into this
12:06       gmod9[m] | i mean msvc forces me to rebuild them once a new version comes out
12:07             ---|---> _discord_265096437937864705[m] [~discord26@2001:470:1af1:101::1:4d1d] has joined #xz-backdoor-chat
12:08             ---|User: *** Foobar9222[m] is now known as foosec[m]
12:10             ---|<<-- andreyv [~andrey@0001bc7d.user.oftc.net] has quit (Ping timeout: 480 seconds)
12:16             ---|<<-- zhli [~zhli@DN2lk4339.stanford.edu] has quit (Quit: zhli)
12:16      obfusk[m] | I never liked having binary test files in e.g diffoscope. but it needs to test support for hundreds of file formats. and e.g. regenerating APKs during build would require an entire android toolchain. others obscure or proprietary platforms, etc. and some files are impossible to regenerate deterministically, which is the whole reason for having them as test cases.
12:16      obfusk[m] | best I can think of in such cases is always running tests in isolation, making sure the actual build never has access to the test files. but idk.
12:21             ---|---> n0v0cane[m] [~discord52@2001:470:1af1:101::1:4d1e] has joined #xz-backdoor-chat
12:21    n0v0cane[m] | <laanwj[m]> "there's no point getting it to..." <- Homebrew (or perhaps forks of homebrew) work on other platforms, such as windows, android and a few other places
12:21       fn0rd[m] | linuxbrew it is called for Linux
12:23       fn0rd[m] | macOS does not use glibc, nor Systemd, nor does it use Linux kernel (so the early stage of malware would've exit 0), there is also no ldd(1) but otool-classic(1)
12:24  tyrheimdal[m] | There are of course reasons to believe they wouldn't put all their eggs in one basket. But it could be implemented in a widely different way, which can't just instantly be discovered by looking for the same procedures taken. Also keep in mind this was years of effort to pull off, and required a lot of stars aligning to get maintainer access and slip it through peer reviewing. And it still failed to have a long life time.
12:24  tyrheimdal[m] | Should we do line-by-line analysis of every single remotely popular package? Probably not. Should we try to identify projects with similar traits and problems that allowed this to happen and compromise widely? Yes.
12:25       fn0rd[m] | he was using his legend building as maintainer of xz-utils to achieve more legacy in various OSes. If a couple switched to xz 5.6.x, then more follow. Esp those derived from Debian Testing/Sid and Ubuntu Testing
12:25       fn0rd[m] | Kali, for example, is based on Debian Testing
12:26    n0v0cane[m] | tyrheimdal[m]: It's probably good to audit source trees with checked in binaries
12:28  tyrheimdal[m] | This can still be possible by cleverly utilizing stale source code, mixing it together to the payload etc. without hiding it in binaries. Harder, but doable.
12:30             ---|---> Teeed7744[m] [~discor_49@2001:470:1af1:101::1:4d1f] has joined #xz-backdoor-chat
12:30      laanwj[m] | text files that have a lot of hard to review, spammy changes, such as the translation files could qualify, but in general anything text attracts a lot more questions and scrutiny, of course that doesn't help if there's no active maintainer or reviewers
12:30             ---|---> _discord_464686705056940032[m] [~discord46@2001:470:1af1:101::1:4d20] has joined #xz-backdoor-chat
12:30  _discord_4646 | How does the ifunc hooking work? What is actually changing the resolver functions?
12:33             ---|---> zhli [~zhli@DN2lk434q.stanford.edu] has joined #xz-backdoor-chat
12:34      laanwj[m] | ifunc resolver functions are called by the dynamic linker at process launch time, before the got is mapped read-only, the crc32 and crc64 one in turn call _cpuid which starts the backdoor initialization, which hooks the ssh/ssl functions
12:37             ---|<<-- arraybolt3_ [~arraybolt@2607:fb91:1126:8371:c6ad:209b:f64:79dc] has quit (Quit: Konversation terminated!)
12:37             ---|---> arraybolt3_ [~arraybolt@2607:fb91:1126:8371:c6ad:209b:f64:79dc] has joined #xz-backdoor-chat
12:38             ---|<<-- arraybolt3_ [~arraybolt@2607:fb91:1126:8371:c6ad:209b:f64:79dc] has quit ()
12:38             ---|---> arraybolt3_ [~arraybolt@172.59.224.104] has joined #xz-backdoor-chat
12:42             ---|---> salusasecondus[m] [~discord43@2001:470:1af1:101::1:4d22] has joined #xz-backdoor-chat
12:56             ---|---> Powermachine1688[m] [~discor_49@2001:470:1af1:101::1:4d23] has joined #xz-backdoor-chat
12:58  stan423321[m] | <js> "I'd only extract .xz files in..." <- does the original lzma sdk count?
13:02             ---|---> somemisopaste[m] [~discord60@2001:470:1af1:101::1:4d24] has joined #xz-backdoor-chat
13:02  somemisopaste | <laanwj[m]> "ifunc resolver functions are..." <- yes but how does the redirection occur if the real rsa function doesn't already use ifunc mechanism? i'm having a hard time figuring out the ifunc system
13:03 @           js | stan423321[m]: I mean, if he's sitting on a 0day, that might be in there as well, yes
13:03      laanwj[m] | somemisopaste[m]: to be clear, the ifunc system doesn't do any hooking, they overwrite the got table in the backdoor (which is possible due to the function being called so early in the dynamic linker process)
13:06      laanwj[m] | the mechanism is described in the original openwall post https://www.openwall.com/lists/oss-security/2024/03/29/4
13:10      laanwj[m] | without the early opportunity for hooking that the ifunc resolver gives it would still be possible to do this, but would involve mmapping the got tables rw then back to rx which is suspicous and may be detected
13:15  stan423321[m] | <js> "I mean, if he's sitting on a..." <- well @#$%, looks like I need to add rewriting lzma to my backlog
13:17  svenquakesson | What\u2019s the purpose of the \u2014sort-section=name that the malicious scripts inject into ldflags?
13:20      laanwj[m] | i also wondered about that, it may have something to do with symbol resolving order
13:21  _discord_4646 | <laanwj[m]> "ifunc resolver functions are..." <- Thanks!
13:22  cl0pinette[m] | this is not the only different flag : 
13:22  cl0pinette[m] | the -Werror=security-format was removed
13:22  cl0pinette[m] | -fno-lto, -ffunction-sections and -fdata-sections were added
13:22 @           js | <stan423321[m]> "well @#$%, looks like I need..." <- Fun fact: I had this on my backlog for quite a while \U0001f604.
13:22 @           js | So far I have only implemented DEFLATE
13:22 @           js | but hey, we at least have an open source DEFLATE implementation that isn't zlib \U0001f609
13:23      laanwj[m] | alternatively, the liblzma_la-crc64-fast.o has a lot of sections, one for every function and data structure, maybe the order in which they appear in the binary is important somehow
13:23 @           js | https://objfw.nil.im/
13:23 @           js | There's also a command line util called `ofarc` which can extract zip, gz, tgz, lha and zoo
13:23 @           js | adding lzma and xz was on my to do list for when I have too much time
13:23             ---|---> ech1965[m] [~discord51@2001:470:1af1:101::1:4d26] has joined #xz-backdoor-chat
13:26      laanwj[m] | isn't there an xz implementation in rust or some other memory safe language yet, or is it just bindings
13:27      foosec[m] | Do we know at this time if systems that werent running sshd had any other ill effects?
13:28      foosec[m] | Saw something about lasse discovering something not yet for the public, im guessing not out yet?
13:28             ---|User: *** _discord_428716613240619008[m] is now known as upsetdoggo[m]
13:28 @           js | https://marc.info/?l=openbsd-cvs&m=171200100510963&w=2
13:29             ---|<<-- zhli [~zhli@DN2lk434q.stanford.edu] has quit (Quit: zhli)
13:29         beber_ | 2024/04/01 :)
13:30 @           js | Unfortunately they didn't actually import it: http://cvsweb.openbsd.org/src/gnu/usr.bin/
13:30 @           js | (or cvsweb is behind)
13:31      laanwj[m] | <svenquakesson[m]> "What\u2019s the purpose of the \u2014sort..." <- the -X flag to the linker is interesting too "discard local symbols", i would guess having no internal symbols for some functions but not others would be a giveaway.... oooH i understand why `\u2014sort-section=name` and `ffunction-sections` is used!!! they don't want all the code and data from the backdoor .o in one block, but interleaved with the existing functions,
13:31      laanwj[m] | hence the fake symbol names that look like real ones
13:32      laanwj[m] | sneaky
13:32  svenquakesson | <laanwj[m]> "alternatively, the liblzma_la-..." <- That\u2019s good point, I\u2019m not sure what\u2019s the final layout in compiled so is, but that could be just a trick to shuffle bits and make the analysis harder.
13:32      laanwj[m] | * real ones (but slightly perturbed)
13:32  cl0pinette[m] | yeah all functions are shuffled in the .so
13:33      laanwj[m] | yes, it is, it makes sense
13:33      laanwj[m] | it's really impressive how much work was put in obfuscating this
13:35     ech1965[m] | laanwj[m]: Might be developed by a group of people "used to do it" and they are just reusing their "framework"
13:37             ---|---> _discord_165540221100752897[m] [~discord16@2001:470:1af1:101::1:4d27] has joined #xz-backdoor-chat
13:39             ---|---> obafgkm[m] [~discord21@2001:470:1af1:101::1:4d28] has joined #xz-backdoor-chat
13:39  *   obafgkm[m] uploaded an image: (91KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/9289d090f13a751256cace0e7415821b73e2660c1774899451656142848/image.png >
13:39             ---|User: *** _discord_503014684119662592[m] is now known as nuxi7[m]
13:39  *   obafgkm[m] uploaded an image: (31KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/d0c39d231240ea97759d529cb12fe0dd6888f3d41774899458769682432/image.png >
13:39     obafgkm[m] | <laanwj[m]> "alternatively, the liblzma_la-..." <- there are a lot of relocation sections that affect the code, first image is the code before relocations are applied (viewed in gdb) and looks innocuous, second is the code after relocations (viewed in ida) which calls into the malicious part of the binary
13:40 @           js | <laanwj[m]> "the -X flag to the linker is..." <- I mean most local symbols in compiled code are .L5, .L12, etc.
13:40 @           js | nobody wants those \U0001f642
13:41 @           js | and as a nice side effect, it strips the misleading local symbols in the malicious .o
13:41      laanwj[m] | <ech1965[m]> "Might be developed by a group of..." <- yes that may be the case; if there's code reuse it may be used for attribution, if someone recognizes parts, or even that automatic signature matching could find commonalities with other exploit frameworks/implants
13:41             ---|---> pr0lefeed [~pr0lefeed@110.47.208.46.dyn.plus.net] has joined #xz-backdoor-chat
13:45  urbanhacker_8 | Wow, I was offline for a few hours so many message. ANything exciting?
13:46       nuxi7[m] | <js> "https://marc.info/?l=openbsd-cvs..." <- Lol, i just basically did this same prank at work
13:46             ---|---> _discord_764221445601099846[m] [~discor_50@2001:470:1af1:101::1:4d2a] has joined #xz-backdoor-chat
13:48             ---|---> NexAdn [~nex@0002951b.user.oftc.net] has joined #xz-backdoor-chat
13:48  stan423321[m] | well during my few hours off we got a separate "who in the world is Jia Sandiego" channel
13:49             ---|<<-- pr0lefeed [~pr0lefeed@110.47.208.46.dyn.plus.net] has quit (Ping timeout: 480 seconds)
13:51      foosec[m] | <urbanhacker_81768[m]> "Wow, I was offline for a few..." <- supposedly lasse found something significant but is not yet ready for the public
13:51      foosec[m] | And wants to make sure its correct
13:51  urbanhacker_8 | Oo, source? Did he updated his response on his page?
13:51      foosec[m] | https://discord.com/channels/1223666474091020432/1223699626545119424/1224429315794669621
13:51      audave[m] | he\u2019s been active on irc for hours
13:52  urbanhacker_8 | stan423321[m]: I think Jia is satoshi nakamoto. Both where mysterious, both got scared when their masterpiece got wider attention, both had strong privacy focus. Seems like match
13:55             ---|---> essil[m] [~discord83@2001:470:1af1:101::1:4bb0] has joined #xz-backdoor-chat
13:58  urbanhacker_8 | Any places where I can look for irc logs?
14:05  stan423321[m] | this is where the things get murky. apparently the server in question defaults to a ruleset of disallowing chat copying?
14:07  urbanhacker_8 | its on libera right? tukaani or so
14:08             ---|---> _discord_264861759607668737[m] [~discord26@2001:470:1af1:101::1:4d2b] has joined #xz-backdoor-chat
14:08  _discord_2648 | btw what about the other maintainer did he make any public statements so far about this? i read he is going from time to time on those off the grid breaks from anything internet and ppl been trying to contact him
14:08      foosec[m] | _discord_264861759607668737[m]: yes he is active on irc
14:08      foosec[m] | and already started cleaning things up a bit
14:09  _discord_2648 | i see, thx for info
14:09      foosec[m] | I am still concurned about there being an already active XZ vuln due to the landlock removal, this could allow them to exploit things way down the line if not found
14:10 @           js | <nuxi7[m]> "Lol, i just basically did this..." <- I'm still surprised people fell for mine: https://objfw.nil.im/wiki?name=News&p
14:10      midar3[m] | <_mark_[m]> "there are probably policies..." <- Do you have a pointer to IRC logs or something?
14:11 @           js | <foosec[m]> "https://discord.com/channels/122..." <- BTW, if you want to point to a message, best to quote it, as discord links are not translated via the bridge, meaning they are inaccessible to users on Matrix or IRC
14:12      foosec[m] | js: Thanks
14:13 @           js | My prediction about the entire lasse thing:
14:13 @           js | There is an RCE bug that was added by Jia. He will put out a new release that fixes it. Nobody will trust this new release because it is just too convenient an excuse to make people download a new backdoored release. xz will die.
14:14      foosec[m] | That seems unlikely
14:14             ---|---> Robert0004[m] [~discord16@2001:470:1af1:101::1:4d2c] has joined #xz-backdoor-chat
14:14  Robert0004[m] | Or, xz gets forked to new developers
14:15    n0v0cane[m] | Maybe in its current form. But xz is good compression. Maybe some trusted entity will take on maintenance or fork it
14:15      foosec[m] | Honestly lasse can probably be tied to an actual person, at which point trust would go pretty up
14:15      foosec[m] | Someone has to own tuukani
14:15    n0v0cane[m] | No one found any actual malice from lasse as far as I know
14:15    n0v0cane[m] | I hope it can be determined one way or the other
14:16      foosec[m] | He would probably be in jail by now if that were the case
14:16 @           js | sure, but people are very suspicious now - and we don't know if lasse didn't get owned
14:16 @           js | who knows, maybe he uses debian unstable and got owned? \U0001f609
14:16  Robert0004[m] | Is Jia being UTC+8 accurate, or him trying to hide his location
14:16   lindi0533[m] | Yes Lasse is a real person \U0001f642
14:16 @           js | Robert0004[m]: #xz-backdoor-osint:nil.im 
14:16      foosec[m] | js: Like most linux users who roll some version of a rolling release
14:17      foosec[m] | If this has some other mechanism that would be owning desktop linux users, in my eyes it will be very bad
14:17  user15kace[m] | Robert0004[m]: i personally doubt it
14:18  stan423321[m] | Robert0004[m]: There are random UTC+2 commits that make it unlikely (though whether these are real is another story)
14:18 @           js | foosec[m]: Nah, it was only rolling release on Debian/Fedora that got you the backdoor
14:18      foosec[m] | js: and openSUSE
14:19      foosec[m] | Others like arch and derivatives didn't have the build process that would link liblzma to sshd but since we don't really know everything about it, it could still be active in other ways
14:19      foosec[m] | or the actual XZ binary could be
14:19        bjo[m]1 | js: iirc he mentioned in irc he runs Arch 
14:20  urbanhacker_8 | arch is one of the affected one
14:20  Robert0004[m] | How can an arch user not mention to someone that they use arch
14:20       fn0rd[m] | Fedora
14:20  user15kace[m] | https://tenor.com/view/linux-chad-arch-arch-linux-chad-user-gif-21904978
14:20       fn0rd[m] | Arch is not affected, never was
14:20        bjo[m]1 | urbanhacker_81768[m]: But not affected as deb unstable 
14:20     num0005[m] | Robert0004[m]: you mean nixos
14:21 @           js | urbanhacker_81768[m]: Wait what? Did they use the Debian patches that creates debian/rules? I doubt that makepkg sets $RPM_ARCH
14:21  Robert0004[m] | num0005[m]: I use nixos btw doesn't have quite the same ring to it though
14:21       fn0rd[m] | I think NixOS was affected, too?
14:21        bjo[m]1 | js: No and they don't use the systemd patch 
14:22             ---|---> _discord_1074986753125007390[m [~discor_50@2001:470:1af1:101::1:4d2d] has joined #xz-backdoor-chat
14:22             ---|---> cdr0[m] [~discord14@2001:470:1af1:101::1:4d2e] has joined #xz-backdoor-chat
14:22        cdr0[m] | fn0rd[m]: backdoor checks to see if it's /usr/sbin/sshd, not /nix/store/mzx8sgjkw7x2p...
14:22       fn0rd[m] | ah good catch
14:22       fn0rd[m] | /usr/sbin/sshd is probly a symlink
14:23  stan423321[m] | is arch affected? depends on definition of affected. fetched bad tarballs? yes. has known sshd problems? no
14:23        cdr0[m] | nixos doesn't even have a /usr/sbin (or /sbin)
14:23     num0005[m] | nix probably doesn't use deb or rpm right?
14:23        cdr0[m] | and yeah wasn't rpm or deb either
14:24             ---|<<-- Mooncairn [~mooncairn@0002c5b1.user.oftc.net] has quit (Quit: Leaving)
14:24  urbanhacker_8 | Sorry my bad I missed, it was kali that was affected not arch
14:24        bjo[m]1 | stan423321[m]: And didn't load lzma
14:24        cdr0[m] | urbanhacker_81768[m]: yeah still funny that kali could be the most impacted
14:25     num0005[m] | nix isn't like a traditional package manager anyways right?
14:25  _discord_7706 | are there any reports of secondary malware infections after having the exploit installed?
14:25             ---|User: *** _discord_770659603452133426[m] is now known as jwt27[m]
14:25     num0005[m] | it's like a separate docker for each program sortof setup
14:25    prototux[m] | num0005[m]: definively isn't
14:25    prototux[m] | jwt27[m]: nope, unlikely to happen
14:26       jwt27[m] | prototux[m]: unlikely, why's that?  they had instant root access.
14:27      foosec[m] | Exactly, why install anything to make it known
14:27    prototux[m] | jwt27[m]: targets won't report
14:27  user15kace[m] | open source no one looks at source
14:27  user15kace[m] | \U0001f430
14:28      foosec[m] | Actually, did opensuse link systemd-notify?
14:28    prototux[m] | user15kace[m]: woyldn"t chang anything
14:28    prototux[m] | s/chang/change/
14:28  user15kace[m] | prototux[m]: that's the joke
14:28    prototux[m] | * wouldn"t change anything
14:29        bjo[m]1 | user15kace[m]: Source of scrambled testfiles?
14:29             ---|---> _discord_582600945087676450[m] [~discord58@2001:470:1af1:101::1:4d31] has joined #xz-backdoor-chat
14:29  _discord_5826 | Do we have any idea how far back this back door goes.  From what I gather the actor was slowly injecting back door code into the library for some while before 5.6.0 and 5.6.1 made the back door apparent to the Fruend.
14:29  stan423321[m] | jwt27[m]: one, no one will openly boast they had something interesting running on unstable distro. two, if they did anyway, the nature of the attack is that it will be hard to detect anything
14:29             ---|User: *** _discord_582600945087676450[m] is now known as cyberpower678[m]
14:30  user15kace[m] | bjo[m]1: wasn't referring to that
14:30    prototux[m] | cyberpower678[m]: start of 2024 at earliest, from what is known
14:30  cyberpower678 | Well that fornutately completely eliminates some of my debian based prod environments.
14:30             ---|<<-- beber_ [~beber_@2a05:d018:c28:1a00:fd:d0ae:0:5222] has quit (Quit: Gateway shutdown)
14:31    prototux[m] | cyberpower678[m]: if it's prod, should be stable, stable isn't infected
14:31  cyberpower678 | That's good, I'm just trying to be damn sure about it.
14:32    rlrevell[m] | prototux[m]: 5.6.0 released 2/24
14:33  stan423321[m] | cyberpower678[m]: if there is something it probably won't count as "this backdoor"
14:33  cyberpower678 | prototux (@_discord_621017259153817601:t2bot.io) the latest xz I have appears to be 5.4.2, so it seems like I shouldn't worry for the time being.
14:33  cyberpower678 | Thank you. \U0001f642
14:33             ---|---> beber_ [~beber_@2a05:d018:c28:1a00:fd:d0ae:0:5222] has joined #xz-backdoor-chat
14:35  cyberpower678 | Well I guess now was as good of a time as any to institute a policy change of moving SSH access for some of my systems to behind a VPN.
14:36             ---|---> _discord_856898354398494770[m] [~discor_50@2001:470:1af1:101::1:4d32] has joined #xz-backdoor-chat
14:36             ---|User: *** _discord_856898354398494770[m] is now known as vegan_anticucho[m]
14:37    prototux[m] | cyberpower678[m]: all of these "well, time to go to wireguard then" makes me want to see if theres'nt the same thing for wireguard...
14:37  cyberpower678 | \U0001f62e
14:37  cyberpower678 | (Glass shattering)
14:38      kam821[m] | prototux[m]: Possibly, but I don't think so. It's not OpenVPN. Wireguard was written from the very beginning to be easy to audit.
14:39    prototux[m] | kam821[m]: you're missing the point
14:43             ---|---> _discord_894035196121325649[m] [~discor_50@2001:470:1af1:101::1:4d33] has joined #xz-backdoor-chat
14:43  _discord_8940 | PRANK THE GOV!!!
14:43  _discord_8940 | \U0001f976
14:47       fn0rd[m] | <prototux[m]> "nope, unlikely to happen" <- after this vulnerability got ousted? Certainly a scenario that could've happened. However, not many run rolling release Debian, Ubuntu, or Fedora (and derivates) in production with OpenSSHd enabled exposed to internet
14:47       f_[xmpp] | who's  _discord_894035196121325649[m] ?
14:47       f_[xmpp] | they appear as _discord_894035196121325649[m on irc
14:48       fn0rd[m] | <cdr0[m]> "yeah still funny that kali could..." <- yeah but who runs OpenSSHd exposed to internet on Kali? like wtf? My Kali wasn't affected, as I updated packages 22 days ago xd
14:48  * stan423321[m uploaded an image: (75KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/fc90ea41bb020a654dd1b93cc4f8874531063dbb1774916866725117952/image0.jpg >
14:50       fn0rd[m] | hence why we consider this whole effort failed, and Jia's boss is probably 'disappointed'
14:50    n0v0cane[m] | 2 year + investment
14:50    prototux[m] | fn0rd[m]: yes
14:51  cyberpower678 | fn0rd[m]: disappointment is punishable by death
14:51    prototux[m] | fn0rd[m]: typical kali user would
14:51       fn0rd[m] | does Kali by default run OpenSSHd?
14:52  stan423321[m] | cyberpower678[m]: ever an optimist
14:54  * urbanhacker_ uploaded an image: (510KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/a237c7755cfe5c46a50313913cba3fb657bdf76e1774918212954095616/iu.png >
14:54       f_[xmpp] | mm ok
14:54  urbanhacker_8 | (jia right now)
14:54  _discord_8940 | <f_[xmpp]> "who's  _h1i ?" <- ur glitched asf
14:55       f_[xmpp] | _discord_894035196121325649[m]: no, the bridge is.
14:55  _discord_8940 | f_[xmpp]: tell the IRC u are on
14:55  _discord_8940 | is it libera chat
14:55       f_[xmpp] | no
14:56  cyberpower678 | stan423321[m]: Someone's gotta be. :p
14:56       f_[xmpp] | oftc
14:56       f_[xmpp] | irc.oftc.net #xz-backdoor-chat
14:57             ---|---> boboponga [~boboponga@131.255.226.135] has joined #xz-backdoor-chat
14:57      boboponga | adasdas
14:57      boboponga | yo
14:57      boboponga | yo
14:57       f_[xmpp] | yes
14:57      boboponga | holy fuck it works omg lmfaoooo aaaa wtf
14:57       f_[xmpp] | of course it does
14:57  _discord_8940 | test
14:58       f_[xmpp] | js ^ bridge bridges as weird "_discord_" + random numbers + "[m]" nicks
15:00      boboponga | how does this IRC channel works
15:02       f_[xmpp] | boboponga: you type messages and you press enter
15:02       f_[xmpp] | e z \U0001f61c
15:03  stan423321[m] | f_[xmpp]: all of us?
15:04      boboponga | didnt know \U0001f92a
15:04     mikecmpbll | is the latest info on the payload RE in https://gist.github.com/smx-smx/a6112d54777845d389bd7126d6e9f504 or are there other sources?
15:05      boboponga | in the XZ commit comments there are people saying stuff and prob some of them created sources too
15:06             ---|User: *** Phil9999[m] is now known as sapphyrus[m]
15:10             ---|---> _discord_954402826686201929[m] [~discord95@2001:470:1af1:101::1:4d36] has joined #xz-backdoor-chat
15:10  _discord_9544 | There's also this https://github.com/amlweems/xzbot
15:10             ---|User: *** _discord_954402826686201929[m] is now known as trxnn4930[m]
15:12             ---|---> zhli [~zhli@DN2lk437d.stanford.edu] has joined #xz-backdoor-chat
15:15     mikecmpbll | thanks :>
15:16      _mark_[m] | <midar3[m]> "Do you have a pointer to IRC..." <- Only for the last few days
15:17             ---|---> mikecmpb1l [~mikecmpbl@179.48.251.105] has joined #xz-backdoor-chat
15:19             ---|---> kingbeencent[m] [~discord47@2001:470:1af1:101::1:4d37] has joined #xz-backdoor-chat
15:19  kingbeencent[ | <Robert0004[m]> "How can an arch user not mention..." <- I use arch btw :3
15:19      boboponga | :skull:
15:22             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.136.threembb.co.uk] has quit (Read error: Connection reset by peer)
15:23 @           js | f_[xmpp]: Yeah, it uses the username, which for discord is unfortunately a number \u2639\ufe0f.
15:23       f_[xmpp] | stan423321[m]: no only some
15:23       f_[xmpp] | js: yeah...
15:24 @           js | <_mark_[m]> "Only for the last few days" <- I mean that's all we need \U0001f642
15:24         wb9688 | Does this bridge to Discord through Matrix?
15:24       f_[xmpp] | wb9688: yeah
15:25         wb9688 | Interesting, I had never seen that with Matrix before, only through e.g. Matterbridge
15:25  scatterflower | i dont get it
15:25       f_[xmpp] | and we see the issues with it..using 2 separate puppeting bridges isn't really a good idea tbh
15:25  scatterflower | how do arch users manage to delude themselves into thinking it makes them some sort of linux graybeard by default
15:25  kingbeencent[ | scatterflower[m]: I am femboy not a greybeard uwu
15:26  kingbeencent[ | xD
15:26  scatterflower | huh
15:27 @           js | wb9688: Yep \U0001f642. The trick is to bridge IRC first and then add Discord so that the IRC bridge doesn't complain it's already bridged \U0001f609
15:28             ---|<<-- mikecmpb1l [~mikecmpbl@179.48.251.105] has quit (Ping timeout: 480 seconds)
15:29         wb9688 | I see
15:29       f_[xmpp] | js: but then things don't work well
15:29       f_[xmpp] | I'd rather use matterbridge
15:29         wb9688 | kingbeencent[m]: Nice
15:29             ---|User: *** boboponga is now known as doodoopoopypoopoomaster
15:30       f_[xmpp] | but that's just my opinion really
15:30  doodoopoopypo | stinky poopoo doodoo peepee poopy poopoo
15:30       f_[xmpp] | ???
15:30             ---|<<-- zhli [~zhli@DN2lk437d.stanford.edu] has quit (Quit: zhli)
15:31  doodoopoopypo | stinky poopoo doodoo peepee poopy poopoo farty party farts farting
15:31 @           js | f_[xmpp]: I could try setting up heisenbridge, but eh, don't really want to screw things up
15:32       f_[xmpp] | but then again, that's using 2 bridges not designed to be used together in the first place
15:35  scatterflower | i feel like learning the linux ecosystem does not come from reinstalling everything constantly just to use a different package manager, or in many cases, default package repository
15:35  scatterflower | there are far more productive things to be done
15:35     mikewii[m] | Its been a long time, i think it was about grub from debian not supporting btrfs
15:35  kingbeencent[ | scatterflower[m]: You can learn a lot from that too, but changing to a proper distro is demanded
15:36    prototux[m] | scatterflower[m]: learning the linux ecosystem definitively comes with testing many distros and learning the differences between these. BSDs too (and solaris or other older unix if you're old enough)
15:36  scatterflower | BSD isnt linux tho
15:36  stan423321[m] | how does that compare to flatpak, dependency management-wise?
15:36  scatterflower | stan423321[m]: they do different things
15:37    prototux[m] | scatterflower[m]: it isn't, but any unix/linux person with enough experience would have dipped his feet in BSDs and other unix systems as well
15:37  scatterflower | freebsd is cool
15:37             ---|<<-- crawler [~crawler@109.245.201.129] has quit (Ping timeout: 480 seconds)
15:38    prototux[m] | stan423321[m]: there's no cross-container deps management, each container contains all the deps for the soft i want to run in it. it takes more space, but makes for a much cleaner filesystem as not every app is throwing his shit all around \U0001f642
15:38  kingbeencent[ | I tried using OpenBSD but I am not that expert enogh
15:38  kingbeencent[ | \U0001f626
15:38  kingbeencent[ | s/enogh/enough/
15:38  scatterflower | i dont like those self-contained executable package systems
15:38  cyberpower678 | I used FreeBSD, but I get more stuff done on debian Linux.
15:39    prototux[m] | stan423321 (@_discord_126400012669157376:t2bot.io) if you want i have the whole thing on my gh as well, but didn't updated it in a long time, i'll need to update that someday as there's fixes and updates on my local version....
15:39  scatterflower | the system has the libs it needs
15:39             ---|<<-- kyub [~kyub@193.32.248.178] has quit (Quit: quitting)
15:39  scatterflower | these days i only use freebsd for my router
15:40    prototux[m] | scatterflower[m]: you may not like it, some people do, that's why there's multiple distros, package managers....
15:40  cyberpower678 | What does a UDM run?
15:40  cyberpower678 | I think it's also linux.
15:40    prototux[m] | cyberpower678[m]: unifi dream machine? some kind of embeded linux (uboot+kernel+busybox+their stuff)
15:40  scatterflower | no idea
15:41  stan423321[m] | prototux[m]: thank you, I doubt I would make use of it anytime soon so don't rush to it
15:41  scatterflower | they feel so overpriced for prosumer router hardware when a mini pc and opnsense are a quarter the price
15:41  scatterflower | doesnt get you an AP tho
15:42  cyberpower678 | scatterflower[m]: I got mine on sale.  I got it at $199
15:42    prototux[m] | scatterflower[m]: who says it's prosumer products?
15:42  scatterflower | fair enough
15:42  scatterflower | prototux[m]: udm definitely is
15:42    prototux[m] | scatterflower[m]: not really
15:43  scatterflower | they dont even have 802.11ax support :(
15:43  cyberpower678 | It is, but it's also really lacking in, what should be standard, features, like proper IPv6 support.
15:43  cyberpower678 | scatterflower[m]: Wifi 6?  Sure they do.
15:43  scatterflower | cyberpower678[m]: they dont have ipv6 support?? thats crazy
15:43  cyberpower678 | I run WiFi 7.
15:44         wb9688 | Iirc UDM doesn't even support basic features like VLANs on the WAN side
15:44  cyberpower678 | scatterflower[m]: They do, but it's not a complete implementation.  No support for ULAs.
15:44  cyberpower678 | At least I couldn't figure out how to get them set up.
15:44  * scatterflowe uploaded an image: (289KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/9459b7558dd08f7947adc6ee6814fe82f0d0cab71774930910408343552/IMG_7612.png >
15:44  scatterflower | cyberpower678[m]: is that so? i was looking at this
15:44  cyberpower678 | Oh no, I run the UDM-Pro
15:45  scatterflower | ag
15:45  scatterflower | * ah
15:45  cyberpower678 | The old dream machine was great when it came out, but it's dated.  It needs a refresh
15:45      _mark_[m] | I use unifi aps, but my firewall is openwrt on x64.
15:45      _mark_[m] | No lzma problems there, thankfully
15:45  cyberpower678 | And on that note, I have a UDM-Pro because I wanted separate APs.
15:45  scatterflower | i just run opnsense on my hypervisor and do vfio passthru on the nic ports
15:46  scatterflower | and a cheapo tp-link ap
15:46  cyberpower678 | The U7s are really fast, but they also get pretty hot.
15:46             ---|---> mphi [~mphi@pd9e15fd7.dip0.t-ipconnect.de] has joined #xz-backdoor-chat
15:46  scatterflower | i dont have much need for fast wifi
15:47  scatterflower | i got cat6a in the walls
15:47         wb9688 | I still use an EdgeRouter 4
15:47    prototux[m] | cyberpower678[m]: they don't have U7 enterprise yet, sadly
15:47  cyberpower678 | It's great for me, because Wireless Time Machine
15:47  cyberpower678 | prototux[m]: I don't need to go that high-end. \U0001f61b
15:47      _mark_[m] | wb9688: I used elr3 for almost a decade, but then I got symmetrical fiber.
15:47  scatterflower | my biggest pet peeve with a lot of newer prosumer networking stuff is NBASE-T
15:48         wb9688 | U7 is too expensive imho, especially since almost no device supports Wi-Fi 7 yet anyway
15:48  scatterflower | bc my ancient datacenter 10g switch doesnt support it
15:48      _mark_[m] | My firewall has these oddball 2.5Gbit ports
15:48  scatterflower | yeah
15:48             ---|---> mikecmpbll [~mikecmpbl@92.40.189.136.threembb.co.uk] has joined #xz-backdoor-chat
15:48  scatterflower | NBASE-T is 2.5 and 5 over cat5
15:48      _mark_[m] | It works for me, but it's odd.
15:48    prototux[m] | cyberpower678[m]: i have U6 enterprises at home so when i want to upgrade...
15:48  scatterflower | its a new and not super well supported standard
15:49  cyberpower678 | Got it.
15:49  cyberpower678 | UDM: 4.19.152-ui-alpine #4.19.152 SMP Fri Jan 26 01:53:23 CST 2024 aarch64 GNU/Linux
15:49  scatterflower | to support wan speeds over gigabit on existing home wiring
15:49         wb9688 | _mark_[m]: I do have symmetrical FttH, though only a 50 Mbps subscription (it is possible to get up to 1 Gbps though) and no IPv6 :/
15:49  doodoopoopypo | stinky doodoo poopoo
15:49  doodoopoopypo | @everyone
15:49  scatterflower | im still on cable but im getting fiber in a month or two
15:49  scatterflower | looking forward to that
15:49      _mark_[m] | wb9688: I have 1000/1000 along with ipv6.
15:49  doodoopoopypo | <@87373628584235008>
15:50  doodoopoopypo | <!@87373628584235008>
15:50  scatterflower | they were digging trenches at my apartment last week
15:50      _mark_[m] | From trenched to fiber at my place took almost two years. \U0001f480
15:50         wb9688 | _mark_[m]: Cool, EdgeRouter 4 supposedly can do 1000/1000 as well, but not with hardware acceleration on IPv6 when combined with some stuff
15:50  scatterflower | ouch
15:50  scatterflower | my apartment manager said it was just a few months out at least
15:50  cyberpower678 | _mark_[m]: Same, and my dynamic IPv4 hasn't changed in 5 years.
15:51  scatterflower | they put flyers on our doors that techs were coming in to install the lines to each unit in a month or so
15:51      _mark_[m] | I can do 1000/1000 with cake and the cpu barely moves.
15:51  cyberpower678 | AT&T fiber is great.  I'm still needing to bypass their equipment though
15:51      _mark_[m] | The protectli / qotom boxes are nice.
15:51    prototux[m] | _mark_[m]: qotom is pretty nice for cheap low power thing, yes
15:52  scatterflower | cyberpower678[m]: i wish we were getting att, but its google :/
15:52  scatterflower | att is one of the last isps that will just give you a /26 if you pay for it
15:53             ---|<--- doodoopoopypoopoomaster [~boboponga@131.255.226.135] has left #xz-backdoor-chat ()
15:53  scatterflower | s/26/28/
15:54  scatterflower | so many do this weird out of band provisioning where you have to use their provided hardware and it hands out the wan ips over dhcp on the lan as /32s
15:54  scatterflower | and they only give you like 2 or 3 ips
15:54         wb9688 | We have fiber from KPN, though a subscription from Odido. To be honest we should probably just switch to KPN, since they do support IPv6 and they are slightly cheaper here now with Odido's new plans.
15:54             ---|---> zhli [~zhli@DN2lk437d.stanford.edu] has joined #xz-backdoor-chat
15:54  scatterflower | my current isp claims to not support ipv6 but the upstream router gives me a prefix anyways
15:55  scatterflower | and everything routes
15:55  scatterflower | so \u00af\_(\u30c4)_/\u00af
15:56             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.136.threembb.co.uk] has quit (Quit: Lost terminal)
16:00  cyberpower678 | <scatterflower[m]> "so many do this weird out of..." <- In Germany they do DS-Lite over AFTR now.
16:01  cyberpower678 | You don't even get an IPv4.
16:03      _mark_[m] | <js> "I mean that's all we need \U0001f642" <- https://pastes.io/raw/nhlymonclg
16:03      _mark_[m] | Mar 29, 30, 31, and today.
16:06             ---|User: *** mlkj2141[m] is now known as mlkj[m]
16:08             ---|<<-- zhli [~zhli@DN2lk437d.stanford.edu] has quit (Quit: zhli)
16:12 @           js | <_mark_[m]> "https://pastes.io/raw/nhlymonclg" <- THx. Do you know where it was said that lasse found more?
16:13    prototux[m] | js: on his IRC chan AFAIK
16:15             ---|---> _discord_372879766342336512[m] [~discord37@2001:470:1af1:101::1:4d3e] has joined #xz-backdoor-chat
16:15  _discord_3728 | <scatterflower[m]> "my current isp claims to not..." <- Not "supporting" it could mean that if you call them they'll do the ol' shrug emoji but some engineer made it work
16:15  _discord_3728 | Customer support vs it working
16:15  scatterflower | _discord_372879766342336512[m]: seems like it. i had called to ask if they give /48 or /56 prefixes but they just insisted there was no v6
16:15  _discord_3728 | Hahahaha
16:16      _mark_[m] | js: [18:24:39]
16:18           mphi | My ISP provided a /56 and all of a sudden the next day they changed it to a /59 whithout any prior notification... that was a Wow moment.
16:19      _mark_[m] | I have a /56 but I'm pretty sure that it can change if I reboot the ONT
16:19      _mark_[m] | I have not done this.
16:21           mphi | Yeah... same. The /59 is also dynamic and changes from time to time... another "nicety" from my ISP
16:21  scatterflower | /59 is such an awful prefix size
16:22  cyberpower678 | I only get a /60
16:23  scatterflower | at least its bigger than a /64, i know someone whose isp gives them a /96 for some reason and it breaks everything
16:23  scatterflower | no privacy addrs or slaac
16:23  cyberpower678 | Dafuq?
16:23           mphi | scatterflower[m]: agreed, /59 is awful. Lol... /96 is really messed up...
16:24  cyberpower678 | For it me, it may as well be a /64, because the Unifi network controller has a bug where only one /64 can be used at a time.
16:24    prototux[m] | cyberpower678[m]: most french ISPs give a /56
16:24  cyberpower678 | Like I said before their IPv6 implementation is lacking.
16:25  cyberpower678 | prototux[m]: That's not bad.
16:25           mphi | Some time ago I had also a router from the ISP and had to delegate that further down to my router... so it was a defacto /60... then I noticed I could additonally set up a bridge port... and now I have 2x IPv4 and 1x /59, 1x /60 :D
16:25  grandpacanary | https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5008668#gistcomment-5008668   \U0001f485
16:25  scatterflower | /48 is the only correct size, /56 undesirable but acceptable, anything else bigger than a /64 at least works, everything else is pure evil
16:26             ---|---> _discord_537091611323007003[m] [~discord53@2001:470:1af1:101::1:4d40] has joined #xz-backdoor-chat
16:33  cyberpower678 | I think 3BB hands out /48
16:33  cyberpower678 | But that's in Thailand
16:35             ---|---> sawntoe[m] [~discord92@2001:470:1af1:101::1:4bcf] has joined #xz-backdoor-chat
16:36  grandpacanary | idk needed to put my frustration somewhere
16:44             ---|---> mikecmpb1l [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
16:49          katia | a/G fireo
16:52  urbanhacker_8 | <grandpacanary[m]> "https://gist.github.com/..." <- This could be an easy way to seem more legit and active
16:53  urbanhacker_8 | In the first year already he has a descent github profile
17:03             ---|---> _discord_721925521784701091[m] [~discord72@2001:470:1af1:101::1:4d42] has joined #xz-backdoor-chat
17:03  _discord_7219 | <_discord_1134759629084168253[m> "One thing I find interesting..." <- I don't take this personally because a million people on the internet are saying it, but this is simply wrong. This PR  did not stop OSS-Fuzz from discovering anything (the PR stopped a real false positive caused by ifuncs and the backdoor would have never run on OSS-Fuzz) and I was definitely not negligent. OSS-Fuzz is a weird repo where
17:03  _discord_7219 | users own their integrations with our service. My LGTM just meant "this is a maintainer of the project", which according to the real maintainer, they were (not that anyone outside of OSS-Fuzz users can be expected to understand this
17:05  _discord_7219 | s/they/jia/, s/were/was/
17:05  _discord_7219 | * I don't take this personally because a million people on the internet are saying it, but this is simply wrong. This PR  did not stop OSS-Fuzz from discovering anything (the PR stopped a real false positive caused by ifuncs and the backdoor would have never run on OSS-Fuzz) and I was definitely not negligent. OSS-Fuzz is a weird repo where users own their integrations with our service. My LGTM just meant "this
17:05  _discord_7219 | is a maintainer of the project", which according to the real maintainer, jia was (not that anyone outside of OSS-Fuzz users can be expected to understand this about the repo)
17:05  _discord_7219 | * I don't take this personally because a million people on the internet are saying it, but this is wrong. This PR  did not stop OSS-Fuzz from discovering anything (the PR stopped a real false positive caused by ifuncs and the backdoor would have never run on OSS-Fuzz) and I was definitely not negligent. OSS-Fuzz is a weird repo where users own their integrations with our service. My LGTM just meant "this is a
17:05  _discord_7219 | maintainer of the project", which according to the real maintainer, jia was (not that anyone outside of OSS-Fuzz users can be expected to understand this about the repo)
17:10  grandpacanary | <urbanhacker_81768[m]> "In the first year already he has..." <- old C project written the old FOSS ways back when end users were still grabbing tarballs themselves sometimes and didn't look at the warnstorm, tons of new style guidelines since then, new buildstack options.... perfect excluse to look like a busy, busy beaver and even give users a reason to take the lib (hey!  RISCV!)... perfect for a maint needing an
17:10  grandpacanary | overexuberant person who's so good, we'll do a touch-everything refactor that visits everything everywhere
17:10  grandpacanary | s/excluse/excuse/
17:11  _discord_7219 | * I don't take this personally because a million people on the internet are saying it, but this is wrong. This PR  did not stop OSS-Fuzz from discovering anything (the PR stopped a real false positive caused by ifuncs and the backdoor would have never run on OSS-Fuzz without this PR) and I was definitely not negligent. OSS-Fuzz is a weird repo where users own their integrations with our service. My LGTM just
17:11  _discord_7219 | meant "this is a maintainer of the project", which according to the real maintainer, jia was (not that anyone outside of OSS-Fuzz users can be expected to understand this about the repo)
17:11  _discord_7219 | * I don't take this personally because a million people on the internet are saying it, but this is wrong. This PR  did not stop OSS-Fuzz from discovering anything (the PR stopped a real false positive caused by ifuncs and the backdoor would have never run on OSS-Fuzz without this PR) and I was definitely not negligent. OSS-Fuzz is a weird repo where users own their integrations with our service. My LGTM just
17:11  _discord_7219 | meant "this is a maintainer of the project", which according to the real maintainer, jia was (not that anyone outside of OSS-Fuzz users can be expected to understand this about the OSS+Fuzz)
17:11  _discord_7219 | * I don't take this personally because a million people on the internet are saying it, but this is wrong. This PR  did not stop OSS-Fuzz from discovering anything (the PR stopped a real false positive caused by ifuncs and the backdoor would have never run on OSS-Fuzz without this PR) and I was definitely not negligent. OSS-Fuzz is a weird repo where users own their integrations with our service. My LGTM just
17:11  _discord_7219 | meant "this is a maintainer of the project", which according to the real maintainer, jia was (not that anyone outside of OSS-Fuzz users can be expected to understand this about the OSS-Fuzz)
17:16  Robert0004[m] | Out of curiosity, what type of RCE is there with this payload? For example, I know it's not full shell, but what specific capabilities does this allow the attacker to do. For example, can they just send commands to be run as root?
17:18     mikecmpb1l | looks like it. until the payload is fully understood they won't be sure though.
17:20             ---|---> boboponga [~boboponga@131.255.226.135] has joined #xz-backdoor-chat
17:25             ---|---> _discord_987408908672962650[m] [~discord98@2001:470:1af1:101::1:4d43] has joined #xz-backdoor-chat
17:26      boboponga | https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT6Bwl9ydsLSYXUh2C6XaJD434Qdrc5ah_yBRYrzbZCdw&s
17:28      boboponga | https://i.ebayimg.com/images/g/4yoAAOSwkZhWS6tU/s-l1600.jpg
17:29  _discord_8940 | wtf
17:29             ---|User: *** boboponga is now known as aaa
17:29  ratchetfreak[ | <Robert0004[m]> "Out of curiosity, what type of..." <- about 120 bytes that can be sent to `system()` and using a mechanism that can be used to sell access on a per compromised server basis
17:31  Robert0004[m] | ratchetfreak[m]: `using a mechanism that can be used to sell access on a per compromised server basis`
17:31  Robert0004[m] | any info about how that works?
17:32  ratchetfreak[ | the payload is signed
17:32             ---|<<-- mikecmpb1l [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
17:32  ratchetfreak[ | the first 4 bytes of the command is part of the data used for the signature
17:32  ratchetfreak[ | the rest isn't
17:33  ratchetfreak[ | the first 5 bytes of the server host key is also part of the signature
17:34  _discord_8940 | /nick skibidi
17:34  ratchetfreak[ | that way they could create a script with a hardcoded signature that enables access by doing a simple ssh scan on a vulnerable server
17:37  ratchetfreak[ | there is an example bot that can attack a vulnerable server using a patched backdoored xz to use a different public key to verify the signature: <https://github.com/amlweems/xzbot>
17:38             ---|---> crawler [~crawler@109.245.201.129] has joined #xz-backdoor-chat
17:46  Robert0004[m] | In some ways, this reminds me of pegasus
17:47             ---|---> mikecmpb1l [~mikecmpbl@92.40.189.134.threembb.co.uk] has joined #xz-backdoor-chat
17:47  Robert0004[m] | In the sense that, theoretically someone would say "I want to get into these servers", and have a backdoor crafted for that specific client
17:48  grandpacanary | Is GitLab being stupid on purpose?  https://gitlab.com/gitlab-org/gitlab/-/issues/452603#note_1840524038
17:49  grandpacanary | Or corp counsel/adisor for GitLab sent out a careless policy, I guess.
17:49  grandpacanary | s/adisor/advisor/
17:50       miyon[m] | "Note: successful exploitation does not generate any INFO or higher log entries." from xzbot
17:52  ratchetfreak[ | grandpacanary[m]: feels more like a tl;dr canned responce
17:53             ---|<<-- aaa [~boboponga@131.255.226.135] has quit (Quit: Lost terminal)
17:55  grandpacanary | ratchetfreak[m]: if they're still stupid about it thru wednesday ill just dramaclose it
18:00       miyon[m] | Amazing that it doesn't make it into stable and miss the rolling releases at the same time.
18:05     num0005[m] | <grandpacanary[m]> "Is GitLab being stupid on..." <- they are probably not comfortable disclosing that info or promising anything without legal looking over it
18:05       miyon[m] | now there is a false sense of security because we have "the backdoor" found
18:06     num0005[m] | that is asking to scan user data, honestly email is probably the better medium to make this sort of request
18:06  grandpacanary | num0005[m]: they don't have to disclose a single detail about accounts/projects.   Just want to know if they're going to seach for the SSH keys or not.
18:06     num0005[m] | get in contact with their security team, etc
18:07  grandpacanary | num0005[m]: did
18:07  Robert0004[m] | num0005[m]: and for jia to sue over his privacy rights being violated, he would need to disclose his identity lol
18:08     num0005[m] | Robert0004[m]: regulators can also sue or something that was misidentified as Jia because of it, etc
18:08     num0005[m] | s/something/someone/
18:08     num0005[m] | it's not a super high risk
18:09  grandpacanary | The person from GitLab that's responding is VP of Developer Relations.     GitLab can just put a new PR out about and decide what, if anything, they want to say about the attacker having a presence on their platform.    GitHub is an open book, GitLab is not scoring any points here.
18:09  grandpacanary | * new PR (announcement) out about
18:10  grandpacanary | if Jia wasn't on the platform, great.   if he was... "we're responding and have a plan" blah blah blah good enough as well
18:10  cyberpower678 | miyon[m]: anyone feeling secure right now working IT would be an idiot.  Until there is definitive confirmation that the whole xzlib has been dissected and fixed, or the codebase has been completely rewritten, there could still be more issues here.
18:10     num0005[m] | okay you convinced me
18:11     num0005[m] | that is disappointing coming from a gitlab VP
18:11  grandpacanary | it's just Dev Relations... he's essetially both a dev and a Sales/Marketing cat-hearder.
18:12  grandpacanary | He needs to go up a level in leadership (which I hope he did)
18:12     num0005[m] | still someone high enough up the org chart he could have flagged it with the relevant team before replying
18:12     num0005[m] | or could have at least replied to the actual question asked
18:14  grandpacanary | num0005[m]: if he doesn't escalate then my money is internal counsel put out a guideline, they're all following it and that't that.   I will just dramaclose the issue.    They won't like it.
18:15     num0005[m] | yeah the liability angle here is a bit complicated
18:15     num0005[m] | and PR too tbh
18:16     num0005[m] | there's internet investigators and internet "investigators" yk
18:17     num0005[m] | god forbid Jia stole some dudes identity or something and said person has the whole OSS community hate them for 48 hours before that's cleared up
18:17       miyon[m] | <cyberpower678[m]> "anyone feeling secure right..." <- the more days go by, the more i get the impression that it's no longer about xz but about the open source community and how it deals with security.
18:18  grandpacanary | They build their shit on top of FOSS and without it they wounln't have any money to make.   And this is not the biggest ask in the universe and there's no demand for a records dump... just "did you look at the SSH keys" and "are you going to hunt for them"     no privacy breech at all there
18:20  Robert0004[m] | to a certain extent life is too short for endless paranoia and one must accept that breaches are gonna happen, and prepare accordingly
18:21  grandpacanary | So... rogue committer is found everyone who origin or mirrored to GitHub will find out all the cross commits more quicky;  and at GitLab, everyone is left in the dark.
18:22  grandpacanary | Brilliant sales point.     A moneymaker.
18:22       miyon[m] | Robert0004[m]: the trade-off between paranoid caution and serenity is currently very difficult.
18:26             ---|---> _discord_840814489875251230[m] [~discord84@2001:470:1af1:101::1:4d44] has joined #xz-backdoor-chat
18:26  _discord_8408 | I'm having trouble when building a vulnerble environment in container with `debian:bookworm`. After I installed ssh & xz-utils 5.6.1, there's no delay when I run `sshd -h`. 
18:26  _discord_8408 | What could go wrong?
18:27       miyon[m] | the only solution would be to shrink in order to have enough eyes.
18:29  grandpacanary | _discord_840814489875251230[m]: for starters... your env vars?
18:30  _discord_8408 | * I'm having trouble when building a vulnerble environment in container with `debian:bookworm`. After I installed ssh & xz-utils 5.6.1, there's no delay when I run `sshd -h`.... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/fNmkbtBBKDKkkvnsvHhlPdmt>)
18:30  _discord_8408 | grandpacanary[m]: The LANG env
18:31  _discord_8408 | grandpacanary[m]: Is the LANG env should be injected during the installation process or sshd?
18:31  grandpacanary | launch it with /bin/sh to get less vars coming in
18:33       miyon[m] | i'll give you an example i wanted to build mpv for windows months ago i got shinchiro/mpv-winbuild-cmake and looked at it. i went through the dependencies and asked myself why do i need X and Y at all. Among them was of course xz. I thought nothing of it and deactivated it. Just like libarchive. You really have to ask yourself what the function to open archives has to do with a mediaplayer if there are containers like Mkv? Compress
18:33       miyon[m] | a h264 in mkv container again is useless.
18:35  * _discord_840 sent a code block: https://matrix.org/_matrix/media/v3/download/matrix.org/otVwwYurMncsmyNYNAETyCAY
18:36  grandpacanary | _discord_840814489875251230[m]: are you just trying to get xzbot to work in a container, it has the honeypot sshd that sends all the calls sshd launched from systemd on a target host does
18:37  grandpacanary | don't run the real sshd in a container if you want to simulate that you need to then bring in the `systemd` mess into it too and --host anyway and at that point why bother you'd be done quicker in QEMU
18:39  _discord_8408 | grandpacanary[m]: I see, I do tried to run sshd in the container, and seems systemd would be the critical issue.
18:39  _discord_8408 | Thank you very much, maybe I'll try it in QEMU.
18:41  grandpacanary | _discord_840814489875251230[m]: `systemd` in a deb container == womp womp you gotta turn on the host switch and that's after bringing in all the depcrap.    If you're paranoid kill the net device and bounce it.
18:45             ---|User: *** _discord_518944568302108712[m] is now known as locknessko[m]
18:50             ---|<<-- mikecmpb1l [~mikecmpbl@92.40.189.134.threembb.co.uk] has quit (Ping timeout: 480 seconds)
18:51       fn0rd[m] | <scatterflower[m]> "bc my ancient datacenter 10g..." <- STH has some nice reviews for switches which do 2.5g/5g/10g instead of only 10g
18:59             ---|<<-- crawler [~crawler@109.245.201.129] has quit (Ping timeout: 480 seconds)
19:42             ---|User: *** _discord_609041026644049945[m] is now known as wtznc[m]
20:03             ---|Channel: mode/#xz-backdoor-chat [+b *!*@131.255.226.135] by wrc
20:08             ---|---> skolliets0[m] [~discord35@2001:470:1af1:101::1:4d47] has joined #xz-backdoor-chat
20:12  skolliets0[m] | is it possible this was a single person?
20:16             ---|User: *** __rand0m__0[m] is now known as __rand0m__[m]
20:18  kingbeencent[ | May be buy it is possible to be a group of people, not state at all but a group
20:28       offtopic | https://youtu.be/bS9em7Bg0iU?si=HZziVYU9JO6kIxWi
20:33  shenanigansd[ | Hail Fireship
20:33  shenanigansd[ | They\u2019re great at making things digestible
20:37       aciid[m] | Can we also get a tiktok dance?
20:39     fireonlive | oh while we're talking about youtubers... what's y'alls favourite youtubers?
20:39     fireonlive | /channels
20:39             ---|---> _discord_730515791749054514[m] [~discord73@2001:470:1af1:101::1:4d49] has joined #xz-backdoor-chat
20:39  _discord_7305 | I did a thing: https://github.com/hlein/distro-backdoor-scanner... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/sAvXLujglUhILydSBVILTkkx>)
20:40  _discord_7305 | s/*/\*/, s/*/\*/
20:43             ---|User: *** _discord_590560372143030272[m] is now known as lu3ibi3n[m]
20:55     dumpx86[m] | Is there any documentation on what cmd_id and flag are fully reversed and what they are about?
21:18  grandpacanary | <_discord_730515791749054514[m]> "I did a thing: https://github...." <- This is great.  The tr swaps is my candidate string
21:25             ---|<<-- konomi [~konomi@00020287.user.oftc.net] has quit (Quit: konomi)
21:27             ---|---> konomi [~konomi@00020287.user.oftc.net] has joined #xz-backdoor-chat
21:39  _discord_1121 | No, the m4 file is present in git.  https://salsa.debian.org/debian/xz-utils/-/tree/debian/unstable#L63
21:39             ---|User: *** _discord_1121266414205030480[m is now known as valeriifj[m]
21:41             ---|---> anlsh[m] [~discord59@2001:470:1af1:101::1:4d4c] has joined #xz-backdoor-chat
21:41       anlsh[m] | The file is, but from Andres's initial report... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/ULoKSWExZPpZEEuDLxgoWiKr>)
21:48       anlsh[m] | Also, it doesn't look like `m4/buid-to-host/m4` is even present on `f9cf4c05 ` (latest `master` according to  `https://git.tukaani.org/xz.git`
21:48      laanwj[m] | <valeriifj[m]> "No, the m4 file is present in..." <- that's the debian repository. i don't know how they made that (did they commit the tarball), but that m4 it isn't in the original xz repository
21:48       anlsh[m] | * to  `https://git.tukaani.org/xz.git`)
21:49   valeriifj[m] | anlsh[m]: Use web archive. https://salsa.debian.org/debian/xz-utils/-/blob/debian/unstable/m4/build-to-host.m4?ref_type=heads#L63
21:49      laanwj[m] | nor ever was, checking history... only a mention in .gitignore was added in 4323bc3e0c1e1d2037d5e670a3bf6633e8a3031e
21:50   valeriifj[m] | https://web.archive.org/web/20240329163749/https://salsa.debian.org/debian/xz-utils/-/blob/debian/unstable/m4/build-to-host.m4?ref_type=heads#L63
21:50      laanwj[m] | again, that's the debian repo, not the original github one
21:51      laanwj[m] | it has a completely different history, it seems
21:51   valeriifj[m] | laanwj[m]: Well, clarify "original" then.
21:52       anlsh[m] | Anyways, I'm trying to understand why this practice of downloading source tarballs is apparently even a thing
21:52      laanwj[m] | that was https://github.com/tuukani-project/xz.git
21:52  tyrheimdal[m] | <_discord_730515791749054514[m]> "I did a thing: https://github...." <- Kewl, but have you heard about yara? \U0001f604
21:53      laanwj[m] | also https://git.tukaani.org/?p=xz.git;a=summary
21:55  grandpacanary | anyone get the feeling that the symmetric key choice Jia made was not a mistake, it's a tradeoff
21:56      laanwj[m] | anlsh[m]: according to distro maintainers it's preferred because the tarballs have a fixed, stable hash, but it's not a great argument nowadays as, it's possible to generate a deterministic tarball from a git tag as well
21:58      laanwj[m] | in any case, i am sure this incident will cause a re-thinking of that process \U0001f605
21:59             ---|---> audeuro0[m] [~discor_51@2001:470:1af1:101::1:4d4f] has joined #xz-backdoor-chat
21:59    audeuro0[m] | archives from git tags have historically been at the whim of the underlying git version and subject to re-roll even without moving the tag in the event of an update
21:59      laanwj[m] | yes, exactly
21:59    prototux[m] | laanwj[m]: well, go becoming a debian contributor by fixing all their legacy packages built from tarballs, you have thousands of packages to play with
22:00    audeuro0[m] | how do you generate a deterministic tarball for the life of your usage of it if it's subjected to that? nobody really wants to break out diffoscope and confirm the change is harmless
22:02    prototux[m] | prototux[m]: (and of course, become a good one by tracking all projects who switches their scm to update the packages!)
22:03      laanwj[m] | there's some work involved, "throw your hand in the air and do nothing" is also an option of course, it may never happen again
22:04      laanwj[m] | or not through this route at least
22:04       anlsh[m] | I
22:04  grandpacanary | updating git so a proof can be made (comparing what's laid out on disk matches up, the purpose a tarball hash provides)... wouldn't that solve it
22:06       anlsh[m] | <laanwj[m]> "according to distro maintainers..." <- Oh ok, this sounds like a holdover from pre-git days then, or for projects where it's not possible to clone/verify using a hash
22:06    prototux[m] | grandpacanary[m]: it wouldn't any more than a script that does the same externally and asking maintainers to give their hash... at what cost?
22:07      laanwj[m] | yes, assuming the tarball is unchanged version of what is in git, you can attest and compare it at any time, but afaik git provides a command to generate a deterministic tarball from a tag nowadays so comparing hashes should just work
22:07    prototux[m] | (NB: this wouldn't solve compromised maintainers, or backdoors well hidden that slip past code review)
22:07       anlsh[m] | * a hash- Clearly a source tarball with a fixed hash provides no purpose in the case of a git repo
22:07      laanwj[m] | no, but it makes sure everything is in git so at least gets by code reviewers
22:08      laanwj[m] | if no maintainer or reviwerr is paying attention, there's no hope :)
22:08  grandpacanary | prototux[m]: yep.   but it certainly would be a lovely feature... does the work of "what ver is that?" when pulling from a backup and `.git` is gone
22:09    prototux[m] | grandpacanary[m]: ... at what cost
22:10  grandpacanary | prototux[m]: what's the downside you're thinking of?
22:12  grandpacanary | if the distro goes to the true origin itself, why would it need to ask the maint for the hash?
22:12    prototux[m] | grandpacanary[m]: cpu time and electricity isn't free, turning distros' build farms into basically what cryptocurrency farms already do (lots and lots of hash calculations) without the money making part surely won't be free either. all of that until someone goes like "mh, i wonder if there's a way to have only 1 hash instead of calculating the hash of every file... like an archive of some kind"
22:13    prototux[m] | grandpacanary[m]: because you'd be computing the hash for what at each update then, comparing it to what to ensure conformity?
22:13      laanwj[m] | the point is, they could create and hash their own archive, instead of trusting the maintainer in creating it without hidden bonus features 
22:13    prototux[m] | laanwj[m]: then it add what, exactly?
22:14      laanwj[m] | pt
22:14  grandpacanary | surely not on every naked commit to master, just when a branch merge happens?
22:14      laanwj[m] | prototux[m]: it will be an exact reflection of git, with nothing extra
22:14    prototux[m] | laanwj[m]: so... wasting cpu time, costing extra electricity?
22:14      laanwj[m] | it just removes one vector of hiding things, that's all
22:15    prototux[m] | laanwj[m]: not even
22:15      laanwj[m] | generating one archive from a git checkout isn't going to cost a lot of extra electricity, honestly i am not sure why we are even discussing this
22:16      laanwj[m] | you make me paranoid i'll go back to reading
22:16    prototux[m] | laanwj[m]: generating 59100 archives + hashes for the 59100 packages in debian, however...
22:16             ---|<--- szopin[m] [~szopinmat@2001:470:1af1:101::1:4c2a] has left #xz-backdoor-chat ()
22:16    prototux[m] | it's always the scale, not the operations
22:16  grandpacanary | okay in Go, people put `import` statements literally pointing at the git origins... `go.mod` can pin down to the commits.    this is working in their ecosphere.   that's why people living in worlds like that are asking why the build process from 1994
22:16       anlsh[m] | prototux[m]: Wait what are you even saying, presumably distros verify the contents of the tarballs they're using and that is going to involve hashing the entire tarball. Whatever git does to calculate the hash for a repo is presumably equivalent cost
22:16  grandpacanary | * from 1994 Slackware is so important
22:18             ---|---> crawler [~crawler@109.245.201.129] has joined #xz-backdoor-chat
22:19    prototux[m] | anlsh[m]: what i'm saying is exactly that it wouldn't be the same cost, because there's more to hash that way. and it won't add any new meaningful security.
22:19    prototux[m] | git commit signing with GPG also exists since ages, and yet, nobody use it. that would ensure both history integrity, avoid fake id commits, and kill history rewriting...
22:19    prototux[m] | * commits, and have potential to kill history
22:21  grandpacanary | forcing signing is now starting to become a thing tho
22:21    prototux[m] | grandpacanary[m]: "starting", yes, and going slow
22:21  grandpacanary | .NET people are farther along with it, because no-sign-no-trust
22:21       anlsh[m] | oh I see, you're just saying that since the tarball will be smaller than the uncompressed repo that it will cost less in CPU time to verify. Sure, but that's definitely not a great argument when pulling in a git repo
22:22    prototux[m] | the feature is in git since at least 10 years...
22:22       anlsh[m] | * time to hash/verify. Sure,
22:22      laanwj[m] | in our project we have a policy to gpg sign every top-level (maintainer) commit as well as tag, but it is an especialy sensitive one
22:22    prototux[m] | anlsh[m]: and is one file... again, that's the scale, not the operations
22:22    prototux[m] | debian is 59100+ packages on 9 platforms
22:23    prototux[m] | not counting the man-hours spent designing and implementing that thing (which could be spent on much lower hanging fruits with far more results), that would have a significant impact on the build processes and build farms
22:24    prototux[m] | human and cpu time isn't free, and isn't available immediatly in infinite quantity
22:24  grandpacanary | prototux[m]: but Debian has no choice but to SAST scan the shit out of what's inside their own git
22:25    prototux[m] | (and that of course is assuming everybody runs git... not older scm or even no scm at all)
22:25             ---|<<-- offtopic [sid636544@id-636544.helmsley.irccloud.com] has quit (autokilled: This host violated network policy. Mail support@oftc.net if you think this is in error. (2024-04-02 05:25:46))
22:27       anlsh[m] | Right, well I've got my answer here ("it's a legacy practice/for non git SCMs): I was just trying to understand if there was a *fundamental* reason for the source-tarball thing, and clearly the answer is not really
22:27  grandpacanary | prototux[m]: even if you were using Microsoft Visual Source Safe from 1995 you can still rsync up and mirror if you and your geezer pals maintaining some COBOL/REXX extender for Lazarus or whatever... nothing is impossible here.
22:28  grandpacanary | team wants to use their own scs, fine.   but mirror it to savannah or something so there's a git origin
22:28    prototux[m] | anlsh[m]: this is the standard way of shipping releases since way before git, github, or even svn
22:29       anlsh[m] | Ok then: for git projects, it makes no sense
22:29       anlsh[m] | * Ok then: for git projects (such as xz), it makes no sense
22:29    prototux[m] | grandpacanary[m]: i'm not saying it's impossible, i'm saying it's a poor way or spending that precious resource that is human free time, all to spend even more of that precious resource that is cpu time, for next to zero advantage
22:31    prototux[m] | anlsh[m]: no more, no less than using xz's tarball (and xz is from an era way before git existed)
22:32     dumpx86[m] | prototux (@_discord_621017259153817601:t2bot.io) - Were you able to complete stage2.sh ?
22:33  grandpacanary | prototux[m]: I used to have to dl XFree86 over a fucking modem bc out of install Slackware it was fucked so I had no choice but to get the tarball and build just to get X and use a mouse.     The geezer projects could still be encapsulated while they onboard, or they can be stuck with AUR and Gentoo til they mirror.
22:33    prototux[m] | dumpx86[m]: not really, got busy all weekend unfortunately (monday was a national holiday here) :/
22:34    prototux[m] | grandpacanary[m]: and then you have that old guy who worked that way since 1985, doesn't want to change one bit of his well oiled routine, and is maintaining that one repo that describes perfectly the xkcd's dependency comic situation, and is now a critical piece of software with no alternative
22:36    prototux[m] | i don't know if there's an easy way to search in all debian or arch packaging scripts, i wouldn't be surprised that quite some still use CVS
22:36  grandpacanary | prototux[m]: I get the strong desire not to change the distro way of pipelining... but it really does seem like an opportunity here to be better here for the benefit of the users.
22:36    prototux[m] | anybody who did CVS to git, or heck, even SVN to git migrations knows how awful it is, and how hard it is to get the people using it on board with that idea
22:37    prototux[m] | grandpacanary[m]: it isn't a strong desire not to change the distro way if pipelining, this is explaining the rude reality of things. also, what benefit for the users? they get the same package 99.9999999999% or the time anyway
22:39       anlsh[m] | Anyways, to get more back to this specific exploit. In the injected.txt script from the original report, where are all of these cryptic variables coming from
22:39       anlsh[m] | > eval $zrKcVq
22:39       anlsh[m] | Is something that I've missed (very likely) setting them earlier?
22:39       anlsh[m] | * Anyways, to get more back to this specific exploit. In the injected.txt script from the original report, where are all of these cryptic variables coming from?
22:39       anlsh[m] | > eval $zrKcVq
22:39       anlsh[m] | Is something that I've missed (very likely) setting them earlier?
22:39  grandpacanary | prototux[m]: had `xz` made it into LTS, the userpanic from people who server op but can't code would have blasted away quite a but of faith in a lot of the shit the big distros do.
22:40    prototux[m] | grandpacanary[m]: what i'm describing is exactly what i actually did at several companies already (going from old processes/pipeline to new ones, including the users of said processes... that's exactly my current work as well), this is already a colossal, hard task to do (because until we have LLMs to replace the people, we still need them) when you do have hierachy advantage over them, it will be even harder when you have no
22:40    prototux[m] | power at all to induce change to the other party
22:40  _discord_7305 | <grandpacanary[m]> "This is great.  The tr swaps..." <- Thanks. Yup, I thought that technique was pretty interesting. That's in there, in a generalized way; see around https://github.com/hlein/distro-backdoor-scanner/blob/d6df9f6fc8651448ba3d7ead0d9d6fc884543643/bin/package_scan_all.sh#L113
22:40    prototux[m] | grandpacanary[m]: i know, *i* would have to deal directly with the fallout of that if it happenned
22:41    prototux[m] | anlsh[m]: i can assume debug strings to echo/trace/etc during dev, they aren't part of the addon system and they aren't defined anywhere
22:41    prototux[m] | _discord_730515791749054514[m]: oh, seems like great work there!
22:43             ---|---> arraybolt3 [~arraybolt@172.59.231.137] has joined #xz-backdoor-chat
22:43  _discord_7305 | <tyrheimdal[m]> "Kewl, but have you heard about..." <- Yup. yara wasn't really suitable for this tho
22:43    prototux[m] | anlsh[m]: somewhere here there's my commented version of the stage 2 script if you want
22:43             ---|---> _discord_1224268562139578390[m [~discor_51@2001:470:1af1:101::1:4d50] has joined #xz-backdoor-chat
22:49       anlsh[m] | <prototux[m]> "somewhere here there's my..." <- Would you mind reposting, I've scrolled through 9 pages of `from:ptx` now and I don't see it \U0001f626
22:49             ---|<<-- arraybolt3_ [~arraybolt@172.59.224.104] has quit (Ping timeout: 480 seconds)
22:50  *  prototux[m] posted a file: (17KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/94e2548d99f2fc09a6db020a5e0b14b1da0cc1c01774677691920809984/stage2.sh >
22:51  grandpacanary | <prototux[m]> "somewhere here there's my..." <- wondering... if distros keep their own git servers, could there be a computationally-cheap way to gatekeep projects out of the business of differing from the origin or shunt it to a `.sh` that the maint has to post into their tree to make the public do the comparison
22:52  grandpacanary | then we're not talking about making Debian to this work, anyone can do this work... against whatever they care about or for research purposes, what have you
22:52  grandpacanary | s/to/do/
22:54  grandpacanary | I guess the answer to that is of course yes but no one is going to set a policy like that and point to the tarball hash and go "there you go"... and nothing really gets addressed out of this.
23:07             ---|<<-- crawler [~crawler@109.245.201.129] has quit (Ping timeout: 480 seconds)
23:07             ---|<<-- monitor456 [~monitor45@4JHAAAMSU.tor-irc.dnsbl.oftc.net] has quit (Ping timeout: 480 seconds)
23:08   lindi0533[m] | So you mean that instead of tarball the source package would include the complete upstream git repo?
23:11       anlsh[m] | <prototux[m]> "stage2.sh" <- > The backdoor initially intercepts execution by replacing the ifunc resolvers... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/EjWfpyztSNtdXsWZuDHGDYNV>)
23:14  grandpacanary | <lindi0533[m]> "So you mean that instead of..." <- No.   maintainer tags and signs at the origin and the distro pulls it over, and the distro gatekeeps the fuck out of modding the distro remote.
23:14   lindi0533[m] | Debian ships source code on its own mirrors, builds have to work offline
23:15  grandpacanary | lindi0533[m]: this exploit sits squarly on the fact that what the distro it baking and what's over at the origin don't match
23:16  grandpacanary | s/it/is/
23:16       anlsh[m] | <prototux[m]> "stage2.sh" <- From the initial report... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/vwaoImquSQEMeYhDxqwhmOuT>)
23:17   lindi0533[m] | grandpacanary[m]: Yep but the problem is that it is common practice for autotools projects
23:17       anlsh[m] | * From the initial report... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/nNBjPoNeKrtTESUBzUOFtYsk>)
23:18  grandpacanary | lindi0533[m]: yeah.  https://git.rootprojects.org/root/xz/commit/4323bc3e0c1e1d2037d5e670a3bf6633e8a3031e
23:18             ---|---> crawler [~crawler@109.245.201.129] has joined #xz-backdoor-chat
23:19             ---|<<-- crawler [~crawler@109.245.201.129] has quit (Remote host closed the connection)
23:19   lindi0533[m] | Debian maintainer can of course create the tarball manually based on upstream git, and that is often done if upstream does not have releases. The downside is that you cannot then take advantage of the signatures upstream has maybe created for their tarballs
23:21   lindi0533[m] | Sometimes there are also situations where upstream tar contains software that is not compatible with DFSG so they cannot be included and the tarball is repackaged (the version number then includes "dfsg")
23:22  grandpacanary | lindi0533[m]: `xz` basically shows (what's already known), those tarball hashes are worthless if you're using them to keep your faith that the tarball hash proves anything about the origin.
23:23   lindi0533[m] | Yeah different upstreams of course implement signatures differently
23:23   lindi0533[m] | But at least you could reduce the chance of the debian developer adding something fishy if you have the signature from upstream
23:24   lindi0533[m] | To me the next logical step would be to infiltrate debian itself as well
23:25  grandpacanary | you would as a user of the lib have to prove out a build out of the source tarball and the origin on your own by compiling, but also reading the tooling because in this case, a consumer of the lib doing that would likely arrive at the same bins, but don't match the bin Debian has.
23:26       anlsh[m] | <grandpacanary[m]> "* this exploit sits squarly on..." <- That and binary blobs being committed to repos \U0001f622
23:28  grandpacanary | lindi0533[m]: given how mega resistant the payload `.o` is to analysis, no doubt there's a sinking feeling at the build farms along the lines of "what else is that thing doing besides hijacking `sshd`, you breathe on it the payload code returns"
23:35  grandpacanary | <anlsh[m]> "That and binary blobs being..." <- that's never going to end and even on new modern stuff devs are still doing that.   topic comes up a lot in CGo discussions about bringing in a binded bin lib directory when most of them are running a dockerized CI/CD anyway and could sit there and add the steps to build the C dependencies for their tests and throw the bin away and offer a .sh or whatever for users to get the
23:35  grandpacanary | deps... nah i want to get it out now just throw it into git.    I just want to cry.
23:37      laanwj[m] | how sensitive the payload is to turning off given debuggers and instrumentation indicates a potential path to fighting it, increase observability, it wont strike while you watch ! lol
23:38  grandpacanary | laanwj[m]: `xz --schr\u00f6dinger`
23:38   lindi0533[m] | No amount of static analysis will help as the attacker will of course test their payload against the distro tools before sending it?
23:38      laanwj[m] | grandpacanary[m]: yesss
23:44      laanwj[m] | there could be protections against pre-generated binary blobs being inserted, gcc could attest to the code it actually built or mark it somehow so it stands out
23:45  grandpacanary | <lindi0533[m]> "No amount of static analysis..." <- much of the states is thrown into structs and functions are set as indirect pointer fields in the structs, direct string comparisons are avoided by not putting literals to any of them anywhere... it maximizes the confusion for anyone looking at the dasm
23:45      laanwj[m] | it's a pain but less of a pain than randomizing the x86 architecture to make them incompatible :p
23:45             ---|---> crawler [~crawler@109.245.201.129] has joined #xz-backdoor-chat
23:45  grandpacanary | s/states/state/
23:47      laanwj[m] | * actually built (in this specific iteration of building) or mark
23:50  grandpacanary | <laanwj[m]> "it's a pain but less of a pain..." <- gimp and ImageMagik are gonna scream.   and all the projects that do things with binaries.   if it's not super simple to generate fakes from a script really easy, you're forcing them to move their tests to another repo bc you take away their easy mirror from origin to debian
23:51  grandpacanary | "but we need CAT.JPG all the tests against the fun filters depends on that cat and where every whisker is on that cat"
23:51      laanwj[m] | grandpacanary[m]: binary data such as images would still work, it would just avoid including a pre-built .o file, buty yeah
23:52      laanwj[m] | s/avoid/prevent/
23:52  grandpacanary | no can't do that, have to ban all non-text bins
23:52      laanwj[m] | the thing with defense is that you're always fighting yesterdays war, while he attackers are already thinking of new ways
23:53  grandpacanary | okay remember the Python Challenge?   one of the puzzles is writing a script to extracted the buried data out of a benign photo.  http://www.pythonchallenge.com
23:54  grandpacanary | you can bury anything in a bitmap field by coming up with any kind of offset calculation you want
23:56             ---|---> _discord_1110431896975974440[m [~discor_52@2001:470:1af1:101::1:4d54] has joined #xz-backdoor-chat
23:57      laanwj[m] | in that case you do need hidden code in the application, that does the decoding from the image. underhanded C (or python, for that matter) is definitely a thing of course...
23:57  tyrheimdal[m] | <grandpacanary[m]> "gimp and ImageMagik are gonna..." <- Imagine if there was a thing such as submodules in git, where you could store binary data used for tests that are not necessary in building. Oh wait...
23:59      laanwj[m] | there is no general solution it's always a cat and mouse game, but im sure some vigilance and diligence helps, as well as reducing the number of dependencies in the first place
23:59  tyrheimdal[m] | laanwj[m]: That requires people to actually code, and not just use libs for everything that requires over 2 lines of code. How dare you ...
--- Day changed Tue Apr 02 2024
00:01      laanwj[m] | tyrheimdal[m]: i mean if you have to use that leftpad library, at least make sure it's set in stone and doesn't have a update with bonus functionality every two days \U0001f604
00:03      laanwj[m] | i just saw some rust repository which was just, an introductionary commit with the actual code, then four years of automatic "depbot: bump XX" commits after that, it made me cry inside.a bit.
00:04   lindi0533[m] | <tyrheimdal[m]> "Imagine if there was a thing..." <- Often you want to run tests during build
00:04   lindi0533[m] | Since there might be bugs in your toolchain or dependencies
00:04  grandpacanary | if we all just used emacs for every possible thing ever, it's solved because you can just do `M-x apropos`, even key presses have a `defun`
00:05  tyrheimdal[m] | lindi0533[m]: Sure, and those can run the fuck somewhere else than on the same instance that is doing the build to verify, not during the build.
00:06   lindi0533[m] | The problem is that often upstream testsuite is built to run in the build tree, so a lot of refactoring would be needed
00:07  tyrheimdal[m] | Let's face it, we have a problem with the tooling here. It's become so bloated and complex that nobody understands what is really going on during the build to the point where nobody can be fucked to review it.
00:07  grandpacanary | lindi0533[m]: most of the time tho it's a grep and sed for paths or even better, most of it `PWD` relative so it's a one spot change
00:08   lindi0533[m] | And then upstream blames the distro for not running the testsuite properly \U0001f642
00:09      laanwj[m] | yes, too much is happening and observability of all kinds of processes going on is bad at best
00:09  tyrheimdal[m] | At least those projects which are critical and a lot of stuff depending on them should have very strict demands to how they build.
00:09  tyrheimdal[m] | Some of the issues is that we're still mainly using build tooling that was made for much much smaller and less complex projects 20 years ago.
00:09  grandpacanary | I feel that this can be solved with a test report card from the maintainer they commit back before branch merge, tbh
00:11      laanwj[m] | there is just so much noise to hide in, and so many intermittent issues, if something fails are you going to investigate or just re-run and forget about it
00:11   lindi0533[m] | You can make demands but many upstreams have their own way of doing things
00:11  grandpacanary | if a test in freepascal_test_the_bloopity_blop_when_bippty_poo_shits_the_bed.c  fails, nobody at any distro would ever give a shit so a report card from the maintainer is good enough, because if they lied... the users can run it from origin anyway who's going to care
00:15  grandpacanary | im probably missing something here idk
00:19  grandpacanary | speaking of tests did anyone catch the last couple weeks of commits Jia made... he added the microlzma test then changed course and nuked it
00:21      laanwj[m] | i've been browsing his commits (with git log -p --author=jiat0218@gmail.com -- . ':(exclude)po4a' ':(exclude)po' to ignore the translation noise) i did see he introduced that test, didn't see that he nuked it again
00:21  tyrheimdal[m] | Yeah what is microlzma really? Is it some embedded implementation or something?
00:22  grandpacanary | he refactored then changed his mind.
00:22  grandpacanary | https://git.rootprojects.org/root/xz/commit/b93a8d7631d9517da63f03e0185455024a4609e8
00:23      laanwj[m] | it's put behind a flag, not removed there (or im missing something)
00:24  grandpacanary | laanwj[m]: i could have sworn i saw a total file nuke of it earlier... i could have been in the earlier branch and got lost in there
00:26  grandpacanary | no im losing my mind... Jia wins
00:26             ---|---> mikecmpbll [~mikecmpbl@92.40.189.143.threembb.co.uk] has joined #xz-backdoor-chat
00:26      laanwj[m] | hehe
00:26  grandpacanary | <tyrheimdal[m]> "Yeah what is microlzma really?..." <- https://github.com/ilyakurdyukov/micro-lzmadec
00:28  _discord_6600 | I was planning to use that on a project... Bad timing!
00:28      laanwj[m] | it's a limited, small memory footprint lzma encoder/decoder, yea aimed at embedded and maybe decompressing kernels on load?
00:28  grandpacanary | oh here we go https://www.phoronix.com/news/EROFS-LZMA-Compression
00:29  grandpacanary | https://lore.kernel.org/lkml/20211010213145.17462-1-xiang@kernel.org/
00:29  tyrheimdal[m] | Gotcha so it's another container format implementation.
00:30  grandpacanary | Torvalds is on the announce post.  neat.
00:31  tyrheimdal[m] | I do wonder if some of the end goal here was to insert another implant in the kernel, or even controlling compilation to insert some other big-brained stuff.
00:34  tyrheimdal[m] | Could you imagine the extent this could have lead to, if they got more runtime? Jesus crist.
00:34  tyrheimdal[m] | s/crist/christ/
00:34  cl0pinette[m] | I think some of the other xz tests file have some answer but it will require lots of time to analyze them
00:34       fn0rd[m] | and all that running from one computer from 2012 (Jia's dev box) /s
00:39  grandpacanary | https://github.com/erofs/erofs-utils/tree/dev
00:41  grandpacanary | that thing has a lot of uses
00:41  grandpacanary | a hardware-less solution to WORM
00:49             ---|<--- Penguinpee [penguinpee@got.my.bouncer.from.bnc4free.com] has left #xz-backdoor-chat (zaps away)
00:52  *   brlintw[m] uploaded an image: (141KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/940ff78fc570d6619486309aaa5d3a81ee93f0261775068696796987392/72bcee06eb54131b.png >
00:52     brlintw[m] | I would like to have a second eye on the passage I wrote in my WIP tutorial: https://hackmd.io/@cve-2024-3094/how-to-extract-the-malware-payload#Launch-a-Docker-container-to-avoid-accidentally-compromise-the-system-that-used-to-inspect-the-malicious-payload
00:53  grandpacanary | brlintw[m]: ^compromising
00:54     brlintw[m] | grandpacanary[m]: Thanks for the correction.
00:56  tyrheimdal[m] | Podman + rootless = good!
00:56  tyrheimdal[m] | Or well, *better* than using Docker. If someone doesn't wanna spin a VM.
00:57  tyrheimdal[m] | (yes I know, Docker has some form of rootless mode nowadays)
00:58  aepatrakov[m] | Bubblewrap is also good
00:58  cl0pinette[m] | better vm because any containerization system uses the same kernel
00:58  cl0pinette[m] | or containerd + katacontainers
00:58  aepatrakov[m] | bwrap --ro-bind / / --proc /proc --dev /dev --tmpfs  /tmp --bind pwd pwd /bin/bash
00:58  grandpacanary | <brlintw[m]> "I would like to have a second..." <- docker is fine for `xzbot`, don't bother with reproducing the tainted environment of `liblzma` + `sshd` on Docker.   You have to also throw in `systemd` and that requires a rooted container plus you will have to throw on packages for the dependencies beyond `liblzma` and if your intent is to dasm, you can do this in QEMU much quicker.
00:59  aepatrakov[m] | * bwrap --ro-bind / / --proc /proc --dev /dev --tmpfs  /tmp --bind $(pwd) $(pwd) /bin/bash
00:59  herzeleid02[m | grandpacanary[m]: podman can run containers with systemd in rootless mode
00:59  herzeleid02[m | still, vm is better
00:59     brlintw[m] | grandpacanary[m]: I only intend to extract the payload in the scope of this tutorial, so it should be fine.
01:00  grandpacanary | herzeleid02[m]: i would imagine with the crazy level of anti-debug in the `.o`, preventing the payload from early returning is hopeless.
01:00     brlintw[m] | I'm not going to run the compromised sshd on my machine lmao.
01:02       fn0rd[m] | if you're paranoid use a seperate airgapped machine and communicate over e.g. rs232 w/it
01:03  grandpacanary | take the risk that it's not going to crawl out of the vm, boot your machine from live cd and `dd if=/your/hard/drive` over to a backup place if you need to bring your paranoia level down
01:04  tyrheimdal[m] | fn0rd[m]: I prefer https://datatracker.ietf.org/doc/html/rfc1149, but you do you.
01:06             ---|<--- KonomiSheHer[m] [~konomimat@2001:470:1af1:101::6721] has left #xz-backdoor-chat ()
01:06             ---|---> abi [~abi@ndnd.dead-link.org] has joined #xz-backdoor-chat
01:07  herzeleid02[m | fn0rd[m]: by the way -- did noone wireshark track the damn thing? if infected sshd didnt advertise its public ip by running curls, we are kinda fine
01:07  * grandpacanar uploaded an image: (458KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/9959f3f95e20bd8b8008ec4a70604690b6f9e8ad1775072451122692096/Using-a-1930-Teletype-as-a-Linux-Terminal-11-40-screenshot.png >
01:07  grandpacanary | fn0rd[m]: to what... a teletype machine
01:08       fn0rd[m] | depends, IPv4 space can be easily scanned quickly on one port
01:09       fn0rd[m] | IPv6 not
01:09  herzeleid02[m | fn0rd[m]: and if using a custom port?
01:10             ---|<--- Stephan[m]12 [~stephanps@2001:470:1af1:101::1:4bd3] has left #xz-backdoor-chat ()
01:10       fn0rd[m] | then every custom ports takes twice as long as the first scan
01:10       fn0rd[m] | although there is tarpitting too
01:11  herzeleid02[m | fn0rd[m]: huh?
01:11  grandpacanary | had this shit got into mainline, that would have been the end of everybody wanting to host sshd on IPv4.   And people discovering how nice it is over on IPv6 only networks bc scanning is a bitch.
01:11       fn0rd[m] | it used to be you could see uptime when doing an nmap scan, then you also knew when they rebooted kernel, but yeah that is from past
01:16  grandpacanary | if you do SIP/VOIP stuff at all...  launch a scratch vps, go bring down the Asterisk project... which you have to compile from source every distro version of it is hopeless... and then start it and watch the logprint in asterisk -rrrrrrr    a bot will find your open SIP port then come back later or send friends to connect and start sending dial commands within minutes.
01:24             ---|---> _discord_1010447247332348014[m [~discor_52@2001:470:1af1:101::1:4d57] has joined #xz-backdoor-chat
01:31             ---|<<-- arraybolt3 [~arraybolt@172.59.231.137] has quit (Remote host closed the connection)
01:32       fn0rd[m] | interesting by-product of running IPv6 only
01:37             ---|<<-- mikecmpbll [~mikecmpbl@92.40.189.143.threembb.co.uk] has quit (Quit: leaving)
01:42  *  lu3ibi3n[m] uploaded an image: (23KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/13c489b38a2eb865bf2a1f335fa44c533ead6a281775081460970029056/image.png >
01:42    lu3ibi3n[m] | hello, I have run all scripts, but i got stuck on the last line "run sshd....". Can someone help me?
01:48             ---|---> loki_val [~crabbedha@0002b59f.user.oftc.net] has joined #xz-backdoor-chat
01:49  _discord_1333 | what does "got stuck" mean?
01:51  shasharina[m] | in what context?
01:56    lu3ibi3n[m] | the last line "then run sshd...", I don't know how to run it, literally
01:56     sawntoe[m] | try LD_PRELOAD=<path to file> sshd
01:57     sawntoe[m] | im assuming the .patch file is the patched object file and not a binary patch haha
02:09             ---|<<-- bauen1 [~bauen1|@ppp-212-114-180-66.dynamic.mnet-online.de] has quit (Ping timeout: 480 seconds)
02:11  _discord_1010 | Force sshd to use the modified library with LD_PRELOAD
02:11  _discord_1010 | env -i LC_LANG=C LD_PRELOAD=$PWD/liblzma.so.5.6.1 /usr/sbin/sshd -h
02:16             ---|---> _discord_488270546824331284[m] [~discor_52@2001:470:1af1:101::1:4d5d] has joined #xz-backdoor-chat
02:16  _discord_4882 | what is XZ Backdoor means guys ?
02:16             ---|---> _discord_1206623027706728479[m [~discor_52@2001:470:1af1:101::1:4d5e] has joined #xz-backdoor-chat
02:16  _discord_1206 | idk why MS disabled the original repo. whats there set of rules for disabling an open source repo ? people accidently downloading it and installing is all would be sad - but are OSS projects suppose to just shut down in these kind of events ?
02:17     sawntoe[m] | _discord_488270546824331284[m]: it refers to the backdoor in the xz project
02:17     sawntoe[m] | _discord_1206623027706728479[m: there are a couple reasons
02:17  _discord_4882 | sawntoe[m]: Do you know XZ Project ? I never hear xz
02:17     sawntoe[m] | sawntoe[m]: many package managers access the repo to build from source, having more people update their systems and installing the backdoor would be horrible
02:18     sawntoe[m] | https://tukaani.org/ hosts project source]
02:18     sawntoe[m] | * https://tukaani.org/ hosts project source
02:18  _discord_1206 | sawntoe[m]: that would make sense but not everything is nice when you have something thrown out and ofcourse discovered accidently
02:18  _discord_4882 | sawntoe[m]: ohhh
02:18  _discord_4882 | so XZ is like library right ?
02:19      laanwj[m] | note that building from the repo doesn't ever enable the backdoor, only the building tarballs that used to be hosted there too would, so removing those would have been enough-that said, that may not have been clear at the time, they wanted to err on the safe side
02:19     sawntoe[m] | _discord_488270546824331284[m]: yes
02:19     sawntoe[m] | _discord_1206623027706728479[m: sorry?
02:19  _discord_4882 | sawntoe[m]: https://github.com/tukaani-project/xz
02:19  _discord_4882 | damn has been taken down
02:20     sawntoe[m] | _discord_488270546824331284[m]: it's on git.tukaani.org/
02:20     sawntoe[m] | * it's on https://git.tukaani.org/
02:21  _discord_1206 | sawntoe[m]: i understand the additional effort for package maintainers if they download this - and later have to patch their stuff manually - but yeah this one spread like wildfire - so the solution is to disable the repo ?
02:22  _discord_4882 | sawntoe[m]: hmm currently my production is using ubuntu 22.04 LOL
02:22  _discord_4882 | is XZ library used in that ubuntu version ?
02:22  _discord_4882 | Do you know how to check if xz exist or nah ?
02:22  grandpacanary | _discord_488270546824331284[m]: `xz --version`
02:23  _discord_1206 | _discord_488270546824331284[m]: there is a detech.sh here - https://www.openwall.com/lists/oss-security/2024/03/29/4/3 that you can run - comes directly from Andres
02:23     sawntoe[m] | you can check library versions using apt
02:24     sawntoe[m] | _discord_1206623027706728479[m: to prevent any further damage i think what github did was reasonable
02:24  grandpacanary | _discord_488270546824331284[m]: you're using an Ubuntu that you downloaded, right?   You don't have the backdoored version.   It never got out to push on the stable package repos.
02:24  _discord_4882 | wtf xz last commit on 2008
02:24     sawntoe[m] | _discord_488270546824331284[m]: ?
02:24     sawntoe[m] | no?
02:24  _discord_4882 | https://git.tukaani.org/?p=lzma.git;a=summary
02:24  _discord_4882 | 2008-07-28     Lasse Collin    Hopefully fixes a problem specific to Interix. v4.32.7
02:25  _discord_1206 | sawntoe[m]: yeah sure. but banning stuff which is open source is kinda sad. Nevermind. Lets see how far this goes.
02:25  _discord_4882 | grandpacanary[m]: ubuntu os by google cloud os
02:25     sawntoe[m] | _discord_1206623027706728479[m: its not banning haha
02:25     sawntoe[m] | you're free to host your own source
02:25  *   sawntoe[m] uploaded an image: (25KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/4053e1bf28e4ae2c9831b4a1bdd9701c8e0da7d71775092283859795968/image.png >
02:26  _discord_4882 | sawntoe[m]: nvm wrong part
02:26     sawntoe[m] | _discord_488270546824331284[m]: ?
02:26  _discord_4882 | _discord_1206623027706728479[m: thanks my friend,
02:26  _discord_4882 | i will try this
02:27     sawntoe[m] | google didn't make ubuntu
02:27     sawntoe[m] | i dont know what google cloud os is?
02:27  _discord_1206 | TBH - its a pretty clever backdoor - that redirects the ssh verify functions to its own.
02:27     sawntoe[m] | _discord_1206623027706728479[m: its very sophisticated
02:27  grandpacanary | _discord_488270546824331284[m]: `xz` dates back to 2007 when it originally was just available as a tarball off of Lasse's computer and people got it from a mailing list.
02:27  scatterflower | _discord_488270546824331284[m]: wrong project
02:28  grandpacanary | wikipedia says 2009 but it's wrong because wikipedia
02:28  _discord_4882 | sawntoe[m]: when i setup new compute instance
02:28  _discord_4882 | there is a optional OS base, and i choose ubuntu 22.04, i think it';s not maintained by google cloud
02:28     sawntoe[m] | _discord_488270546824331284[m]: ohhh so its on the cloud
02:29     sawntoe[m] | it should be fine
02:29  _discord_4882 | So guys, just to make sure
02:29  _discord_4882 | This backdoor is not backdoor connection like malware did right ?
02:29  _discord_1206 | sawntoe[m]: yup. Do we have any initial findings who Jia Tan is or is associated with ? I hope he has better opsec to not get fried for this.
02:29     sawntoe[m] | _discord_488270546824331284[m]: it doesnt directly affect openssh
02:29  _discord_4882 | sawntoe[m]: so the backdoor means when we want to install package that from tar balls
02:29     sawntoe[m] | only binaries patched with libsystemd and in turn liblzma are affected
02:30  _discord_1206 | sawntoe[m]: can you pin the original post - https://www.openwall.com/lists/oss-security/2024/03/29/4
02:30     sawntoe[m] | _discord_1206623027706728479[m: i dont have perms haha
02:30     sawntoe[m] | i assume everyone here has come from the mailing list though?
02:31  _discord_1206 | sawntoe[m]: alright - i was just hoping people read the entire things before dumping skiddie questions here on what is xz - no offence
02:31     sawntoe[m] | _discord_1206623027706728479[m: there is a hackmd in #xz-backdoor-osint
02:32     sawntoe[m] | sawntoe[m]: https://hackmd.io/iyGY5LreT6KvopeAT9c_3Q for your sake
02:32  grandpacanary | _discord_1206623027706728479[m: you show two lines of asm macro to a skid and they can't see it on their screen even if you blow the font up to 48pt
02:33  _discord_1206 | grandpacanary[m]: lmao
02:34     sawntoe[m] | grandpacanary[m]: i didn't know assembly macros existed lmao
02:35  _discord_1206 | between the IOC's on corporate networks fucking got updated in real-time so fast - that I can no longer download the original .o or the injected.txt -
02:36     sawntoe[m] | _discord_1206623027706728479[m: yer can extract it yourself, for your sake there are scripts in #xz-backdoor-reversing
02:36     sawntoe[m] | let me find the messages
02:36  grandpacanary | sawntoe[m]: it's where macros came from  https://techstartups.com/2020/06/01/1969-apollo-11-used-30-lines-assembly-language-code-calculate-transcendental-functions-navigation/
02:36  _discord_1206 | sawntoe[m]: m on a corp network - my drives are always monitored - it will get flagged the moment i download it - will have a look from home
02:36     sawntoe[m] | sawntoe[m]: https://discord.com/channels/1223666474091020432/1223666474972090430/1223695076035792937
02:36     sawntoe[m] | scroll up for scripts
02:37  _discord_1206 | _discord_1206623027706728479[m: i tried already
02:37     sawntoe[m] | _discord_1206623027706728479[m: i dual boot lol
02:37     sawntoe[m] | same but i just remove the spyware
02:38  _discord_1206 | sawntoe[m]: i tried it with my vm - and another dual boot machine - they monitor everything - sorry for that.
02:38     sawntoe[m] | _discord_1206623027706728479[m: oh are you talking about network monitoring or device monitoring?
02:38  _discord_1206 | can someone look at it if they have flatline ai from binary ninja to look at the .o meanwhile
02:38     sawntoe[m] | use a vpn man haha
02:38  _discord_1206 | sawntoe[m]: both
02:39      laanwj[m] | haha yeah don't download this kind of stuff to your work pc if analyzing backdoors isn't your job
02:39  _discord_1206 | laanwj[m]: it actually is
02:40  _discord_1206 | _discord_1206623027706728479[m: nevermind -
02:40  _discord_1206 | pls continue the discussion
02:42  grandpacanary | <sawntoe[m]> "i didn't know assembly macros..." <- when a ton of crap was all done in asm for everything (mainframes), you didn't really learn so much asm steps but the macros, to the point that the macros was a language https://retrocomputing.stackexchange.com/questions/17003/were-there-higher-level-programming-macro-packages-for-the-ibm-macro-assembler
02:43  _discord_1206 | grandpacanary[m]: i think what he meant sir - was that we see no asm macros in the commits - i am not sure of the .o
02:43     sawntoe[m] | grandpacanary[m]: wow, very interesting, thanks for that! I didn't know about this haha
02:43     sawntoe[m] | _discord_1206623027706728479[m: no haha its normal to not see asm macros
02:44     sawntoe[m] | i do pwn so i analyze asm code that comes out of a compiler
02:44     sawntoe[m] | thats why i didn't know about asm macros
02:44  * _discord_488 uploaded an image: (48KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/f33f4b749e7283aabf4451e87024bffe32cc04751775097072198877184/image.png >
02:44  _discord_4882 | Is this the patch for XZ backdoor ?
02:45  scatterflower | no
02:46  scatterflower | the XZ backdoor doesn't exist in the git repo (other than in the form of the binary test files) anyways
02:46             ---|<--- konomi [~konomi@00020287.user.oftc.net] has left #xz-backdoor-chat ()
02:46      foosec[m] | _discord_488270546824331284[m]: Its a concurning thing we havent had a chance to check out yet
02:47      foosec[m] | That landlock doesnt really effect the main backdoor via liblzma and opensshd
02:47      foosec[m] | It could imply that they have a working exploit via xz and removed landlock sandboxing to facilitate it
02:48      foosec[m] | Btw had lasse gone public with whatever info he found yesterday yet?
02:48      foosec[m] | s/had/has/, s/lasse/Llasse/
02:48      foosec[m] | s/had/has/, s/lasse/Lasse/
02:49  grandpacanary | <sawntoe[m]> "wow, very interesting, thanks..." <- bunch of asm is just to get at specific op codes on a chip directly or it's timing specific and when that work is over it drops back to source that's why you don't see that much of it.   used to be ppl lived their whole careers in it the macros make the code look more like high level lang code
02:50  _discord_4882 | foosec[m]: idk man
02:50  _discord_4882 | my production level engineer is panic because XZ backdoor LMAO
02:50  _discord_4882 | we don't know what should we do
02:51     sawntoe[m] | grandpacanary[m]: ive actually never seen a macro in my life \U0001f480
02:51  _discord_4882 | https://www.openwall.com/lists/oss-security/2024/03/29/4/3
02:51      foosec[m] | Id sit tighr and setup aggressive outbound network rules
02:51  grandpacanary | _discord_488270546824331284[m]: does he have the internet
02:51     sawntoe[m] | foosec[m]: why outbound haha
02:52      foosec[m] | Cuz assuming you already blocked ssh or updated thats fine, but we dont know yet if it has the capacity to dial out
02:52      foosec[m] | Or if xz is effected and could be exploited later via crafted file
02:53     sawntoe[m] | foosec[m]: i thought it was established that it didn't have the ability to dial out?
02:53      foosec[m] | No
02:53  _discord_4882 | Guys, help me how to answer my security division
02:53  _discord_4882 | They asks me how XZ can be injected a backdoor
02:53  _discord_4882 | how to answer that
02:53      foosec[m] | It seems that way and its likely it doesnt to avoid detection
02:54         wb9688 | _discord_488270546824331284[m]: Your job is your problem
02:54      foosec[m] | _discord_488270546824331284[m]: Your security division should know this xd
02:54      foosec[m] | Whats your position?
02:55  grandpacanary | nothing so far in the RE effort #xz-backdoor-reversing has given suspicion that it may dial.   it does have calls to `system()` do let the attacker do whatever.   The command is stuffed in a certificate field the attacker would connect to `sshd` with.
02:55  grandpacanary | s/do/to/
02:55  ratchetfreak[ | _discord_488270546824331284[m]: there's been plenty of writeups on that. The tl;dr is that some distros patch sshd to link libsystemd which in turn includes xz. 
02:55  ratchetfreak[ | xz detects when it gets linked into sshd and replaces one of the rarely used auth verification paths to check for and extract a payload.
02:56  ratchetfreak[ | one of the ways that payload is used is to run a command (through the system() call)
02:57     sawntoe[m] | given it's a backdoor i see no reason for it to dial out
02:57     sawntoe[m] | thats more ratty behaviour
02:57      foosec[m] | sawntoe[m]: I agree but i wouldnt yet exclude it
02:57     sawntoe[m] | foosec[m]: i agree
02:58  _discord_1134 | guys, does anyone know the reason why jia tan was being reckless and sloppy for getting the backdoor pushed into major distros? i think it was related to a patch that systemd was gonna merge which wouldn't let the backdoor work properly
02:58             ---|User: *** _discord_1134759629084168253[m is now known as neobyte3096[m]
02:58     sawntoe[m] | personally i have stringent inbound connection rules already but not outbound ones
02:58      foosec[m] | Its very likely they wanted widespread adoption so dialing out would increase thr chance of detection
02:58     sawntoe[m] | foosec[m]: yep
02:58      foosec[m] | sawntoe[m]: I have outbound ones as well and it gives great peace of mind
02:58      foosec[m] | Opensnitch is amazing.
02:58     sawntoe[m] | foosec[m]: o what's that
02:59  grandpacanary | neobyte3096[m]: the LTS cutoff date was approaching and late in the game he was still cleaning up bc of valgrind
02:59     sawntoe[m] | i use iptables \U0001f480
02:59      foosec[m] | Check opensnitch for outbound on desktop
02:59      foosec[m] | Its dynamic and really sleek
03:00  grandpacanary | neobyte3096[m]: `systemd` team members said they are dynloading but i don't think that's in time for LTS?
03:01     sawntoe[m] | by the way what init systems are yall using?
03:02     sawntoe[m] | im looking to move away from systemd
03:02  neobyte3096[m | grandpacanary[m]: that doesn't seem like the true motive. does every distro have the same cutoff date for LTS?
03:02             ---|---> _discord_705788484475944960[m] [~discord70@2001:470:1af1:101::1:4d60] has joined #xz-backdoor-chat
03:02  _discord_7057 | sawntoe[m]: I'm on void and it comes with runit. It works.
03:02  neobyte3096[m | grandpacanary[m]: can you link that issue?
03:03  ratchetfreak[ | sawntoe[m]: good luck with that
03:03  neobyte3096[m | sawntoe[m]: systemd unfortunately, it is extremely  difficult to move away from it
03:03     sawntoe[m] | ratchetfreak[m]: its hard but it aint impossible \U0001f480
03:04  grandpacanary | neobyte3096[m]: yep let me look brb
03:04  _discord_7057 | it certainly helps if the distro of choice isn't built around it
03:04  neobyte3096[m | sawntoe[m]: for production servers, things would keep breaking and they just can't simply afford it
03:05  neobyte3096[m | although alpine seems like a good contender
03:05  neobyte3096[m | i have been using it run containers instead of ubuntu
03:06     sawntoe[m] | neobyte3096[m]: yep i agree
03:06  * _discord_894 uploaded an image: (21KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/e7450550844bc639c8c092be4036b1ea18280f6a1775102540061343744/image.png >
03:06  _discord_8940 | the guy who killed mr dabao cat got fired lmao
03:07  * grandpacanar uploaded an image: (85KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/22b41c697fe232ec88faf62f0d2b868f14b340ab1775102857318498304/image.png >
03:07  grandpacanary | neobyte3096[m]: ahh I saw this on lwn
03:08  grandpacanary | https://lwn.net/Articles/967212/
03:08  neobyte3096[m | oh, I remember. I saw it on lwn as well
03:08  neobyte3096[m | thanks
03:09  grandpacanary | https://github.com/systemd/systemd/issues/32028
03:11  grandpacanary | when the new LTS's are finally out we'll get to see what commit level everyone chose
03:11             ---|---> bauen1 [~bauen1|@dhcp-138-246-3-245.dynamic.eduroam.mwn.de] has joined #xz-backdoor-chat
03:13  neobyte3096[m | still unable to find the discussion regarding some changes for liblzma
03:21  grandpacanary | that just need to be rebased back to pre-Jia and stamped as a new Jia-free version tbh.   there was a lot of whining about theoretical compat problems but i dont think any of that is real
03:23  grandpacanary | <neobyte3096[m]> "still unable to find the..." <- was there anything salient about it?
03:25  neobyte3096[m | grandpacanary[m]: im not sure
03:28             ---|---> oles [~oles@188.81-167-68.customer.lyse.net] has joined #xz-backdoor-chat
03:29  grandpacanary | there were snarky comments about nuking IFUNC in it but that wasnt serious
03:29      laanwj[m] | i wonder why the landlock feature check was sabotaged for the CMake build, but (as far as i see) not for the autotools build
03:31  neobyte3096[m | grandpacanary[m]: yeah, it wasn't about that
03:32  grandpacanary | laanwj[m]: that happen around the same time he was working on `sandbox.c` ?
03:33  loganaden5095 | My guess would be that it protected against 0 days from untrusted xz files
03:35      laanwj[m] | grandpacanary[m]: yes https://git.tukaani.org/?p=xz.git;a=commit;h=328c52da8a2bbb81307644efdb58db2c422d9ba7
03:36      laanwj[m] | an underhanded dot is added to the check_c_source_compiles, so that it's never detected, but not to the configure equivalent
03:37  grandpacanary | if sandboxing was on and the domain being contained is the filepath.... that would interfere with calls trying to read outside the filepath.    in Lasse's older `file.io` he was using `cap_enter`
03:37  grandpacanary | ugh i dont want to think about this and go into paranoia
03:43  * grandpacanar uploaded an image: (77KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/8c5085c2a87d47a86f4432e1c0a1f1cc590784e51775111710600855552/image.png >
03:43 @           js | <prototux[m]> "it isn't, but any unix/linux..." <- As a NetBSD dev, I wish that were the case, but most Linux people don't touch anything outside of Linux or even look at it.
03:45  loganaden5095 | Bad wasn't impacted. A business case for bsd on ssh jumpboxes \U0001f642
03:47      laanwj[m] | i have used freebsd and longer ago openbsd, nowadays i stick to linux, it's difficult for me to remember all the different ways of doing the same things (such as package management, firewall management, etc), so it was too much overhead for me
03:47 @           js | I wouldn't say it's a case for it. They weren't targeted. Otherwise they would have been affected.
03:47  loganaden5095 | s/Bad/Bsd/
03:48      laanwj[m] | that said there are definitely advantages to using a lesser known os, there is some security in obscurity :)
03:48  grandpacanary | landlock was not in the Hans commit
03:50 @           js | laanwj[m]: You can also use a different CPU architecture
03:50 @           js | My servers always ran on non-Linux non-x86 \U0001f609
03:50 @           js | No more SPARC64 these days, unfortunately \U0001f62b
03:50 @           js | and Linux dropped Itanium support, so my Itanium server just sits on a shelve \u2639\ufe0f
03:50      laanwj[m] | yeah i did that with risc-v actually 
03:51  _discord_4882 | laanwj[m]: what is lesser os ?
03:51         wb9688 | js: Ah, what CPU architecture are you using nowadays then? ARM?
03:52 @           js | yeah, boring ARM64
03:52 @           js | replacing my SPARC64 server with a RockPro64 was sad and nice at the same time
03:52  grandpacanary | ok the landlock moving into the CMake was this commit
03:52 @           js | sad, because no more SPARC64 server \U0001f62d
03:52  grandpacanary | https://git.rootprojects.org/root/xz/commit/8276c7f41c671eee4aa3239490658b23dcfd3021
03:53         wb9688 | I see. I don't have any ARM servers.
03:53 @           js | Nice because: Holy crap, this thing is a fraction of the size, needs almost no power and is several times faster
03:53         wb9688 | I used to use a Raspberry Pi as a server, but I moved everything to my Intel NUC, because that's a lot faster and more stable
03:53  grandpacanary | then last night I ran capsicum down here in that an stumbled over that he nuked its use for linux, because unmaintaned
03:54 @           js | what happened is that my PSU died while I was traveling, so I moved all my services to the RockPro64 I had running. And then when I got back and fixed the PSU, I didn't move things back to the SPARC64 because, because reality was that it ran much better on the RockPro64.
03:54  grandpacanary | my guess is Jia thought having any sandbox stuff turned on would interfere with him locating offsets reliably idk
03:54         wb9688 | I am now only running ser2net on my Pi, but this is the third Pi already running ser2net, since the previous ones just died. It can't run directly on my NUC due to the location.
03:55  grandpacanary | s/in/last/, s/that/night,/, s/an/and/
03:55  grandpacanary | s/that/chat,/, s/an/and/
03:55      laanwj[m] | ARM64 is common enough that lots of exploits are written for it, but it would have saved you in this case :)
03:56         wb9688 | And when I was still running other stuff on a Pi, the SD cards regularly died and it was just so slow
03:58      laanwj[m] | i'm surprised how entirely x86_64-targeted this backdoor is--though the disasm-based hooking approach would be a heck of a lot of work to do for multiple CPU archs, and i guess most servers (at least the kind running ssh) are still x86_64 not ARM64
04:00      laanwj[m] | routers and phones don't tend to have sshd, at least not publicly internet accessible, i wonder if they had other plans for embedded
04:03  grandpacanary | laanwj[m]: everything changes on an arch change and he's sending specific op codes and the bloat is at 88k now... he could have done it and make more fake test cases but running low on time by march
04:06  somemisopaste | https://research.swtch.com/xz-script
04:08  somemisopaste | reading this analysis, it seems like the makefile was patched to include "-Wl,now" flag. i assume adding them by default in the upstream would cause suspicion? does one usually need very good reason to use those flags or am i missing here? (i do know what the purpose of that flag is)
04:09  neobyte3096[m | this is funny
04:09  neobyte3096[m | https://marc.info/?l=openbsd-cvs&m=171200100510963&w=2
04:09  grandpacanary | the difficulty of writing and testing the .o is very high... Jia ran into problems, probably was convinced the sandbox options sitting there were in his way.   so he nuked them
04:19  _discord_8468 | <neobyte3096[m]> "this is funny..." <- I like how nobody mentions anything in the rest of the thread either
04:19             ---|---> arraybolt3 [~arraybolt@2607:fb91:1126:8f6b:6faa:c39e:a243:6b40] has joined #xz-backdoor-chat
04:19             ---|User: *** _discord_846831849807544380[m] is now known as irq0_[m]
04:19      foosec[m] | Anyone know if slowroll opensuse was effected?
04:19 @           js | <laanwj[m]> "ARM64 is common enough that lots..." <- Even aarch64 linux isn't really common, though Asahi is changing that. aarch64 non-Linux - well...
04:20      laanwj[m] | <somemisopaste[m]> "reading this analysis, it..." <- as many applications use it, it could probably have been added to upstream under the guise of security/hardening, without raising very much suspicion
04:20             ---|---> mattxcloud[m] [~discord13@2001:470:1af1:101::1:4d63] has joined #xz-backdoor-chat
04:20  mattxcloud[m] | "though Asahi is changing that" more like Ampere is changing that, you can get cloud VMs with their CPUs
04:21      laanwj[m] | js: AARCH64 linux is extremely common for embedded devices and other IoT
04:21  mattxcloud[m] | hetzner and oracle cloud to name the 2 most well known aarch64 linux places
04:23 @           js | laanwj[m]: For stuff like Pi, yeah. But IoT?
04:23      laanwj[m] | js: yes
04:23  mattxcloud[m] | Well IoT still mostly runs on MIPS 24Kc
04:23  mattxcloud[m] | and ARMv7
04:23  mattxcloud[m] | sometimes ARMv5 too, but that's getting real ugly
04:25  shasharina[m] | I just found out even pacman and zstd won't run without liblzma....
04:27             ---|---> heap_groomer[m] [~discor_52@2001:470:1af1:101::1:4d65] has joined #xz-backdoor-chat
04:32  neobyte3096[m | <irq0_[m]> "I like how nobody mentions..." <- it's really strange. is he trolling?
04:35             ---|---> thematdev[m] [~thematdev@2001:470:1af1:101::1:4c8c] has joined #xz-backdoor-chat
04:37             ---|<<-- loki_val [~crabbedha@0002b59f.user.oftc.net] has quit ()
04:39   thematdev[m] | Sorry if this question was already asked, but what is the current status of affected versions? For example, Gentoo reverted xz-utils in repos to 5.4.2, but can we trust it in sense that is contains a lot of commits from Jia Tan? What is current audit status?
04:39             ---|---> crabbedhaloablut [~crabbedha@0002b59f.user.oftc.net] has joined #xz-backdoor-chat
04:40  _discord_1333 | <neobyte3096[m]> "it's really strange. is he..." <- April 1
05:24  somemisopaste | can anyone expain how does the backdoor register auditing function for dynamic linking? is LD_AUDIT exported somewhere?
05:29  neobyte3096[m | <thematdev[m]> "Sorry if this question was..." <- pretty much everyone has reverted by now
05:30  neobyte3096[m | all of his/their past commits are currently being reviewed by everyone
05:30      foosec[m] | neobyte3096[m]: My fear is that it did / does any other persistance
05:34  Powermachine1 | any updates I missed in the last 12 hours, anything significant?
05:35  _discord_8750 | https://github.com/JiaT75/STest/issues/11
05:36             ---|User: *** _discord_875091663368884284[m] is now known as azedo7314[m]
05:38             ---|---> JanoJohnAkimFranke[m] [~sf0-k46ma@2001:470:1af1:101::1:4c41] has joined #xz-backdoor-chat
06:03 @           js | Wait what?! GitHub has restored the account?! https://github.com/JiaT75
06:04      _mark_[m] | js: no -- https://github.com/Larhzu?tab=following
06:04      _mark_[m] | you can't see from their profile, but you can see from elsewhere.
06:04 @           js | Ah, they suspended the account but not the repo
06:04 @           js | weird
06:04  stan423321[m] | his forks are visible now though
06:05      _mark_[m] | The only repo suspended was xz, I think
06:06  stan423321[m] | can anyone confirm? I'm sure Jia's forks were hidden but I lack the receipts
06:07      _mark_[m] | I was looking at their forks of zstd yesterday, so \U0001f937\u200d\u2642\ufe0f
06:07             ---|---> flyingcakes[m]1 [~discor_52@2001:470:1af1:101::1:4d6b] has joined #xz-backdoor-chat
06:07  flyingcakes[m | their forks are visible
06:07  ratchetfreak[ | I mean: <https://github.com/JiaT75?tab=repositories>
06:07  stan423321[m] | huh, alright then
06:08  ratchetfreak[ | I feel like it's a lawyer double checking their terms and seeing that "adding a backdoor" is not grounds for account suspension
06:08             ---|---> flyingcakes[m] [~flyingcak@2001:470:1af1:101::1:4d59] has joined #xz-backdoor-chat
06:09  flyingcakes[m | I'm waiting for Jia Tan to return to the internet and make their statement
06:11      foosec[m] | flyingcakes[m]1: Teehee sorry guys, had to try
06:13  flyingcakes[m | I wonder if they'll ever return lol
06:13  flyingcakes[m | they're probably spectating the whole situation from a different pseudonym now
06:14  Powermachine1 | flyingcakes[m]1: https://tenor.com/bKsRD.gif
06:14  flyingcakes[m | \u2620\ufe0f
06:15  stan423321[m] | <foosec[m]> "My fear is that it did / does..." <- so this backdoor runs arbitrary (?) commands, therefore it can install something persistent. but we won't know what would that be from looking at the backdoor because commands are arbitrary
06:15             ---|---> lambda314[m] [~discor_52@2001:470:1af1:101::1:4d6c] has joined #xz-backdoor-chat
06:16      foosec[m] | stan423321[m]: I wonder if it did anything without someone using the backdoor
06:17  ratchetfreak[ | <ratchetfreak[m]> "I feel like it's a lawyer double..." <- then again there is a "without cause [and] without notice" clause for account termination:
06:17  ratchetfreak[ | > GitHub has the right to suspend or terminate your access to all or any part of the Website at any time, with or without cause, with or without notice, effective immediately. GitHub reserves the right to refuse service to anyone for any reason at any time.
06:18  _discord_2650 | ratchetfreak[m]: How is adding malware not grounds for termination?
06:18   lambda314[m] | Maybe they are keeping I up, so you can search for the user in other repos.
06:19  _discord_2650 | lambda314[m]: Potentially
06:20   lambda314[m] | They likely revoked access to the account though.
06:20  ratchetfreak[ | _discord_265096437937864705[m]: the ToC doesn't mention malware, it does mention things like "adversely affect the public interest" but that's kinda vague
06:24  ratchetfreak[ | or I just need to dive deeper into the acceptible use pages: 
06:24  ratchetfreak[ | > We do not allow anyone to use our platform in direct support of unlawful attacks that cause technical harms, such as using GitHub as a means to *deliver malicious executables* or as attack infrastructure
06:26  cl0pinette[m] | the wannacry exe is on github so i dont know if they will ban the account
06:26  ratchetfreak[ | > Restrictions are temporary where feasible, and do not serve the purpose of purging or restricting any specific dual-use content, or copies of that content, from the platform in perpetuity. While we aim to make these rare cases of restriction a collaborative process with project owners, if you do feel your content was unduly restricted, we have an appeals process in place.
06:27   lambda314[m] | cl0pinette[m]: Likely with plenty of warnings though and not disguised.
06:27  ratchetfreak[ | "dual use" referring to reverse engineering malware
06:27  cl0pinette[m] | nope, they just put the link to the repository in disallowed in the robots.txt
06:27  cl0pinette[m] | <https://github.com/Explodingstuff/WannaCry>
06:27  cl0pinette[m] | and <https://github.com/robots.txt> at the end
06:27             ---|<--- sgm [~sgm@00030768.user.oftc.net] has left #xz-backdoor-chat ()
06:27      _mark_[m] | I think that Github's TOS is pretty low on the list of problems.
06:27   lambda314[m] | Wow
06:29      _mark_[m] | Speaking of github, what happens to forks of Jia's xz repo when the primary repo is shuttered like this?
06:41       fn0rd[m] | from a digital forensics PoV the first thing you want to do is ensure read-only access and make copies (3). From that PoV, locking the repo and accounts makes sense
06:42       fn0rd[m] | <laanwj[m]> "routers and phones don't tend to..." <- compromise x86-64 Fedora/Debian/Ubuntu machines running IPv4, systemd, and sshd is enough to get into high-profile machines which cross-compile embedded firmware. At that point, you could use some other (already available) malware
06:44       fn0rd[m] | <js> "sad, because no more SPARC64..." <- I tossed away my SPARC64 and Alpha servers mid 10's and don't regret it, as they were using a shitload of power
06:45       fn0rd[m] | rumor has it NSA had a custom fab for Alpha CPUs btw
06:50  skolliets0[m] | what encryption algorithm was used
06:50  skolliets0[m] | someone smart tell me
06:52  _discord_1206 | skolliets0[m]: where ?
06:53    rlrevell[m] | the open source risc cores that jim keller's been talking about look pretty interesting
07:04       fn0rd[m] | hate to be debbie downer but thus far every time I look at RISC-V performance as replacement for main CPU for x86-64 or ARM64 it is a disappointment
07:06       fn0rd[m] | this one for example https://www.youtube.com/watch?v=8qDGV6LTOnk
07:17  tyrheimdal[m] | <skolliets0[m]> "what encryption algorithm was..." <- Not smart, but are you referring to the custom RC4?
07:29    prototux[m] | <js> "As a NetBSD dev, I wish that..." <- "with enough experience"... and a bit of willingness i guess, but of course, the BSD guy 'round here is a NetBSD one \U0001f642
07:30    prototux[m] | <fn0rd[m]> "hate to be debbie downer but..." <- you know ARM took like 10-15 years before it barely was at x86 performance, risc-v is a very new arch, give it time
07:31    prototux[m] | <fn0rd[m]> "I tossed away my SPARC64 and..." <- i still have a sun V100 right next to my desk
07:34       fn0rd[m] | I have a Xeon from approx 2017 in a server, also a waste
07:35       fn0rd[m] | I got solar power but it is going to become more expensive because of giving back to the grid is becoming less lucrative here :/
07:37       fn0rd[m] | there were some people making OpenVMS clusters with nodes running everywhere, seemed like a cool project
07:38       fn0rd[m] | as for IoT, MIPS almost never has ASRL/DEP. POWER is no player in this field, so the only architectures remaining for low power devices (including IoT) seem to be ARM64, MIPS, and RISC-V
07:39       fn0rd[m] | s/ARM64/ARM(64)/
07:47             ---|---> _discord_410707066466861067[m] [~discord41@2001:470:1af1:101::1:4d75] has joined #xz-backdoor-chat
07:47  _discord_4107 | hello
07:49  _discord_4107 | haha
07:50  _discord_3728 | Nice LoRa radio bruh
07:50  _discord_3728 | Probably more bandwidth on that than those servers were used to ;)
07:51  _discord_3728 | Also, LoRa radio and a gun on your PDU - Is the giant shelf of canned food just out of view to the left, or to the right?
07:53      _mark_[m] | are those rolling cart racks mainly for people who rent and can't mount stuff on a wall?
07:54      _mark_[m] | You don't want to see my rack, it's quite ugly.  \U0001f642
07:56  neobyte3096[m | <grandpacanary[m]> "there were snarky comments about..." <- found it: https://github.com/systemd/systemd/pull/31550
07:56  neobyte3096[m | that PR was supposed to remove liblzma from libsystemd but it wasn't merged at that time
07:57  neobyte3096[m | that is why jia tan was trying to pressure every other distro to push his version
07:57    audeuro0[m] | js: freebsd completely tosses out upstream's build system in favor of their own, so the attack would be a bit harder to execute there
07:57             ---|---> _discord_603157538245967873[m] [~discord60@2001:470:1af1:101::1:4d76] has joined #xz-backdoor-chat
07:58  _discord_6031 | interesting article about the subject - https://pentest-tools.com/blog/xz-utils-backdoor-cve-2024-3094
07:58             ---|User: *** _discord_603157538245967873[m] is now known as marinaa_n[m]
07:58    prototux[m] | <_discord_372879766342336512[m]> "Nice LoRa radio bruh" <- it's a meshtastic node
07:58  neobyte3096[m | https://research.swtch.com/xz-timeline
07:58    prototux[m] | <_discord_372879766342336512[m]> "Also, LoRa radio and a gun on..." <- near the router, actually (in case of heavy snow)
08:00             ---|---> kevans91 [~kevans91@45.63.17.192] has joined #xz-backdoor-chat
08:01    prototux[m] | mostly between me and my wife
08:02       fn0rd[m] | marinaa_n[m]: Does CVE-2024-3094 affect my machine?
08:02       fn0rd[m] | The most straightforward and safe way to check if you have the backdoored version on your machine is to run strings which xz | grep '5\.6\.[01]'.
08:02       fn0rd[m] | * Does CVE-2024-3094 affect my machine?
08:02       fn0rd[m] | The most straightforward and safe way to check if you have the backdoored version on your machine is to run strings which xz | grep '5\.6\.[01]'.
08:02       fn0rd[m] | doesn't even work on macOS \U0001f61b
08:02  neobyte3096[m | fn0rd[m]: how is that different than xz --version?
08:02  *    _mark_[m] uploaded an image: (929KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/6e9401c1bbd709cdc2c028194b1cb151305a3b571775177114111180800/image.png >
08:03      _mark_[m] | what I can see from my house with a small dipole antenna.
08:03    prototux[m] | neobyte3096[m]: it reads the liblzma version, not the "frontend" xz utility
08:03    prototux[m] | (at least, i assume that's the intent)
08:03             ---|---> Mooncairn [~mooncairn@0002c5b1.user.oftc.net] has joined #xz-backdoor-chat
08:04       fn0rd[m] | strings $(which xz) | rg 'XZ Utils'
08:09    prototux[m] | <_discord_372879766342336512[m]> "Also, LoRa radio and a gun on..." <- the funny thing is, i need to "refill" the stock of RICRs, which is probably what would you use "canned food" for
08:11    rlrevell[m] | ugh what's a good way to load symbols  in  "$addr $symbol" format into gdb
08:12    rlrevell[m] | shell script i fear
08:14       fn0rd[m] | you need to have OpenSSH Server exposed to internet, via IPv4. You need to have a Linux distribution running x86-64 which linked sshd with libsystemd, and systemd with libzma. Distribution package maintainer needs to have grabbed tarball from GitHub (ie. did not use Git).
08:14       fn0rd[m] | And as such, I have had a macOS with Homebrew: not vulnerable since macOS. An out of date Kali Linux machine (lacking 22 days of updates) not vulnerable since not updated (old xz version, also does not run OpenSSH Server but does have it installed). A PiKVM running Arch Linux: not vulnerable as runs ARM64 and Arch does not link systemd against liblzma (did have vulnerable xz version). A Windows machine with Scoop: not vulnerable
08:14       fn0rd[m] | since Windows. Containers: none vulnerable as using Debian Stable. Servers: none vulnerable as running Debian Stable and Ubuntu LTS. I've yet to figure a machine which *is* vulnerable to this, and I know that I only run OpenSSH behind Wireguard.
08:17    rlrevell[m] | bro i'm behind 7 proxies
08:17       fn0rd[m] | OK Carmen
08:23             ---|---> zhli [~zhli@DN2lk43ab.stanford.edu] has joined #xz-backdoor-chat
08:24       fn0rd[m] | found a supposedly working YARA rule https://github.com/Neo23x0/signature-base/blob/master/yara/bkdr_xz_util_cve_2024_3094.yar
08:25       fn0rd[m] | this is the correct way to figure if you are vulnerable
08:27  herzeleid02[m | <fn0rd[m]> "you need to have OpenSSH..." <- i had a machine vulnerable
08:27  herzeleid02[m | literally ipv4 and open sshd
08:27  _discord_3728 | That's why all my machines are only exposed via IPX
08:28      _mark_[m] | RFC 1149 is coo
08:30  _discord_3728 | _mark_[m]: Is avian flu malware?
08:30  _discord_3728 | Or a worm
08:34             ---|<<-- krushia [~krushia@h134-215-110-193.cntcnh.broadband.dynamic.tds.net] has quit (Quit: Konversation terminated!)
08:35      _mark_[m] | <_discord_372879766342336512[m]> "Is avian flu malware?" <- That is addressed in RFC 6214
08:36      _mark_[m] | Section 8, "Security Considerations"
08:38      _mark_[m] | If you're into this sort of thing, take a look at the unicode specification meetings: https://www.unicode.org/L2/L2016/16325.htm
08:38      _mark_[m] | At one point a mouse falls through the ceiling tiles and is officially counted as 0.002 members.
08:39      _mark_[m] | s/ceiling/light/, s/tiles/fixture/
08:42  _discord_3728 | Love it
08:49    rlrevell[m] | wow, ghidra flagged the .o as malware and is giving me shit about opening ut
08:51  ratchetfreak[ | are you sure it's ghidra and not your anti malware that got told about the backdoor?
08:51  Robert0004[m] | I don't believe ghidra has a malware check
08:52    rlrevell[m] | checking. i didn't get the usual windows popup
08:52  _discord_8722 | windows defender will complain about files as soon as they're read or written
08:52             ---|User: *** _discord_872248967688224768[m] is now known as cottontailfan[m]
08:52      _mark_[m] | that didn't take long
08:52  ratchetfreak[ | given that ghidra is a RE tool I would expect that they don't care about reading in malware to check it out
08:52    rlrevell[m] | yep Exploit:Linux/CVE-2024-3094.A
08:52    rlrevell[m] | yeah
08:53    rlrevell[m] | i must have turned off the popups or something
08:53  _discord_3728 | Such a pointless detection
08:53  _discord_3728 | Why spend CPU cycles even finding that
08:54  _discord_3728 | It's like Linux "AV" that spends all your cpu trying to find windows viruses from 2001
08:54  _discord_3728 | Gotta make sure your debian box doesn't get NIMDA, you know
08:54    rlrevell[m] | man i remember when microsoft wanted you to ruin your PC if you did linux
08:54             ---|<<-- zhli [~zhli@DN2lk43ab.stanford.edu] has quit (Quit: zhli)
08:54  _discord_3728 | post-balmer microsoft is... Not what young me would have expected
08:55    rlrevell[m] | now they're good and google's evil? wtf
08:55    rlrevell[m] | same
08:55  _discord_3728 | Eh, google is... Fine
08:55  _discord_3728 | microsoft is... fine
08:55  _discord_3728 | They're both still megacorporations
08:55  ratchetfreak[ | non of them are saints
08:55  ratchetfreak[ | s/non/none/
08:55  _discord_3728 | Both have very good security teams
08:55  ratchetfreak[ | and they are publically traded so have to be in it for the money
08:56    rlrevell[m] | not a fan of their privacy policies and the way they just hand over to LE as long as they ask nicely
08:56  _discord_3728 | They have a fiduciary responsibility to fuck you over for money
08:56    rlrevell[m] | apple is too and they manage to be better about ut
08:56  _discord_3728 | Apple makes good products but I just can't deal with walled gardens
08:57    rlrevell[m] | yeah i don't use their stuff. i wish i could stand the iphone but it just doesn't work the way you expect a phone to
08:57  _discord_3728 | Google is def in the business of selling your data but there's also def a line between the parts of Google that do that (e.g. ads shit) and the parts that do not (e.g. google cloud)
08:57    rlrevell[m] | there's always one less button than you want
08:58  _discord_3728 | rlrevell (@_discord_659897428417445909:t2bot.io) Lol same - I grew up on Macs and had a physical copy of human interface guidlines and find the iPhone to be the least intuitive shit I have ever touched
09:00  ratchetfreak[ | I hope the antitrust lawsuit against them bears fruit
09:01             ---|---> Otterlord3653[m] [~discord71@2001:470:1af1:101::1:4d79] has joined #xz-backdoor-chat
09:01             ---|User: *** Otterlord3653[m] is now known as otterlorddev[m]
09:01    rlrevell[m] | i dunno i don't agree with the antitrust lawsuits. how can you sue apple for having a monopoly on smartphones, then turn around and sue google for android?
09:02  ratchetfreak[ | duopoly is still bad for the consumer, that's what the antitrust acts are about
09:02    rlrevell[m] | i do wish they had to let you root it
09:02    rlrevell[m] | AVB is evil
09:02  _discord_3728 | I mean if they are doing anticompetition things that is bad even if it hasn't worked completely right?
09:03    rlrevell[m] | yeah
09:03  _discord_3728 | Like if you try to murder someone and fail you can't be like "I didn't murder them"
09:03    rlrevell[m] | the app store pricing is abusive i agree. they should lose on that
09:03  ratchetfreak[ | monopolies stifle innovation and stagnate the market and make their products worse for no reason other than to prevent others from entering the market
09:03  _discord_3728 | Right to repair just passed in Oregon but it's so neutered it hardly matters - Thanks, lobbyists!
09:04  ratchetfreak[ | rlrevell[m]: Epic's lawsuit tried that, unfortunately that walled garden is protected somehow
09:04    rlrevell[m] | the cell phone market just does not look like a monopoly situation. i can buy 1000 different phones from 20 bucks to $2000
09:05  ratchetfreak[ | there's plenty of things where if you haven't bought enough apple devices you are screwed in some way
09:08             ---|<<-- bauen1 [~bauen1|@dhcp-138-246-3-245.dynamic.eduroam.mwn.de] has quit (Ping timeout: 480 seconds)
09:10  _discord_3728 | I am... Very sensitive to interoperability. Chamberlain/myQ spent engineering hours breaking the homeassistant support for myQ, and now not only will I never buy anything from them, that device is no longer connected to the wifi and instead has a ratgdo puppeteering it, and the set of features available to homeassistant actually got larger
09:10      _mark_[m] | Ha, I also have a ratgdo
09:10  _discord_3728 | Nerd
09:10      _mark_[m] | you know it
09:11  ratchetfreak[ | I don't like smart home stuff, I just want dumb thermostats and physical light switches
09:11             ---|---> _discord_291145841723441152[m] [~discor_53@2001:470:1af1:101::1:4d7b] has joined #xz-backdoor-chat
09:12  _discord_3728 | once you get your blinds opening/closing based on sun position, and lights being on when you're in the room and auto-set to a color temp/brightness curve based on sun position, it's great
09:12             ---|---> _discord_1168169983919009825[m [~discord11@2001:470:1af1:101::1:4d7c] has joined #xz-backdoor-chat
09:12  _discord_1168 | YA BA DU
09:12      _mark_[m] | eh, all of my "smart" stuff is 100% local control and still has switches that do the same thing.
09:13      _mark_[m] | I could nuke all of the stuff controlling and and it would be the same switches as before.
09:13  _discord_3728 | I got pulled in proper by the bit where mitsubishi wants like $180 per minisplit AC unit to get remote control with their shitty app, so instead I spent $4 per on shitty esp32 boards + a pigtail for the serial port with esphome
09:13  _discord_3728 | So I saved like a grand and have full control instead of some 2005esque app shit
09:13  ratchetfreak[ | I'm also the kind of person that will happily black out the window in their office  because the changing sun will annoy the shit out me when I'm trying to focus o shit
09:15  * _discord_372 uploaded an image: (137KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/a876281ecc239b52497f3384fab11c5819dab92b1775195309790461952/image.png >
09:15  _discord_3728 | I also like environmental monitoring stuff - Actually explained why I was feeling like crap even when not hung over when I woke up (co2 levels in my room >3000ppm if the door is closed all night)
09:16  _discord_3728 | Oh and one benefit I just got recently from the ratgdo - If I forget to not leave the garage door remote in the car in the driveway and I remember when I'm in bed I can remotely disable all remotes instead of going and getting it
09:18  * _discord_372 uploaded an image: (250KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/cfcdea9d6e5b8f92b1d26479c3f532989b32e7a01775196005986205696/image.png >
09:18  _discord_3728 | Pulling up homeassistant and clicking around randomly I just figured out why it's not doing home/away detection correctly
09:18  _discord_3728 | That would be the location of where my last phone got pickpocketed
09:18      _mark_[m] | rip
09:19      _mark_[m] | you lost a pixel 8 pro, too, that's sad.
09:19  _discord_3728 | Had the google fi insurance on it which actually covers theft, so it was a $200 deductible
09:20      _mark_[m] | I have a P7P, mostly happy with it
09:20  _discord_3728 | Yeah P7P was pretty good, P8P is ... basically the same but better battery life
09:20  _discord_3728 | Slightly nicer screen iirc
09:22      _mark_[m] | Have you looked at ESPresense?
09:22  _discord_3728 | Ooo, is it using BLE for room-based?
09:23  herzeleid02[m | yoo guys im gonna ask again
09:23  herzeleid02[m | were there ANY reports of rogue connections or binaries running around?
09:23    gmailcom[m] | nope
09:23    gmailcom[m] | or at least not publicised
09:24  _discord_3728 | I have seen no mention of anyone's honeypot getting hits
09:24      _mark_[m] | _discord_372879766342336512[m]: Yes, BLE to determine which room you are in.
09:24  herzeleid02[m | im still inhaling hopium that my shit didnt get rsynced to some shitbox
09:25  herzeleid02[m | \U0001f975
09:25      _mark_[m] | I don't think that you would be targeted specifically.  The goal would have been after 24.04 was released, IMO.
09:26  herzeleid02[m | _mark_[m]: its obv that ubuntu lts was the goal, since it powers a lot of infrastructure
09:26  _discord_3728 | _mark_[m]: nice - BLE-capable esp32s in basically every room but currently they're all running esphome
09:26  otterlorddev[ | the chance of whoever is behind this actually using this exploit at this point seems minimal. it had a small install-base and seems to have been designed as a product, or some other longer term plan. and yeah, if someone does get hit, it's going to be some higher value target
09:27      _mark_[m] | I got a bunch of esp32c3 devices to try it out.  It works welll, but you'll need more devices than you think especially if you want to handle more than one floor.
09:27  herzeleid02[m | otterlorddev[m]: considering that its risky to rsync files away -- disk io and network upload speeds would pop up instantly
09:27  _discord_3728 | The team behind this is also probably shitting themselves trying to make sure they didn't make any bad opsec mistakes given the entire security universe is looking at their stuff
09:27             ---|---> monitor456 [~monitor45@5PUAAANG4.tor-irc.dnsbl.oftc.net] has joined #xz-backdoor-chat
09:29             ---|<<-- Mooncairn [~mooncairn@0002c5b1.user.oftc.net] has quit (Quit: Leaving)
09:29  herzeleid02[m | _discord_372879766342336512[m]: do you think thay are the type to leak findings or sell something?
09:30             ---|---> _discord_1012693876739424298[m [~discor_53@2001:470:1af1:101::1:4d7e] has joined #xz-backdoor-chat
09:30  _discord_1012 | udp or tcp ?
09:36  _discord_1012 | how can i find an open udp port on roblox game
09:38             ---|---> _discord_335750831146270721[m] [~discord33@2001:470:1af1:101::1:4d7f] has joined #xz-backdoor-chat
09:38             ---|User: *** _discord_335750831146270721[m] is now known as idkbruhpancakes[m]
09:42  _discord_3728 | <herzeleid02[m]> "do you think thay are the type..." <- We don't know shit about them
09:42  _discord_3728 | Literally everything that isn't an email/commit is speculation
09:43  _discord_3728 | Hopefully we'll get more info as the main maintainer writes his article and gets behind the scenes info out
09:43  _discord_1168 | how can i find an open udp port on roblox game
09:44  _discord_3728 | How do I get banned from club penguin
09:44  _discord_1168 | :I
09:44  _discord_1168 | \U0001f62e
09:44  _discord_1168 | penguin ?
09:44  _discord_1168 | https://tenor.com/2YIe.gif
09:45             ---|---> _discord_1224393989030154363[m [~discor_53@2001:470:1af1:101::1:4d80] has joined #xz-backdoor-chat
09:48     dumpx86[m] | Did anyone else see such in debug?
09:48     dumpx86[m] | https://x.com/bl4sty/status/1775136146537808319
09:52             ---|---> bauen1 [~bauen1|@ppp-212-114-180-66.dynamic.mnet-online.de] has joined #xz-backdoor-chat
09:56             ---|---> Mooncairn [~mooncairn@0002c5b1.user.oftc.net] has joined #xz-backdoor-chat
10:03             ---|---> dwaris[m] [~discor_53@2001:470:1af1:101::1:4d81] has joined #xz-backdoor-chat
10:06     mikewii[m] | Why ppl now use weird usernames for ssh, wtf is this: Failed password for invalid user bitcoin
10:08  oachkatzloars | <dumpx86[m]> "Did anyone else see such in..." <- I don't really think they'd try to access their backdoor now that everythings public
10:35             ---|---> _discord_309149861893373953[m] [~discor_53@2001:470:1af1:101::1:4d83] has joined #xz-backdoor-chat
10:35  _discord_3091 | how did you guys learn reverse engineering? I've been doing game hacking for about a year and while it's been a great introduction to RE I'm a long way off from being able to dissect something like this backdoor. what else can I do to learn?
10:35       jwt27[m] | i do hope this thing leaves something in the logs.  but given that some common log strings are in the code, it probably is able to scrub them
10:35  *     jwt27[m] uploaded an image: (8KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/ddf586cf7993369afa00711887998f13e9d6f8521775215563291754496/image.png >
10:35       jwt27[m] | most suspicious entry so far
10:39  stan423321[m] | someone's got a sense of humour
10:50             ---|---> M0x1S0L33T3151[m] [~discor_53@2001:470:1af1:101::1:4d84] has joined #xz-backdoor-chat
10:50  M0x1S0L33T315 | Where I can find the backdoored version?
10:50             ---|User: *** M0x1S0L33T3151[m] is now known as usrunixity[m]
10:56       nuxi7[m] | <usrunixity[m]> "Where I can find the backdoored..." <- https://snapshot.debian.org/package/xz-utils/5.6.1-1/
10:56       nuxi7[m] | Upstream source and the debian binaries. There is also packages for 5.6.0
10:58      laanwj[m] | this is really going to be the most studied backdoor in history
11:05  * oachkatzloar uploaded an image: (15KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/d7a0c0947e68544f7d56383e56b3fe21ab52e0c61775223091836747776/image.png >
11:07             ---|---> _discord_1036351329905418240[m [~discor_54@2001:470:1af1:101::1:4d85] has joined #xz-backdoor-chat
11:07  _discord_1036 | \u0412\u0441\u0456\u043c \u043a\u0443 \u044f \u043c\u0430\u0442\u0432\u0456\u0439 \u0430 \u0432\u0430\u0441 \u044f\u043a \u0437\u0432\u0430\u0442\u0438
11:07  usrunixity[m] | <nuxi7[m]> "https://snapshot.debian.org/..." <- Oh thanks ! I have this one but when trying to find the malicious rsa signature I couldnt find so I guessed it wansnt the right one
11:22             ---|<<-- mphi [~mphi@pd9e15fd7.dip0.t-ipconnect.de] has quit (Quit: WeeChat 4.2.1)
11:23             ---|---> falsifiability [~mphi@pd9e15fd7.dip0.t-ipconnect.de] has joined #xz-backdoor-chat
11:44             ---|---> otterlord [~otterlord@2a00:23c6:8a00:7201:3a76:689a:bad:96bc] has joined #xz-backdoor-chat
11:45       jwt27[m] | <oachkatzloarsch[m]> "image.png" <- lol.  should mention the one i posted was from the 4th of march
11:48       fn0rd[m] | jwt27[m]: that _is_ interesting
11:49       fn0rd[m] | Hetzner, ah well nice VPS
11:50       fn0rd[m] | <_discord_372879766342336512[m]> "I also like environmental..." <- sounds like you want a notification when co2 level is too high... gotify \u2764\ufe0f
11:51             ---|<<-- otterlord [~otterlord@2a00:23c6:8a00:7201:3a76:689a:bad:96bc] has quit (Quit: WeeChat 4.2.1)
11:51             ---|---> otterlord [~otterlord@2a00:23c6:8a00:7201:3a76:689a:bad:96bc] has joined #xz-backdoor-chat
11:52  stan423321[m] | minor update on Larhzu's site: https://tukaani.org/xz-backdoor/
11:52       fn0rd[m] | <_discord_372879766342336512[m]> "It's like Linux "AV" that spends..." <- hmm shouldn't YARA rules make this very efficient?
11:52             ---|<<-- otterlord [~otterlord@2a00:23c6:8a00:7201:3a76:689a:bad:96bc] has quit ()
11:56      laanwj[m] | im sure you can tell it what signatures to look for
12:00  *   mikewii[m] uploaded an image: (25KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/2b9918190741d4458c73c12129eab99af84609741775236827242823680/image.png >
12:00     mikewii[m] | <oachkatzloarsch[m]> "image.png" <- I though this is a joke but i had few with `jia` in the name, and jia himself xD
12:01      laanwj[m] | ssh trolls haha
12:07       fn0rd[m] | maybe those Windows viruses work in Wine or ReactOS xd
12:20             ---|---> zhli [~zhli@DN2lk4395.stanford.edu] has joined #xz-backdoor-chat
12:21             ---|<<-- Barto [~barto@0002b798.user.oftc.net] has quit (Read error: Connection reset by peer)
12:28             ---|---> Barto_ [~barto@0002b798.user.oftc.net] has joined #xz-backdoor-chat
12:29             ---|---> monitor41 [~monitor45@4JHAAAMW9.tor-irc.dnsbl.oftc.net] has joined #xz-backdoor-chat
12:31             ---|<<-- monitor456 [~monitor45@5PUAAANG4.tor-irc.dnsbl.oftc.net] has quit (Ping timeout: 480 seconds)
12:43             ---|<<-- zhli [~zhli@DN2lk4395.stanford.edu] has quit (Ping timeout: 480 seconds)
12:44             ---|<<-- monitor41 [~monitor45@4JHAAAMW9.tor-irc.dnsbl.oftc.net] has quit (Remote host closed the connection)
12:44             ---|---> monitor456 [~monitor45@4JHAAAMXB.tor-irc.dnsbl.oftc.net] has joined #xz-backdoor-chat
12:45             ---|---> Martin[m]12 [~brozkeffu@2001:470:1af1:101::1:4d87] has joined #xz-backdoor-chat
13:17             ---|<<-- crawler [~crawler@109.245.201.129] has quit (Quit: Leaving)
13:25             ---|---> Blackmail [~user@0BGAAFCHU.tor-irc.dnsbl.oftc.net] has joined #xz-backdoor-chat
13:25      Blackmail | Hello all 
13:28      Blackmail | Pretty crazy vuln, am I right guys? 
13:33 @           js | Since I'm just updating something that uses Rust: Who the hell verifies .crate files? cargo just downloads them. That's even worse than the xz situation.
13:34 @           js | but eh, what do I expect from the language that you can't bootstrap and need to download binaries\u2026
13:34 @           js | if I were someone like Jia, that would be my target.
13:44      Zborro[m] | js: I thought exactly the same today when I had to `cargo instal ...`
13:44      Zborro[m] | s/instal/install/
13:44 @           js | Zborro: I'm doing this in pkgsrc, so at least the crates are downloaded before the build and hashed
13:44 @           js | so at least they cannot be changed anymore
13:44 @           js | but who verifies them initially? probably nobody
13:46      Zborro[m] | this whole xz backdoor may actually make many other tools and processes more robust
13:46      Zborro[m] | however, I still keep in mind that with chats like we have here we're also giving hints to Jia's team what to do better next time
13:47      Zborro[m] | no way Jia's team isn't watching (or even interfering)
13:48      Zborro[m] | the other thing is that backdoors like Bvp47 lied undetected for 10 years... it makes you think
14:08       fn0rd[m] | helpful on bottom it reads Last updated <snip> e.g. now it says Last updated 2024-04-02 21:44:17 +0300
14:09 @           js | <Zborro[m]> "this whole xz backdoor may..." <- I've been always concerned about, but people called me a paranoid lunatic \U0001f937
14:13  grandpacanary | <herzeleid02[m]> "were there ANY reports of..." <- Played that out in my head since Friday.   Since I like to work in CGo, a common bad behavior is to throw the deplib directly in the repo from lazy gophers.  :giggle:    So for a limited time, they would have had to `wget` it out of the nasty package because if they went and built out of tarballs in a local make or something for ci/cd.. likely missing a requirement the
14:13  grandpacanary | autotools looks for so no `.o`     But that would have occured since Mar 3 or so and by now they would all be panicking and re-pointing to pre-Jia
14:15  grandpacanary | People threw open issues all over the place on gh asking to stop PRs for high-level binding users
14:15  grandpacanary | Thats what pisses me off so much about GitLab.
14:21             ---|---> _discord_1076182556124401705[m [~discor_54@2001:470:1af1:101::1:4d8d] has joined #xz-backdoor-chat
14:21  * grandpacanar uploaded an image: (21KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/1a5b949916d8835b2ea04a56f81dc027d114af241775272455510687744/image.png >
14:21  grandpacanary | Looks like GitLab figured it out.    They say Jia's GitHub keys appear nowhere at GitLab.  https://gitlab.com/gitlab-org/gitlab/-/issues/452603#note_1840524038
14:24    rlrevell[m] | <_discord_309149861893373953[m]> "how did you guys learn reverse..." <- i reverse engineered the kX project windows drivers for the sound blaster live to add the same features to the limux driver.  i still get a headache when I look at IDA
14:25    rlrevell[m] | then the bastards open sourced them a few years later \U0001f626
14:26  ratchetfreak[ | grandpacanary[m]: that's not what was asked for though, we asked for any time the keys appeared in commits in repos hosted on gitlab
14:29  grandpacanary | If they were using the key to commit on to enterprise repos by some chance... that's never going to get disclosed up front.  The victim would be forced to disclosed depending on if they have a duty to disclose breaches law.
14:29  grandpacanary | s/disclosed/disclose/
14:30    rlrevell[m] | <_discord_309149861893373953[m]> "how did you guys learn reverse..." <- drivers are a good place to start because they *generally* don't have as many intentional anti RE devices as games and malware etc. by which i mean simple drivers, storage, sound, etc. not a GPU
14:31             ---|---> _discord_704726239377883157[m] [~discord70@2001:470:1af1:101::1:4d8f] has joined #xz-backdoor-chat
14:31  _discord_7047 | Hello, I have a question regarding the write-execute memory protection:... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/hvqUxIMWMFFwivzWaIbKqWtt>)
14:31  ratchetfreak[ | just having them search publicly listed repos would be a good start, and then they can report to the non-public repos they host that the committer has been implicated in backdooring
14:32  grandpacanary | ratchetfreak[m]: agreed, I hope they do it...  they have motivation to scan every project they have.  deep motivation to do it.
14:33  ratchetfreak[ | _discord_704726239377883157[m]: ifunc is a way that symbol resolution gets customized. On load (a time when the symbol table is being filled out) the hook function goes in and replaces the symbol target for a specific function in sshd
14:35  _discord_2648 | the more i read about this whole thing, the more i am amazed.. xz was the perfect target, having one maintainer on a burnout, the careful planning of it all over the past 3 years, only to be busted by an engineer at microsoft doing some random optimization work
14:36    rlrevell[m] | there's a lot more to it, but it's not my area of expertise. everyone does seem to agree it was done very skillfully
14:36  _discord_7047 | Thank you, it sounds really dangerous to undermine the write-xor-execute policy with something like ifunc, but perhaps there are also legitimate use cases for ifunc
14:37  ratchetfreak[ | _discord_264861759607668737[m]: and the binary test files are not suspiscious because you expect a compression lib to have binary blobs to test against
14:37  grandpacanary | _discord_264861759607668737[m]: believe he was trying to baseline his testbed machine so he would have a zero and `sshd` chewing more cpu than usual is what he noticed first
14:38  grandpacanary | When Anders is trying to zero his QA machine, he _really_ fuckin' zeros it.
14:39  _discord_7047 | Maybe a second question: why the hell did the backdoor make ssh-connections so horribly slow that it was discovered? Was the slowdown a stupid mistake of the attacker?
14:39  _discord_7047 | I imagine that string-comparing a pubkey should not take more than one millisecond
14:41  _discord_2648 | as far as i understand, it didn't alter sshd's ability to accept normally pubkey connections, it simply patched that function to check for an additional key before going business as usual no?
14:42  _discord_2648 | * that function (RSA_public_decrypt) to check
14:44  _discord_7047 | _discord_264861759607668737[m]: True, so how can it be that the patched RSA_public_decrypt is wasting hundreds of milliseconds for regular users ? I mean in regular cases it should only do a simple string-comparison to compare the pubkey with the attackers pubkey?
14:44  _discord_1076 | I suspect a mistake - possibly some side effect of the string obfuscation via constructing a trie and searching strings there? Perhaps it worked well during tests, but later once layout of symbols or something in the sshd changed started triggering some kind of O(n^2) or other inefficiency?
14:47             ---|<<-- Blackmail [~user@0BGAAFCHU.tor-irc.dnsbl.oftc.net] has quit (Quit: Blackmail)
14:47  _discord_7047 | _discord_1076182556124401705[m: Yeah, seems to me like a stupid mistake of the attacker that could have been avoided. Making even normal non-attack-users hundreds of milliseconds slower is definitely not good for staying undetected.
14:48  _discord_2648 | if it werent for that , he would have had now the most powerful supercomputer in the world at this fingertips
14:48  _discord_1076 | Well, this is how it got actually detected \U0001f642
14:48             ---|User: *** Barto_ is now known as Barto
14:49    rlrevell[m] | I just made a post showing just how different from a normal idling server this looked https://twitter.com/BigP4P4Smurf/status/1775276897703968859
14:49    rlrevell[m] | we didn't use to have tools like perf, it would have been way harder before all this instrumentation got added
14:50             ---|---> _discord_369482796349259776[m] [~discor_54@2001:470:1af1:101::1:4d91] has joined #xz-backdoor-chat
14:50  _discord_7047 | Seems crazy, someone who is capable to write sophisticated code injection was not even able to do some basic precondition-checks to maintain the normal performance of sshd
14:52    rlrevell[m] | the only thing i can think is maybe he didn't realize that internet connected machines are *constantly* getting SSH brute force attempts? i can see not realizing it if you were never a sysadmin, maybe? or that people obsessively monitor server performance?
14:52  sophrosyne42[ | I guess the obvious answer is that it does more than simply check another public key
14:52  ratchetfreak[ | but then the pubkey is easily found in a dump
14:52     dumpx86[m] | rlrevell[m]: Good one. What was your setup for the backdoored ssh? Did you run in Vm or cloud vps
14:53    rlrevell[m] | Lol i installed and ran it right on my laptop
14:53     dumpx86[m] | \U0001f606\U0001f525
14:53  sophrosyne42[ | _discord_704726239377883157[m]: for what its worth, the backdoor itself has vulnerabilities that allow anyone to access it, so there are other problems besides
14:53    rlrevell[m] | gotta break a few eggs to make an omelette
14:53    rlrevell[m] | oh i turned it off. and i don't care if this pc gets hacked
14:54         wb9688 | Vulnerabilities in a backdoor? Lol
14:54     obafgkm[m] | i believe it's mainly the symbol resolution that takes so much time
14:54  sophrosyne42[ | I think it's worthwhile to keep in mind that the backdoor was a WIP. Jia was adding bugfixes and various funcionality after it was officially added
14:54  ratchetfreak[ | sophrosyne42[m]: not really, you still need the private key of the attacker
14:54  sophrosyne42[ | * I think it's worthwhile to keep in mind that the backdoor was a WIP. Jia was adding bugfixes and various functionality after it was 'officially' added
14:55  ratchetfreak[ | but there are prefix attacks when you have a valid payload for a server
14:55  sophrosyne42[ | I see
14:55  *  rlrevell[m] uploaded an image: (127KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/306254dcc0b0d3b4a558ca1f81119e06fdc0e7c71775160607381651456/Screenshot_2024-04-02_095645.png >
14:55    rlrevell[m] | this is the hotspot:
14:55  _discord_7047 | wb9688: Definitely possible to imagine, since they did not even manage to write fast pre-condition checks if the pubkey belongs to the attacker
14:56     dumpx86[m] | rlrevell[m]: youre too good. Share some guidance on setup
14:56  sophrosyne42[ | point is, it's not a perfect piece of software, and a lot of software written by highly sophisticated engineering teams is imperfect too, especially when they are works in progress
14:56    rlrevell[m] | i don't have it REd enough to know what that is exactly
14:56    rlrevell[m] | just install perf and learn it, it's a great debug tool
14:58     dumpx86[m] | Are we certain that the backdoor doesn\u2019t do any other nefarious activities?
14:58     dumpx86[m] | Its a sneaky backdoor, I\u2019d be skeptical until everything is fully figured out
14:58    rlrevell[m] | nope. other than from what everyone else has read online. i see debian is rolling back all of jia's changes
14:59     dumpx86[m] | root kit or smth can be awful
14:59    rlrevell[m] | which is fun because apt depends on liblzma
14:59    rlrevell[m] | and dpkg
14:59    rlrevell[m] | so i had to LD_PRELOAD the hacked version briefly to dpkg install the old one lol
15:00  _discord_2648 | dumpx86[m]: do you know any blog or something where i can follow this progress
15:00  _discord_2648 | or i guess the melting pot of it all must be here
15:00     dumpx86[m] | _discord_264861759607668737[m]: none except the gist of smx but thets technical
15:00    rlrevell[m] | then just run perf top in a terminal and 
15:00    rlrevell[m] |  for f in `seq 1 1000`; do time ssh localhost date > /dev/null; done
15:00  _discord_1076 | well, they can't just simply roll back to 5.2 because of different symbols .. so they'll have to introduce liblzma6 (=last safe 5.2.x), post dpkg and other stuff to that and then drop old liblzma5
15:00    rlrevell[m] | in the other
15:00     dumpx86[m] | * but thets reverse engineering level technical
15:01  _discord_1076 | s/post/port/
15:01    rlrevell[m] | yeah i did it the quick and dirty way. i don't envy whoever has to make that work for every debian user
15:01  _discord_3694 | I'm busy with a disassembly of liblzma_la-crc64-fast.o
15:01  _discord_3694 | As far as I can see, all symbols are obfuscations. Am I correct to assume that the first function being called is _get_cpuid?
15:01     dumpx86[m] | A digestable summary of whats reversed would be nice ilikemyglasses (@_discord_264861759607668737:t2bot.io)
15:01    rlrevell[m] | do you have the map of symbols that were alreaddy figured out?
15:02    rlrevell[m] | sec
15:02     dumpx86[m] | What are the tricks used? 
15:02     dumpx86[m] | got detouring, string obfuscation via prefix trie and what else
15:02     dumpx86[m] | can anyone summarize
15:02    rlrevell[m] | https://gist.githubusercontent.com/q3k/af3d93b6a1f399de28fe194add452d01/raw/e4008eeb5908dec642ea2443ab2b4d6abd1380b3/hashes.txt
15:03    rlrevell[m] | those can be loaded directly into ghidra with the import symbols python script
15:03     dumpx86[m] | I\u2019m looking to compile list of tricks
15:04     dumpx86[m] | I want to see a gynvael like blog format which covers object reversing
15:05     dumpx86[m] | It doesn\u2019t have to include everything since its WIP but it would be nice
15:05  grandpacanary | mind wondering, I've been thinking of ways to apply social pressure on to autotools projects to bring their origin and their release tarballs into alignment.    Browser plugin that uses server side so when you're viewing the projects public origin/mirror in savannah, gh, gl, the analysis is done and then the typical social media graphics get applied if the divergence is too great.
15:05  grandpacanary | That gets out of the business of trying to ask all the gatekeepers in the supply chain to do X, Y or Z.
15:05    rlrevell[m] | i think most autotools projects will be moving to cmake
15:06    rlrevell[m] | people have been trying to unfuck autotools since at least the 1980s. it's not going to get comprehensible
15:06  grandpacanary | "BorkedFOSS"  enough to make the drive-by observer cringe
15:07  grandpacanary | rlrevell[m]: That's why I'm in the "fuck it let's just label the project unsafe trash" mood right now
15:08             ---|---> mattzq8981[m] [~discord71@2001:470:1af1:101::1:4d94] has joined #xz-backdoor-chat
15:08    rlrevell[m] | i am sure that exact thing is being discussed at a bunch of horrendously boring meetings i am so grateful not to have to be at
15:10    rlrevell[m] | i had never used cmake before and i got llama.cpp to build on windows using mingw with the vulkan drivers for my AMD laptop GPU.  in like an hour or two. how long would that take with autotools
15:11    rlrevell[m] | it's just so objectively better
15:12  _discord_1076 | Main problem of autotools is not performance, but readability ... configure script is hundreds of kB of hardly-readable script
15:12  grandpacanary | You don't have to read it per-se you can still calculate divergence from the origin
15:13  grandpacanary | entire missing content, etc
15:13    rlrevell[m] | in which you could hide absolutely anything and it will still look like the same gobbledygook
15:14  _discord_1076 | relatively small change in the .m4 scripts that generate it can get fairly large difference in output
15:14  grandpacanary | well that's a diff problem but the issue of hugging on to release tarballs instead of building an origin match validity will never move and that's a bigger problem
15:15    rlrevell[m] | that was the whole point of all that convoluted packing and unpacking and awk and tr and shit. to blend in
15:15      _mark_[m] | cmake hides that ugliness on the host.
15:15    rlrevell[m] | oh, that will get fixed fast i bet
15:15    rlrevell[m] | yep, it's probably at least as complicated, but abstracted away inside the binaries
15:18    rlrevell[m] | well, they were dealing with Unix vendors who were deliberartely engineering everything to be as non-interoperable as possible. it's a different world now
15:18  grandpacanary | it's the OS/2 Warp of build solutions.    is it like prisoner in cell block H / identify with your abuser kind of thing where you put all this invested time into it, you can't possibly hope to dream of unfucking it
15:18    rlrevell[m] | basically the whole reason for GNU's existence is that situation
15:19    rlrevell[m] | or was rather. i'm not hating on GNU, i love the commie bastards, but their time was then
15:20    rlrevell[m] | emacs is malware though
15:21    rlrevell[m] | grandpacanary[m]: exactly. stockholm syndrome
15:21  grandpacanary | it is... and I live in it.    But a defun i wrote 10 years ago still works in my init.org... where you should be writing your self-documented config and not in .emacs btw
15:21  _discord_2648 | seems they re-enabled it https://github.com/JiaT75
15:22    rlrevell[m] | but if anyone on here is old enough to remember the absolute shittiness of all the vendor tools that GNU replaced with good ones, you can't stay mad at them long
15:22  grandpacanary | xz repo is still locked
15:23       nuxi7[m] | rlrevell[m]: Ugh solaris tar
15:23  grandpacanary | doesn't matter... Lasse's selfhosted git is now the origin
15:23    rlrevell[m] | i was just gonna say solaris cc or whatever the godawful default shell was
15:23  tyrheimdal[m] | I'm in the process of testing this for other certificate-based services also under systemd, just to see.
15:24       nuxi7[m] | rlrevell[m]: tcsh?
15:24    rlrevell[m] | i do love old SUN anything. the university we lived near would sometimes get a new computer lab or whatever donated, and it'd be like, have as many free SUN 3s as you can load in a pickup truck
15:25    rlrevell[m] | they were legit once you got linux on there
15:25       nuxi7[m] | I still have Sun Ultra 10s and SunRays in my closet from college
15:26    rlrevell[m] | i don't remember the exact model of these, but the engineering school had an "X lab" with these giant monitors where you did Xwindows projects
15:26       nuxi7[m] | i have the x86 PCI cards for the ultra10s too
15:27    rlrevell[m] | the solaris kernel engineers invented half the stuff that's in linux now
15:27    rlrevell[m] | nice. and of course before anyone knew about CO2, you could run a 20x10 foot wall of old monitors
15:28       nuxi7[m] | I was offered one of the massive 21 inch CRTs, but i declined it. I moved an entire computer lab of those, hell no
15:29    rlrevell[m] | they're so freakin heavy. and we used to cart them around to play starcraft or wahtever
15:29       nuxi7[m] | I used to have an SGI Indigo running Irix that could run the fsn program seen in Jurassic Park
15:30    rlrevell[m] | yep, we had a couple SGIs. the size of a big dorm fridge iirc
15:30       nuxi7[m] | This was a smaller workstation, but still built like a tank
15:31      foosec[m] | Any news?
15:31    rlrevell[m] | irix was such a bad OS
15:31    rlrevell[m] | trivial to root
15:31       nuxi7[m] | It might have been a model other than Indigo
15:32       nuxi7[m] | picture on wikipedia for an Indigo2 matches what i remember having
15:32  _discord_1076 | Well, or VMS terminals ... one university still had them about 25 years ago, even though they were fairly obsolete at that time ... kind of .... different unix
15:33    rlrevell[m] | yep. windows NT was derived from MS
15:33    rlrevell[m] | VMS
15:33    rlrevell[m] | the kernel anyway, the gui was from 3.1 obv
15:34       nuxi7[m] | I have an AlphaStation lying around. I always wanted to out WinNT for Alpha on it as a joke
15:34             ---|---> arraybolt3_ [~arraybolt@2607:fb91:1111:492f:2789:1b1b:c1c0:27fd] has joined #xz-backdoor-chat
15:34       nuxi7[m] | s/out/put/
15:34  grandpacanary | speaking of ye olde machinery.... brand new refresh of Hercules put out a release yaaaay  https://github.com/HerculesWS/Hercules
15:35             ---|---> zhli [~zhli@DN2lk4316.stanford.edu] has joined #xz-backdoor-chat
15:35  grandpacanary | woops... name collision
15:36  grandpacanary | drat...   still in limbo.   https://github.com/hercules-390/hyperion
15:39  grandpacanary | you want to see an interesting project maintainer....  he's the maintainer for herc (emulates IBM mainframe arch on all popular arches)  https://en.wikipedia.org/wiki/Jay_Maynard
15:40      _mark_[m] | Huh.  Tron Guy
15:40             ---|<<-- arraybolt3 [~arraybolt@2607:fb91:1126:8f6b:6faa:c39e:a243:6b40] has quit (Ping timeout: 480 seconds)
15:41    rlrevell[m] | Awesome
15:43    rlrevell[m] | <nuxi7[m]> "It might have been a model other..." <- yep, the big purple one. we had one of those. i'm trying to figure out what the even bigger one was. i might be getting it mixed up with something else
15:52    rlrevell[m] | <nuxi7[m]> "I used to have an SGI Indigo..." <- Iris 1000, or maybe 2000. i had to identify it by weight bc there's not a lot of good pics. 200lbs!
15:59  *  prototux[m] uploaded an image: (10KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/e328404dbd616f739e345242802650643f61ceeb1775296914586075136/image.png >
15:59    prototux[m] | <_discord_264861759607668737[m]> "seems they re-enabled it https:/..." <- they didn't, but they re-enabled Lasse's github account
16:00  *    _mark_[m] uploaded an image: (2103KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/64b91af523870270853e37a5e246b27ddd0257e81775297167703932928/ztc15ur505sc1.png >
16:01  user15kace[m] | _mark_[m]: bro spent years being a helpful lad for the community not just xz
16:01  user15kace[m] | \U0001f62d
16:01  user15kace[m] | some postgres's user was just testing shit out on a lts linux iso
16:02  * _discord_264 uploaded an image: (192KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/8d6fa5d158b0689550e5998f3d6fa560fa4a41b31775297894916554752/image.png >
16:03     dumpx86[m] | prototux[m]: I can see Jia\u2019s account tho
16:03      _mark_[m] | Go to Lasse's and look at who he is following
16:03      _mark_[m] | https://github.com/Larhzu?tab=following
16:03    prototux[m] | _mark_[m]: it's always the msft guy fucking linux's shit... oh wait (joking, in case of)
16:04    prototux[m] | _discord_264861759607668737[m]: it doesn't show on the main page, you have to see the follows
16:04     dumpx86[m] | Did ya\u2019ll perform stego on Jia picture
16:04     dumpx86[m] | reverse image search
16:04    prototux[m] | s/see/check/
16:04      _mark_[m] | yes, it goes to wikimedia but nowhere after that.
16:05    rlrevell[m] | http://www.sgistuff.net/hardware/systems/images/powerseries-1201-front2.jpg no one designs anything that looks this sexy anymore. it's like a classic mustang
16:09  user15kace[m] | <prototux[m]> "it's always the msft guy fucking..." <- would you like a back door in ur compression library sir
16:19             ---|<<-- zhli [~zhli@DN2lk4316.stanford.edu] has quit (Quit: zhli)
16:19             ---|---> zhli [~zhli@DN2lk4316.stanford.edu] has joined #xz-backdoor-chat
16:20             ---|---> _discord_1049529122667380776[m [~discor_54@2001:470:1af1:101::1:4d96] has joined #xz-backdoor-chat
16:20  _discord_1049 | Hi all, has anyone had success with threat hunting this discovery?? I\u2019m reading up on the documentation, oss-sec thread, alllll the articles, and it\u2019s quite complex and I\u2019m struggling to start. Any tips?
16:24  _discord_1049 | Is it effective to block the hash values for associated files and create IOAs for the processes?
16:24  _discord_1049 | Seems elementary.
16:27 @           js | Do we need an off-topic room? I mean, I like seeing SGI machines a lot \U0001f642
16:28             ---|<<-- zhli [~zhli@DN2lk4316.stanford.edu] has quit (Quit: zhli)
16:29      kam821[m] | <_discord_264861759607668737[m]> "seems they re-enabled it https:/..." <- No, they don't
16:29       fn0rd[m] | SGI \u2764\ufe0f
16:29      kam821[m] | * No, they didn't
16:39       fn0rd[m] | "Singapore
16:39       fn0rd[m] | gordonzhangcn@gmail.com
16:39       fn0rd[m] | https://snappyjack.github.io" yeah, Singapore. gordon zhang cn. And Chinese all over their GitHub. Can you be more clear regarding 'posts on his blog suggest he did know really well techniques used in xz backdoor.'? This: 'Went quiet just before 2022.' lines up with Jia's appearance
16:41  _discord_2648 | <kam821[m]> "* No, they didn't" <- you're right , my bad
16:48  tyrheimdal[m] | Does anyone know if there's a way to see followers information from an org on GitHub?
17:27             ---|---> krushia [~krushia@h134-215-110-193.cntcnh.broadband.dynamic.tds.net] has joined #xz-backdoor-chat
17:31  galacticbeat[ | https://futurism.com/the-byte/amazon-abandons-ai-stores Amazon admitted their "ai" grocery stores were actually just 1000 Indians working as remote cashiers. LoooooooooooooL
17:33       fn0rd[m] | <wtznc[m]> "https://github.com/snappyJack/..." <- this seems like social engineering class 101 lol
17:34             ---|<--- dewyatt2104[m] [~dewyatt21@2001:470:1af1:101::1:4c98] has left #xz-backdoor-chat ()
17:35  grandpacanary | galacticbeat[m]: Amazon Mechanical Turk     expansion pack DLC
17:35       fn0rd[m] | why does he need to learn about negotiation tactics
17:36   azedo7314[m] | Windows defender now detects liblzma_la_crc64_fast.o as a trojan
17:37   azedo7314[m] | tried to open it with idapro and it triggered lol
17:37  grandpacanary | azedo7314[m]: Ubuntuwin
17:37  _discord_1224 | even from a WSL1 installation, deleting the .so and breaking everything
17:39  grandpacanary | Maybe someone hosts a mirror they build from on DFS that windows manages and they just want enterprisey detection measures jic.
17:40  grandpacanary | Closed source shops that slurp FOSS libs through weird ways.
17:42             ---|---> toff9[m] [~discor_54@2001:470:1af1:101::1:4d98] has joined #xz-backdoor-chat
17:42       toff9[m] | Most large orgs will have Privilege Access Workstations for management layer zones. For manageability and monitoring ease they will probably be windows even if the connection is to non windows machines. Makes sense to have defs in defender as a layer of protection
17:47  grandpacanary | fucked pipeline:  they hang internal official libs for company use to link from, build the gcc version from the tarball, then just ship the build folder over to re-run it on MSYS2.   don't want to deal with version mismatches between the MSYS2 package they are trying to make at the end differing from the Linux one.     then the detect would tell them you're in for a real treat
17:49  grandpacanary | that would make sense if they just want one build folder going around to then stick in an archive for crashdebug later
18:29  grandpacanary | From two weeks ago:  https://gist.github.com/thesamesam/223949d5a074ebc3dce9ee78baad9e27?permalink_comment_id=5010026#gistcomment-5010026
18:30  grandpacanary | PR to cpython heh which I pull from a lot:  https://github.com/python/cpython/commit/ea51476320fb141a708f1aab380a620609e9fb30
18:34  grandpacanary | Here's the test folder he was pushing to   https://github.com/python/cpython/tree/main/Lib/test
18:36  _discord_2648 | this jia guy managed to make me scared of seeing the word "test" anywhere now
18:39  tyrheimdal[m] | That is def very interesting grandpacanary (@_discord_781783105090355201:t2bot.io) - I was looking into that guy too on Monday
18:40  grandpacanary | That binary in the PR... this one smells bad.
18:41  _discord_2648 | im not ready for another maxed out cve guys... what im gonna do now.. i should start migrating to temple os asap
18:43  * tyrheimdal[m uploaded an image: (43KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/da1ef3f57c16ee3d818622a8f2e81bf0d39944411775338203906048000/image.png >
18:43  tyrheimdal[m] | grandpacanary[m]: Someone cleaning house?
18:43             ---|---> zhli [~zhli@DN200oust.stanford.edu] has joined #xz-backdoor-chat
18:45  grandpacanary | _discord_264861759607668737[m]: OS/2 install ISOs here. https://archive.org/details/ibm-os2-warp-version-4
18:47  _discord_2648 | perfection
18:48  tyrheimdal[m] | https://www.haiku-os.org/ no love?
18:49  grandpacanary | <tyrheimdal[m]> "Someone cleaning house?" <- in go there's so many independent bind projects there's no target.   safety in numbers
18:50  grandpacanary | tyrheimdal[m]: rust compiles over there but I wish go would \U0001f642
18:50  tyrheimdal[m] | Does Haiku have QEMU? \U0001f604
18:52  _discord_3728 | I'm migrating to https://service.mattel.com/us/productDetail.aspx?prodno=N3682&siteid=27
18:53  _discord_3728 | I am between 3 and 7 years old according to my ex so I think I'm allowed to
18:55  _discord_2648 | ```It's a laptop just for kids-full of learning, laughter, and a super-cool, color-changing screen!``` full of fun and laughter as all things should be
18:58  _discord_3728 | I want a color changing screen
18:58  _discord_3728 | Mine is just red all the time
19:00  grandpacanary | cpython is just a binding project... all you should care about is "Is The Binding Alive???" you would normally just compress and decompress some test string and call it a day.
19:00  grandpacanary | There was ZERO reason to bring all that shit into the cpython repo. If you are so worried about the RISCV variant you would, as a client of the downstream lib, just testbed that.
19:00  grandpacanary | This is not a coinkidink.
19:01  grandpacanary | wibeipummedo's find is not a bad timing thing
19:04  grandpacanary | like... my goal is to get `cpython` to move up, I would fork and move it up, write up my tests results of before/after testing some stuff on a r5 chip, point to the commit and release at the upstream.    Why bring all that shit in from the corelib tests that's overkill.     You just care that things pass across the bridge.
19:05  cyberpower678 | What's the latest on this.  Is it true that there was an attempt to get this backdoor into Python too?
19:06  grandpacanary | cyberpower678[m]: they wanted to make sure Python binders did not break.  new constants for the RISCV feature https://github.com/python/cpython/pull/115989
19:07  grandpacanary | well, they wouldn't have broken the binding... just that CPython isn't going to pass them to `liblzma.so`
19:07  cyberpower678 | grandpacanary[m]: Because the backdoor was triggering that breakage, and so they worked around it by adding a bunch of bytecode to it?
19:07  cyberpower678 | * so they tried worked around
19:07  grandpacanary | the sussy thing is this dude copied all of Jai's tests bins over into the cpython repo
19:09  grandpacanary | cyberpower678[m]: having `cpython` support it makes it more visible to people who tinker with small boars.... it grows the church congregation for Jia's new release
19:09  grandpacanary | s/boars/boards/
19:10  cyberpower678 | What would the purpose of compromising CPython have been?  I can see the backdoor being accessible by trigging the SSH port scan and injecting the payload, but....
19:10  cyberpower678 | You just answered that
19:11  grandpacanary | CPython moves up on its binding minimum version, EVERYBODY now needs to move up to Jia's version... down to people running a nano running off a car battery
19:12  cyberpower678 | yikes
19:13  grandpacanary | it would spread to locked down shit like QNX.   Jia's code would be in your fucking car.   everywhere
19:14  grandpacanary | what a find!
19:14  _discord_2648 | these guys won't have any of this
19:14  * _discord_264 uploaded an image: (5KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/f753a86847f27c150651443cd9d5f9ad3851bc521775346078053302272/image.png >
19:21             ---|---> NickH [~NickH@2405:6581:d4e0:1600:2b46:79a:7e70:a4bc] has joined #xz-backdoor-chat
19:26  grandpacanary | I think this might fit into midar3 (@_discord_774066653708681226:t2bot.io) theory about a possible 0-day.
19:28  grandpacanary | My theory using his:   Jia found a way to feed a test binary through the front door comp/decom, so when you run the tests...   he has a root in it.
19:29  grandpacanary | probably not complete... but future release it will be in better shape
19:33  grandpacanary | now I know the reason for the multithread too
19:35  grandpacanary | people use `pigz` for this... you can pipe it in and pipe it out.   I pipe `pigz` with `gpg` all the time to throw large shit at LTO tape.     Jia has a lot of enhancements to add to catch up and surpass the features `pigz` has.     That's the other avenue to worldwide adoption.
19:38  grandpacanary | xz slick progress readouts to the terminal, all the new features as new lib options...  jesus.
19:53             ---|---> compuguy[m] [~discor_54@2001:470:1af1:101::1:4d9c] has joined #xz-backdoor-chat
20:23    rlrevell[m] | so it looks like he's saying PyAlloc still uses malloc() which is bad because reasons, but while workig on LZMA he saw it allocated memory in a better way. and rather than switching to a new allocator, PyAlloc could select a back end allocator the sae way LZMA selects filters
20:24    rlrevell[m] | it's a valid point, but feels a little like all he has is a hammer so everything is a nail
20:24    rlrevell[m] | verdict: don't merge, but also don't flame broil, unless he gers  arrogant
20:27    rlrevell[m] | oh. yeah, maybe he was trying to backdoor cpython lol
20:28    rlrevell[m] | those filters are completely incomprehensible risc assenbly, right?
20:28    rlrevell[m] | the new one was the sole contribution from Jia's friend at huawei
20:30    rlrevell[m] | compromising cpython gets you into every AI model in the world
20:40       fn0rd[m] | Huawei?
20:40       fn0rd[m] | he worked there?
20:41    rlrevell[m] | not sure if same guy, but it was someone with a huawei email who posted the new filter patch on LKML. looking
20:44    rlrevell[m] | nah different person
20:44       fn0rd[m] | Kamar Jamil, Jagir Kumar, all the same to me
20:44       fn0rd[m] | sorry
20:44       fn0rd[m] | https://www.mail-archive.com/xz-devel@tukaani.org/msg00571.html this just makes me cry :/
20:45       fn0rd[m] | "As I have hinted in earlier emails, Jia Tan may have a bigger role in
20:45       fn0rd[m] | the project in the future. He has been helping a lot off-list and is
20:45       fn0rd[m] | practically a co-maintainer already. :-)"
20:45       fn0rd[m] | 29 June 2022
20:46       fn0rd[m] | does anyone have e-mail address of dennis ens and jigar kumar?
20:46    rlrevell[m] | it's dunbar's number. most people. our brains are only wired to keep track of about 200 different people
20:46    rlrevell[m] | beyond that, you start mixing ppl up
20:47       fn0rd[m] | yeah i have this... i am sorry to say but with people who have like different skin color
20:47       fn0rd[m] | not that i hate or dislike but looks all similar to me
20:47       fn0rd[m] | i also have it with all these women who look the same at my kid's school lol
20:48    rlrevell[m] | plus we're taling about mostly sockpuppets
20:48    rlrevell[m] | very very little data to associate with an identity
20:48    rlrevell[m] | on purpose ofc
20:48       fn0rd[m] | yeah Dennis Ens and Jigur Kumar and Hans Jansen were sockpuppets that much is clear
20:49       fn0rd[m] | they were either Jia's sockpuppets or part of his team
20:49    rlrevell[m] | you're fairly certain all the other names and addresses are not jia?
20:51  grandpacanary | I don't believe anything about the LC of the attacker/crew, the theories are nice reads, tho.
20:51       fn0rd[m] | LC?
20:51  grandpacanary | location/culture
20:51    rlrevell[m] | yeah, i'm far from believing anything. just constructing mental model
20:52       fn0rd[m] | we need to ensure we focus on the facts
20:52    rlrevell[m] | the python thing was a great find. definitely smells
20:52    rlrevell[m] | agreed
20:52       fn0rd[m] | I still have to create a Maltego graph lol
20:52  grandpacanary | that smells HARD
20:52    rlrevell[m] | yea
20:52    rlrevell[m] | like the connection between lzma and python is just too strained
20:53    rlrevell[m] | if it's about malloc, HPC pyhon stuff already uses jemalloc or allocates everything up front  now
20:53       fn0rd[m] | so.. i wonder, and hopefully someone familiar with Singapore and China can explain... snappyJack here, claims to be from Singapore... writes all the time in Chinese... found a vulnerability in XZ 5.2.5, 4 years ago... he's into CTFs and such... what are the odds he is from Singapore? How does this diaspora work there? Jia was using a VPN to access Libera, SG VPN... how common is that for Chinese ppl? Could they be the same person?
20:53       fn0rd[m] | Friends? Schoolmates perhaps? What are these notes: https://github.com/snappyJack/Notion-Image-Hosting/tree/main/%E8%96%9B%E5%85%86%E4%B8%B0%E7%9A%84%E7%BB%8F%E6%B5%8E%E5%AD%A6%E8%AE%B2%E4%B9%89 ?
20:55  grandpacanary | there's double-binding projects out there... notable one is the Go one that uses CPython to bridge to make Python calls and get returns
20:55    rlrevell[m] | honestly i am not nearly familiar enough with that culture to know. i did see a few "aerospace academy" places where they now publish shitloads of ML papers and  which a few of this crew seem to be alumni of
20:56       fn0rd[m] | how hard is it actually for Chinese government to do a supply chain attack on hardware like say WLAN APs?
20:56  grandpacanary | buncha others use CPython for the same trick.   Use the old C support your platform has so you can mix py and your lang in same proj
20:56       fn0rd[m] | yeah snappyJack is also into cryptocurrency and ML, indeed
20:56       fn0rd[m] | https://rust-digger.code-maven.com/users/ivq did you see this btw
20:56    rlrevell[m] | and not to get tinfoil-hatty, but all of the ML papers I saw on their side had fairly obvious dual use, if not a primary military use
20:57    rlrevell[m] | oh ok this guy is snappyjack
20:57    rlrevell[m] | thought they were 2 ppl
20:57       fn0rd[m] | they are right?
20:57    rlrevell[m] | yea, same parrot avatar at least
20:58       fn0rd[m] | parrot avatar?
20:58    rlrevell[m] | i still gotta catch up on the thread a bit
20:58       fn0rd[m] | nah they both have a cat avatar
20:58       fn0rd[m] | https://discord.com/channels/1223666474091020432/1224407864307880047/1224914467901538395
20:58       fn0rd[m] | see discussion there
21:00       fn0rd[m] | https://docs.rs/rust80211/latest/rust80211/#
21:00       fn0rd[m] | watch this become a hostile repo over time \U0001f61b
21:08             ---|<<-- Mooncairn [~mooncairn@0002c5b1.user.oftc.net] has quit (Quit: Leaving)
21:08    rlrevell[m] | you gotta love twitter https://twitter.com/samanthawillman/status/1775278560137408534
21:08    rlrevell[m] | he's one step ahead of me
21:10             ---|---> _discord_603450743848042516[m] [~discor_54@2001:470:1af1:101::1:4da0] has joined #xz-backdoor-chat
21:24    rlrevell[m] | pinterest, definitely non sockpuppet
21:31       fn0rd[m] | i didnt check contents
21:32       fn0rd[m] | just sharing what holehe found, unfortunately holehe isnt complete at all, there are many more options available
21:38       fn0rd[m] | jiat75@gmail.com no accounts anywhere
21:39       fn0rd[m] | I'm rate limited on soundcloud, snapchat
21:40             ---|---> Mooncairn [~mooncairn@0002c5b1.user.oftc.net] has joined #xz-backdoor-chat
21:44       fn0rd[m] | https://github.com/tukaani-project/.github/blob/main/.github/ISSUE_TEMPLATE/bug_report.yaml what is his thought process here, is he trying to win some time here?
21:46  grandpacanary | he doesn't want you to do a drive-by github issue
21:49  grandpacanary | he also wants to talk to you 1-on-1... not with an audience coming at him.   less effort to craft an excuse to one developer than a rat's nest of them coming in all at once
21:50       fn0rd[m] | does anyone have jigur kumar and dennis ens email address?
21:50       fn0rd[m] | yeah i guess it works like that
21:53    audeuro0[m] | it's not at all weird to want some structure to created issues
22:01       fn0rd[m] | point is he wants email to xz@ and I bet he had or wanted control of that email
22:02       fn0rd[m] | this buys him time, so for example if he has remote access to his high profile target, then he could add an implant cause his RCE gets patched, or remove his presence
22:03  tyrheimdal[m] | Fun fact: That email owns the org on GitHub too
22:04  tyrheimdal[m] | Most likely he just wants to get ahead of things if someone picks up something weird, so he can jump in and be the hero.
22:04    audeuro0[m] | for security issues, sure, that's also the policy documented by SECURITY.md in the xz repo
22:10       fn0rd[m] | so i wonder was that email owned by lasse or handed over to jia
22:17             ---|---> pabs [~pabs@pabs.user.oftc.net] has joined #xz-backdoor-chat
22:19  tyrheimdal[m] | Considering Jia had the xz.tukaani.org subdomain, I'm guessing he gave him that e-mail as well.
23:00     dumpx86[m] | Has someone tried to email jia ?
23:07  tyrheimdal[m] | Heh, what'd you really ask? "Hi, is this the NSA?" :PepeLaugh:
23:07  tyrheimdal[m] | Could be interesting to email just to see if it bounces or not.
23:39     dumpx86[m] | I mean find some universal xss on chrome and gmail and drop it or a tracker link which logs IP :>
23:39     dumpx86[m] | * find some ~universal xss, * drop it~ or
23:39     dumpx86[m] | s/*//, s/~/~~/, s/~/~~/
--- Day changed Wed Apr 03 2024
00:11             ---|---> duckie3331[m] [~discor_54@2001:470:1af1:101::1:4da6] has joined #xz-backdoor-chat
01:48             ---|---> lupin_36230[m] [~discor_55@2001:470:1af1:101::1:4dab] has joined #xz-backdoor-chat
02:17             ---|---> kris6412[m] [~discord65@2001:470:1af1:101::1:4dad] has joined #xz-backdoor-chat
02:19  * lupin_36230[ uploaded an image: (163KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/7736f0663a862a34d6994c4886372dea844c63061775453102841790464/image.png >
02:19  * lupin_36230[ uploaded an image: (269KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/f4aae413a794464049db26020477ffc992545ec81775453109355544576/image.png >
02:19  lupin_36230[m | hmm, it still can not work, i also use the patched libzma @@ duckie3331 (@_discord_1152111493849038868:t2bot.io)
02:50             ---|<<-- bauen1 [~bauen1|@ppp-212-114-180-66.dynamic.mnet-online.de] has quit (Ping timeout: 480 seconds)
03:27             ---|---> Xiphoseer[m] [~discord1_@2001:470:1af1:101::762c] has joined #xz-backdoor-chat
03:57             ---|<<-- wyrmling [~newt@2600:3c09::f03c:93ff:fef6:2f1c] has quit (Quit: WeeChat 3.0)
04:02             ---|---> newt [~newt@2600:3c09::f03c:93ff:fef6:2f1c] has joined #xz-backdoor-chat
04:02             ---|User: *** newt is now known as Guest4764
04:05      foosec[m] | Opensuse just got a downgrade for liblzma and xz
04:05      foosec[m] | but its already been downgraded to 5.4.6, anyone know whats up?
04:09        selckin | 5.4.2 was last release by original author, most going to that
04:10 @           js | <tyrheimdal[m]> "https://www.haiku-os.org/ no..." <- Wow, how off-topic it has gotten here. But as a these-days-inactive Haiku developer, I can't really complain \U0001f605.
04:10 @           js | <grandpacanary[m]> "rust compiles over there but I..." <- Port it!
04:10 @           js | <tyrheimdal[m]> "Does Haiku have QEMU? \U0001f604" <- Yep.
04:10 @           js | I think waddlesplash even worked on a hypervisor for Haiku
04:11  loganaden5095 | The nsa could have easily strong armed ibm to put a backdoor in rhel.
04:12        selckin | they have it in your bios don't worry
04:12  loganaden5095 | I'm still not convinced this is the work of the nsa apart from rc4.
04:13        selckin | that means you at least have some intelligence
04:14 @           js | https://ap.nil.im/notice/AgVOGzVJNSDIfarhmy rofl
04:15             ---|<<-- Carnildo [~mark@c-73-239-194-118.hsd1.wa.comcast.net] has quit (Read error: Connection reset by peer)
04:15             ---|---> Carnildo [~mark@c-73-239-194-118.hsd1.wa.comcast.net] has joined #xz-backdoor-chat
04:15      foosec[m] | <selckin> "5.4.2 was last release by..." <- Went from reverto5.4-3.2 to 5.4-2.1
04:16 @           js | Can someone give me a link to 5.4.2?
04:16        selckin | don't know how to parse suse versions
04:16 @           js | GitHub is gone and tuukani also no longer works
04:18        selckin | https://ftp.belnet.be/pub/rsync.gentoo.org/gentoo/distfiles/68/xz-5.4.2.tar.gz or from something that counts as upstream
04:22  *           js sent a code block: https://matrix.org/_matrix/media/v3/download/matrix.org/tWnuzxDRgwcCidHkgamURETo
04:23 @           js | wanted to see last non-Jia vs. last-Jia-but-assumed-not-backdoored release
04:24 @           js | ok, 6% of that are just the ChangeLog already \U0001f604
04:24 @           js | ah, and a big .cmake file that has been checked in, just like the .m4 - yay
04:34      foosec[m] | The current opensuse version is still 5.4.6
04:34      foosec[m] | not sure what the downgrade was and with no info from suse its sketching me out
04:40        selckin | you can't look it up? reason enough to not use suse
04:41      foosec[m] | it went from 5.4-3.2 to 5.4-2.1
04:49  alecmocatta[m | <fn0rd[m]> "so.. i wonder, and hopefully..." <- maybe from shanghai per old hackerone account that might well be his https://hackerone.com/snappyjack?type=user
04:49             ---|---> bauen1 [~bauen1|@dhcp-138-246-3-245.dynamic.eduroam.mwn.de] has joined #xz-backdoor-chat
04:52       fn0rd[m] | Shanghai
04:52       fn0rd[m] | Joined April 2017
05:43             ---|---> _discord_481197243584741377[m] [~discord48@2001:470:1af1:101::1:4db5] has joined #xz-backdoor-chat
05:43  _discord_4811 | has anyone figured out the purpose of the random bytes in the bad 3 stream .xz bash script, and the various "eval $yosA" with random invalid variable names in the good large .xz script? is it to somehow change entropy or such to help make the LZMA compressed data harder to spot?
05:48      laanwj[m] | one theory was that the evals could be some kind of set of debugging hooks for the backdoor; by setting those environment variables it's possible to have commands run at certain places in the process
06:09             ---|<--- tamiko_ [~matthias@tenjin.43-1.org] has left #xz-backdoor-chat ()
06:19             ---|---> yaremer[m] [~discor_55@2001:470:1af1:101::1:4db7] has joined #xz-backdoor-chat
06:23  _discord_4811 | interesting - the amount of design and effort that went into this whole thing is mind boggling - I don't see this being the work of a single person - not while also maintaining cover of being a good maintainer
06:23  _discord_4811 | I would think one person ran the maintainer cover while others worked on the design of the build system mods and the actual payload code design with the many layer of obfuscation and camouflage
06:23  _discord_4811 | surely if this much effort was invested they must have had backup plans or other software they compromised
06:25  ratchetfreak[ | IMO it's still possible to be a single person's passion project
06:28  ratchetfreak[ | from what I can see  the xz compression algorithm was finalized by the time he took over, so the regular "good maintainer" front is merging the bugfixes in as they pop up
06:29  tyrheimdal[m] | <js> "Wow, how off-topic it has gotten..." <- Lmao, that is some coincidence huh! And QEMU support in Haiku OS? Nuts.
06:34             ---|---> risc_vi[m] [~discord80@2001:470:1af1:101::1:4db8] has joined #xz-backdoor-chat
06:34     risc_vi[m] | https://www.youtube.com/watch?v=vV_WdTBbww4
06:38             ---|<<-- zhli [~zhli@DN200oust.stanford.edu] has quit (Quit: zhli)
06:47             ---|---> bauen1_ [~bauen1|@opnsense.lrt.ed.tum.de] has joined #xz-backdoor-chat
06:48             ---|<<-- bauen1 [~bauen1|@dhcp-138-246-3-245.dynamic.eduroam.mwn.de] has quit (Ping timeout: 480 seconds)
07:10      laanwj[m] | i also think this is a team effort, not only the amount of work, but it combines everything from ELF anti-reverse engineering/hiding techniques, shell scripting tricks, x86 disassembly/steganography, hiding things in xz files, knowledge of openssl/cryptography key innards, then there's the social engineering involved; and so on, it also seems robustly designed (apart from the slowness bug), so many expertises i doubt it's from one
07:10      laanwj[m] | person. 
07:10      laanwj[m] | it's not impossible though a driven person can do a lot in two years
07:13      laanwj[m] | and i doubt we're seeing everything: this is probably not the only stage involved, they must also have been working on further stages to run after the initial exploitation, eg a rootkit, and maybe frontend tooling to use it
07:24             ---|---> zhli [~zhli@DN2lk43ab.stanford.edu] has joined #xz-backdoor-chat
07:35  _discord_4811 | yes I agree they would have had to have been working on the rootkit or whatever they intended to push in parallel with the backdoor - we don't even know if they were going after a mass infection or if they were targeting a specific network that happened to use apt or rpm package manager distro for their servers
07:37  _discord_4811 | anyway I am not going to feel comfortable until my distro removes systemd and all the extra libs from sshd - the whole thing seems just asking for backdoors in the other dependencies
07:37  _discord_4811 | considering I was reading that libsystemd isn't even needed for the notification stuff they are using it for - just opening a socket and sending some text would remove need for this lib in the first place
07:41  Robert0004[m] | https://www.youtube.com/watch?v=Joed0P3hhbc lol a different kind of backdoor
07:44             ---|---> earthling16[m] [~discord53@2001:470:1af1:101::1:4dbb] has joined #xz-backdoor-chat
07:47             ---|<<-- crabbedhaloablut [~crabbedha@0002b59f.user.oftc.net] has quit ()
07:49             ---|---> crabbedhaloablut [~crabbedha@0002b59f.user.oftc.net] has joined #xz-backdoor-chat
07:51             ---|---> mooskagh[m] [~discor_55@2001:470:1af1:101::1:4dbc] has joined #xz-backdoor-chat
08:01       fn0rd[m] | old one
08:13             ---|<<-- zhli [~zhli@DN2lk43ab.stanford.edu] has quit (Quit: zhli)
08:13  _discord_4811 | oh nice sshd added a way for everyone to remove libsystemd dependency - https://github.com/openssh/openssh-portable/commit/08f579231cd38a1c657aaa6ddeb8ab57a1fd4f5c
08:13  _discord_4811 | hopefully those libsystemd patches go away when next release lands
08:16             ---|User: *** _discord_593081254962921473[m] is now known as riatre[m]
08:24             ---|---> zhli [~zhli@DN2lk438p.stanford.edu] has joined #xz-backdoor-chat
08:41             ---|<<-- zhli [~zhli@DN2lk438p.stanford.edu] has quit (Quit: zhli)
09:20             ---|---> zhli [~zhli@DN2lk438p.stanford.edu] has joined #xz-backdoor-chat
09:22  grandpacanary | <grandpacanary[m]> "they wanted to make sure..." <- lack of sleep... just want to edit that to make it clear what I was thinking
09:23             ---|<<-- zhli [~zhli@DN2lk438p.stanford.edu] has quit ()
09:26  grandpacanary | The point I was trying to make that CPython when you want them to move up their binding, you just have to prove it doesn't break existing Python code and that the new feature in the library is actually received and obeyed---dragging in Jia's bins is hugely unnecessary in the test that was submitted.
09:26  grandpacanary | s/that/in/
09:30  _discord_2911 | People like to copy code and test cases.
09:31  grandpacanary | _discord_291145841723441152[m]: but the point is to test python, not retest the library the project doesn't own  \U0001f615    but... yeah.
09:32             ---|---> hporten[m] [~discord75@2001:470:1af1:101::1:4dbd] has joined #xz-backdoor-chat
09:37             ---|---> zhli [~zhli@DN2lk438p.stanford.edu] has joined #xz-backdoor-chat
09:42             ---|---> hollo6852[m] [~discord93@2001:470:1af1:101::1:4dbe] has joined #xz-backdoor-chat
09:43  grandpacanary | since his PR was kicked out, maybe he comes back and says that he saw Jia created his own memory allocator, and he's really interested in edits that optimize the opcalls as much as possible on RISCV.   So he wanted jia's bins to show Jia what happens when the CPython client hits it.
09:44  grandpacanary | but even in that case, I would not be trying to throw that into the PR I would fork it and show Jia my version
09:45             ---|<<-- zhli [~zhli@DN2lk438p.stanford.edu] has quit (Ping timeout: 480 seconds)
09:48             ---|---> lsof[m] [~lsofrxhau@2001:470:1af1:101::1:4dc1] has joined #xz-backdoor-chat
--- Log closed Wed Apr 03 09:55:16 2024
--- Log opened Wed Apr 03 09:55:21 2024
09:55             ---|---> cmj`_ [slyalgo@sdf.org] has joined #xz-backdoor-chat
09:55             -!-| Irssi: #xz-backdoor-chat: Total of 306 nicks 2 ops, 0 halfops, 0 voices, 304 normal
09:55             -!-| Irssi: Channel: Join to #xz-backdoor-chat was synced in 18 secs
09:55             ---|Netsplit resistance.oftc.net <-> larich.oftc.net quits: marius_zulu7, arraybolt3_, cmj`, f_[xmpp], HugsNotDrugs, krushia, Carnildo, mdeslaur, ItzSwirlz
09:55             ---|User: *** marius_zulu7_ is now known as marius_zulu7
09:55             ---|User: *** HugsNotDrugs` is now known as HugsNotDrugs
09:57             ---|Netsplit over, joins: ItzSwirlz
09:59             ---|---> mdeslaur [~mdeslaur@modemcable124.107-58-74.mc.videotron.ca] has joined #xz-backdoor-chat
10:22             ---|---> _discord_1147887359594070116[m [~discor_55@2001:470:1af1:101::1:4dc2] has joined #xz-backdoor-chat
10:24  _discord_1147 | https://mp.weixin.qq.com/s/mbiIi042p-N3Jhvzv8Bxqw... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/zqeRKpqBUpCBtQbnbIxlQgar>)
10:25             ---|---> zhli [~zhli@DN2lk434j.stanford.edu] has joined #xz-backdoor-chat
10:27             ---|---> Ashiudo_ [Ashiudo@ks397073.ip-192-95-27.net] has joined #xz-backdoor-chat
10:34             ---|<<-- zhli [~zhli@DN2lk434j.stanford.edu] has quit (Quit: zhli)
10:44             ---|---> zhli [~zhli@DN2lk434j.stanford.edu] has joined #xz-backdoor-chat
10:59  _discord_8940 | do anyone got the xz github backdoor commit link
11:12      kam821[m] | <_discord_894035196121325649[m]> "do anyone got the xz github..." <- You mean original xz repository commit that included backdoor?
11:17  ratchetfreak[ | the backdoor was added over multiple commits, that's part of how he hid the backdoor
11:18  _discord_8940 | <kam821[m]> "You mean original xz repository..." <- ye
11:18  _discord_8940 | ratchetfreak[m]: i mean the first one
11:18  _discord_8940 | first commit
11:32             ---|---> nixx [~nick@00010960.user.oftc.net] has joined #xz-backdoor-chat
11:38      _mark_[m] | trxnn4930 (@_discord_954402826686201929:t2bot.io) https://gitlab.archlinux.org/archlinux/packaging/packages/xz/-/commit/881385757abdc39d3cfea1c3e34ec09f637424ad
11:39      _mark_[m] | You can see that they switched from downloading the release from github to downloading from git.
11:39      _mark_[m] | Later commits switch to gittunaaki.org since the repo was shuttered
11:39      _mark_[m] | * Later commits switch to git.tunaaki.org since the repo was shuttered
11:40   trxnn4930[m] | Thanks. And they do run autogen.sh
11:40   trxnn4930[m] | I presume Debian doesn't, this is why the attack worked there in the first place
11:42             ---|User: *** Carnildo_again is now known as Carnildo
11:46             ---|---> Dunedan [~dunedan@0002be30.user.oftc.net] has joined #xz-backdoor-chat
12:01      obfusk[m] | <trxnn4930[m]> "I presume Debian doesn't, this..." <- based on what I've seen of the resulting discussion on debian mailing lists, that would not have affected the added m4 file even if they had.
12:10       fn0rd[m] | "Symlinks are not the answer. If I want to comply by specifications such as XDGBDS then I want there to be NO ~/.ssh directory, symlinked or not."
12:10       fn0rd[m] | yeah well go fork OpenSSH and run NixOS \U0001f61b
12:16   valeriifj[m] | <tyrheimdal[m]> "Someone cleaning house?" <- What does it mean? What was done 1 hour ago?
12:18             ---|<<-- zhli [~zhli@DN2lk434j.stanford.edu] has quit (Quit: zhli)
12:18   trxnn4930[m] | <obfusk[m]> "based on what I've seen of the..." <- Everyone talks only about the .m4 file, but apparently Jia Tan edited the Makefile also to reference it
12:18   trxnn4930[m] | Seems like an important remark that's not often mentioned
12:24  *     fn0rd[m] uploaded an image: (78KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/2ba1c801ff9cf73916061d4aac38cf8ced955ea81775605237449490432/2024-04-03_16.26.19.jpg >
12:36             ---|---> oVefLoW[m] [~wolfrevom@2001:470:1af1:101::1:4c25] has joined #xz-backdoor-chat
12:36  _discord_2648 | guys im not that pro at lunix, in wsl how can i load the backdoored lib patched with xzbot so that sshd can use it? would something like export LD_PRELOAD=/path/to/liblzma work, then restart ssh ?
12:37       fn0rd[m] | what does it say when you type uname -a on WSL?
12:37       fn0rd[m] | it checks if you run Linux
12:37       fn0rd[m] | if you don't, won't work
12:37       fn0rd[m] | it also checks arch
12:37       fn0rd[m] | no x86-64, won't work
12:38       fn0rd[m] | as in, it won't add the backdoor when you build it
12:38  _discord_2648 | Linux user 5.15.146.1-microsoft-standard-WSL2 #1 SMP Thu Jan 11 04:09:03 UTC 2024 x86_64 x86_64 x86_64 GNU/Linux
12:39       fn0rd[m] | does WSL use systemd?
12:40             ---|<<-- bauen1_ [~bauen1|@opnsense.lrt.ed.tum.de] has quit (Ping timeout: 480 seconds)
12:40  _discord_2648 | when i do the ldd on sshd it shows that it is loaded in there
12:40  _discord_2648 | liblzma.so.5 => /lib/x86_64-linux-gnu/liblzma.so.5
12:44   valeriifj[m] | <fn0rd[m]> "does WSL use systemd?" <- WSL2 may. WSL1 does not.
12:45   valeriifj[m] | WSL2 is just a virtual machine I do not use it
12:45  tyrheimdal[m] | You can control systemd in WSL2 by enabling/disabling it in /etc/wsl.conf.
12:46  _discord_2648 | systemd=true
12:48   valeriifj[m] | _discord_264861759607668737[m]: They you are good. Well... \U0001f606
12:48   valeriifj[m] | BTW, systemd is not longer used by debian
12:48   valeriifj[m] | Since today
12:48  tyrheimdal[m] | Even if you were to run `sshd` in WSL2 on Windows, it wouldn't magically be open outside.
12:48   valeriifj[m] | * used by openssh debian
12:48  _discord_2648 | what you mean open outside
12:49  _discord_2648 | i wanted to test it with localhost ip
12:50   valeriifj[m] | _discord_264861759607668737[m]: Or open at all. Servicectl
12:50  tyrheimdal[m] | I mean as in if you bind to 0.0.0.0:22 inside WSL2 unless you configure very specific options, then it still would not be reachable externally. \U0001f642 But you can reach it on localhost (from Wintendo).
12:50  _discord_2648 | ye it worked to reach it like that
12:50  _discord_2648 | but idk how to load the patched library
12:51  tyrheimdal[m] | just use LD_PRELOAD=liblzma... before executing /usr/bin/sshd.
12:51  _discord_2648 | alright lets see
12:51  tyrheimdal[m] | * just use LD_PRELOAD=liblzma... before executing /usr/sbin/sshd.
12:57             ---|<<-- nixx [~nick@00010960.user.oftc.net] has quit (Remote host closed the connection)
12:58             ---|---> nixx [~nick@bras-base-winoon0907w-grc-15-184-147-79-114.dsl.bell.ca] has joined #xz-backdoor-chat
12:59       fn0rd[m] | https://github.com/hlein/distro-backdoor-scanner
13:03     dumpx86[m] | https://twitter.com/AminovDanielle/status/1775594696410022318
13:03     dumpx86[m] | We have identified logic to potentially hook more than one function:... (full message at <https://matrix.org/_matrix/media/v3/download/matrix.org/OJxiLLgsbPZYQifxlMabouCe>)
13:04       fn0rd[m] | https://pbs.twimg.com/media/GJ7R8XDWUAALFG_?format=png&name=4096x4096
13:04       fn0rd[m] | nice summary
13:06      foosec[m] | dumpx86[m]: Do all the hooks have the same payload?
13:09 @           js | https://git.tukaani.org/?p=xz.git;a=blob;f=THANKS;h=85443cb87f1b3ea488fd8477abf4dde35bc2c482;hb=HEAD#l154 \U0001f604
13:11             ---|---> _discord_379839049617113090[m] [~discor_56@2001:470:1af1:101::1:4dca] has joined #xz-backdoor-chat
13:11             ---|User: *** _discord_379839049617113090[m] is now known as calestyo[m]
13:11   trxnn4930[m] | Jia Tan indeed helped us to be more aware of attacks like these
13:12  cottontailfan | trxnn4930[m]: Maybe in the short term, but who's to say people will remember this episode in 5 years
13:12  cottontailfan | * 5 years?
13:12   trxnn4930[m] | cottontailfan (@_discord_872248967688224768:t2bot.io) hopefully the way open-source contribution and vetting works will likewise change by then
13:12  cottontailfan | I agree
13:12 @           js | cottontailfan[m]: I think in a few days, I'll add some more rooms here that are more future-looking. To coordinate auditing other projects etc. To make the chances of this happening again smaller
13:13       fn0rd[m] | the hook RSA_set0_key is the hook overrides the public RSA key with a prebuilt constant key
13:13  cottontailfan | js: I like that idea
13:13  cottontailfan | (did that reply work?)
13:13       fn0rd[m] | ++
13:13       fn0rd[m] | EVP_PKEY_set1_RSA no idea what that hook does
13:14 @           js | cottontailfan[m]: Yes
13:14  cottontailfan | cool
13:15      _mark_[m] | <js> "https://git.tukaani.org/?p=xz...." <- Lasse should add a NOTHANKS file
13:15 @           js | FUCKYOUS ;D
13:15 @           js | or should that file be called MIDDLEFINGERS?
13:16   trxnn4930[m] | \U0001f595.md
13:19             ---|---> zhli [~zhli@DN2lk43f7.stanford.edu] has joined #xz-backdoor-chat
13:21  _discord_2648 | wait so in journalctl there wont show any connection attempt  at all?
13:23 @           js | no
13:24   trxnn4930[m] | very stealthy door
13:26  _discord_2648 | state of the art backdoor
13:28             ---|<<-- zhli [~zhli@DN2lk43f7.stanford.edu] has quit (Quit: zhli)
13:34      foosec[m] | <js> "I think in a few days, I'll..." <- Honestly i was thinking about how we as a community might go about ensuring all projects are properly vetted;
13:34      foosec[m] | It seems like a hard ask
13:36      laanwj[m] | i also hope linux is going to implement and use sandboxing and privilege/capability seperation at a larger scale, so that not everything needs to be trusted... it wouldn't have helped in this particular case for a shared library used by a system daemon, but open source still operates in a "everything can be trusted equally" kind of footing at large
13:36   trxnn4930[m] | first of all, why are tarballs not automatically generated by github?
13:37   trxnn4930[m] | why do you have to upload them manually?
13:37   trxnn4930[m] | i guess there are the "Source code" links
13:37   trxnn4930[m] | same with binaries. how do we really know that the binaries were compiled from source?
13:38   trxnn4930[m] | downloading artifacts from CI would have proven that, but the releases tab? nope
13:38      obfusk[m] | trxnn4930[m]: that's what reproducible builds are for.
13:39      laanwj[m] | trxnn4930[m]: with deterministic builds it's possible for multiple people or entities to repeat the process "attest" that a certain source code builds to a specific binary, i think that's all you could do
13:39   trxnn4930[m] | i guess, but who really checks that builds are indeed reproducible? we have unit tests, we have CI
13:39      laanwj[m] | there's still trust needed but not in one entity
13:39   trxnn4930[m] | but there's no such mechanism for reproducible builds as far as I know\
13:39      laanwj[m] | there's no perfect solution to any of this but there ar eimprovements possible
13:40   trxnn4930[m] | yes, it's possible, which is why they should be made
13:40   trxnn4930[m] | it's already not that bad right now though, which is why such attacks are rare
13:41      laanwj[m] | or maybe just no one was brazen and anti-social enough to do it \U0001f604
13:41             ---|---> bauen1 [~bauen1|@ppp-212-114-180-66.dynamic.mnet-online.de] has joined #xz-backdoor-chat
13:42   trxnn4930[m] | yeah, and the current attacker decide to prolong his attack into 2 years
13:42   trxnn4930[m] | instead of just doing right away, probably for a good reason
13:43      laanwj[m] | doing this, deceiving people for two years, to manipulate them to eventually betray, really takes a kind of drive and malice that's hopefully not too common
13:44   trxnn4930[m] | exactly
13:44   trxnn4930[m] | if it had been easier, there'd be more people trying to attack + not as dedicated
13:45   trxnn4930[m] | https://infosec.exchange/@tinker/112196180295212632 i like this post though
13:45   trxnn4930[m] | kinda funny
13:49      obfusk[m] | <trxnn4930[m]> "i guess, but who really checks..." <- some people have been rebuilding Debian packages that were built on hosts with the compromised liblzma to ensure those builds weren't compromised. but yeah, more rebuilding at scale is needed. (disclaimer: I'm a contributor to the reproducible builds project)
13:52   trxnn4930[m] | ok, nice effort
13:55       fn0rd[m] | in memoriam, Jia Tan
13:55       fn0rd[m] | f
13:55  tyrheimdal[m] | calestyo (@_discord_379839049617113090:t2bot.io) Are you sort of the reason this got introduced? \U0001f61b
13:57             ---|---> grundrausch3n [sid640704@id-640704.ilkley.irccloud.com] has joined #xz-backdoor-chat
13:57  tyrheimdal[m] | (not putting any blame on u btw, just thought it was funny seeing you here while researching the timeline from the beginning)
14:05       toff9[m] | <laanwj[m]> "doing this, deceiving people for..." <- I\u2019d argue government agencies around the world consider this kind of thing mission critical.
14:07    compuguy[m] | toff9[m]: Yeah I\u2019m pretty sure agencies like CISA, NSA and US Cyber Command (USCC) are also looking into this\u2026.
14:08  tyrheimdal[m] | I'm really proud of the OSS community to come around, from all over the world to reverse and investigate the backdoor (during Easter nonetheless!). It really is a serious attack on everyone, and the faith we have in the core services that are the backbone of operating both internal networks and the internet as a whole.
14:11       fn0rd[m] | I'd like to think they also spend time on this during Easter
14:11   trxnn4930[m] | discovered by a Microsoft employee, first PoC written by Google employee (xzbot)
14:11   trxnn4930[m] | so basically, hail FAANG (?)
14:11       fn0rd[m] | but thus far the Finnish police hasn't spoken to Lasse right
14:12             ---|---> _discord_480707392800292873[m] [~discord48@2001:470:1af1:101::1:4dce] has joined #xz-backdoor-chat
14:12             ---|User: *** _discord_480707392800292873[m] is now known as lucaat[m]
14:12      lucaat[m] | maybe some platform has a log of ips and mr Jia had a slip up
14:12      lucaat[m] | although it would not help much
14:12      lucaat[m] | as if .cn or .ru will give out any info
14:13   trxnn4930[m] | jia.tan@xitong.cn
14:13       fn0rd[m] | well no probly but maybe they made a mistake once or twice
14:13   trxnn4930[m] | gov.cn
14:13       fn0rd[m] | he did make some mistakes where his TZ did not match
14:13       fn0rd[m] | and he seemingly went from +8 to +3 in no time
14:14   trxnn4930[m] | wasn't that when he approved someone else's commits?
14:14       fn0rd[m] | then someone comments yeah I sometimes commit right before airplane or w/e
14:14   trxnn4930[m] | also GMT+3 is russia isn't it
14:14       fn0rd[m] | could be approve
14:14   trxnn4930[m] | GMT+8 is china
14:14       fn0rd[m] | nah we dont use GMT+
14:14       fn0rd[m] | we use the TZs
14:14       fn0rd[m] | else you get confused with DST etc
14:14   trxnn4930[m] | oh, still though
14:14       fn0rd[m] | EET he was in
14:14  tyrheimdal[m] | trxnn4930[m]: It was being looked at with suspicious eyes by others, but yes - big thanks to an_freund (@_discord_1224107056483663955:t2bot.io) especially for his work and outing the existence of the backdoor. Not every day one gets to be a true hero! :pepeheart:
14:14   trxnn4930[m] | russia and china don't have DST
14:14       fn0rd[m] | same zone as Lasse
14:15       fn0rd[m] | only Kaliningrad is in EET
14:15       fn0rd[m] | (of Russia)
14:15       fn0rd[m] | Baltics all are
14:15   trxnn4930[m] | isn't moscow or st. petersburg in the same timezone?
14:15       fn0rd[m] | lots of south east Asia is in +8
14:15       fn0rd[m] | yeah
14:15       fn0rd[m] | they on on one more
14:16  tyrheimdal[m] | I found some pretty interesting timing on commits earlier tonight, where it took a long time from authoring to commit in early 2024.
14:16       fn0rd[m] | https://en.wikipedia.org/wiki/List_of_time_zones_by_country
14:18   trxnn4930[m] | UTC+03:00 (Moscow Time) \u2013 Most of European Russia
14:18       fn0rd[m] | https://en.wikipedia.org/wiki/Eastern_European_Time
14:18   trxnn4930[m] | russia doesn't have DST
14:18       fn0rd[m] | Russia has agents in Eastern Europe either way
14:19       fn0rd[m] | yeah but the TZ fuckups seemed to be same as Lasse's TZ
14:19   trxnn4930[m] | well... huh
14:20       fn0rd[m] | so when Jia fucked up, it corresponded with Lasse's TZ
14:20   trxnn4930[m] | maybe it was supposed to be Hans Jansen's TZ lol
14:20       fn0rd[m] | so those fuckups were in same TZ (if they were fuckups)
14:21   trxnn4930[m] | i doubt the finnish government was behind the attack though
14:21       toff9[m] | Seems a bit like reading tea leaves. The actor has shown pretty sophisticated manipulation and obfuscation techniques it\u2019s not unreasonable to me that metadata would also form part of that.
14:22       fn0rd[m] | but he also does some weirdly ignorant things
14:22       fn0rd[m] | probably when his superior was having a shit on the toilet or in some meeting
14:23       fn0rd[m] | to me it reads like this:
14:23       fn0rd[m] | Jia is a rookie himself, a newbie. He learned a lot from this whole project, good experience for him
14:23       fn0rd[m] | but he fucked some things up
14:23   trxnn4930[m] | but yeah if you analyze everything it's pretty clear that a lot of details were thoroughly discussed and considered
14:24   trxnn4930[m] | for example why did they pick a Chinese name? probably to make it seem racist to deny a Chinese contributor
14:24       fn0rd[m] | yup and attribute it to them
14:25   trxnn4930[m] | they may think Europeans (Lasse) are more likely to accept someone Chinese due to diversity culture in Europe
14:25   trxnn4930[m] | inclusion and so on
14:25     dumpx86[m] | Is Lasse European? I think he was American?
14:26   trxnn4930[m] | yeah, isn't he Finnish
14:26     dumpx86[m] | <trxnn4930[m]> "so basically, hail FAANG (?)" <- Well, look at Amazon and Apple - There engineers are nowhere to be seen
14:26  tyrheimdal[m] | My guess so far is that this is likely an intelligence operation with hermetically sealed OPSEC, likely a collaboration involving deep pre-planning and spying on people like Lasse to "push the right buttons". It's reasonable to think that preparations took years, but it had to have started after December 2015. I also think it is a collaboration between multiple countries, and at the top of my list would be NSA+GCHQ.
14:26  tyrheimdal[m] | The lead-up to the discovery seemed rushed in a way where someone in charge pushes on, while the otherwise (arguably) very skilled architect(s) behind would not otherwise be so sloppy to not iron out the kinks that made it so noisy.
14:26   trxnn4930[m] | dumpx86 (@_discord_506884187169619968:t2bot.io) lol
14:26   trxnn4930[m] | yeah the OPSEC is amazing here
14:27   trxnn4930[m] | that's for sure
14:27       toff9[m] | Head cannon aside, I think there\u2019s plenty of information available already that can inform positive changes in the foss community as a whole. Trusting because it\u2019s less work is one.
14:28   trxnn4930[m] | why 4545??
14:28   trxnn4930[m] | why jiatNUMBERS
14:28       fn0rd[m] | well
14:28  tyrheimdal[m] | Yes, it has all the hallmarks of a non-technical leader in charge pushing to finalize something that wasn't 100% ready to go.
14:28       fn0rd[m] | let me tell you why
14:29       fn0rd[m] | go to Gmail or Outlook and make an email address
14:29   trxnn4930[m] | well yeah but how many people just settle with default usernames
14:29   trxnn4930[m] | even misoeater91. they just had to put 91 there
14:29       fn0rd[m] | it lets you blend in the crowd
14:29   trxnn4930[m] | i think it's more likely it was done to-
14:29   trxnn4930[m] | yes
14:29       fn0rd[m] | btw you know who also do this 24/7?
14:29       fn0rd[m] | Ruski Twitter bots
14:30   trxnn4930[m] | huh, really?
14:30       fn0rd[m] | yep
14:31   trxnn4930[m] | also Dennis Ens had grammar mistakes in his posts
14:31  tyrheimdal[m] | So numbers bad, because cryptography brainiacs love numbers therefore OSS needs to banish submissions from anyone who doesn't have a cool handle. Makes sense!
14:31   trxnn4930[m] | whether on purpose or not
14:32       fn0rd[m] | what they do is quite simple to figure out, say some controversial fellow said something super controversial
14:32   trxnn4930[m] | like skipping articles
14:32       fn0rd[m] | so they then retweet the shit out of it
14:32   trxnn4930[m] | russian and chinese both don't use articles
14:32       fn0rd[m] | which amplifies the exposure of the controversity (which is likely BS)
14:32             ---|---> Guest9 [~user@0BGAAFDCY.tor-irc.dnsbl.oftc.net] has joined #xz-backdoor-chat
14:32       fn0rd[m] | then you, me, and the entirety of the good side of the world have to refute the BS and that takes time and effort
14:33             ---|<--- Guest9 [~user@0BGAAFDCY.tor-irc.dnsbl.oftc.net] has left #xz-backdoor-chat ()
14:34       fn0rd[m] | now if we had an honest leader at X, we could implement tactics like tarpitting and shadowbanning... methods which are proven to work
14:34       fn0rd[m] | yeah, they do
14:34   trxnn4930[m] | what about chinese bots on twitter?
14:35  *     kevans91 hides his numbers
14:35       fn0rd[m] | I don't know
14:35   trxnn4930[m] | seems they also do
14:35       fn0rd[m] | usually when they speak though, it is very clear where they're from
14:36       fn0rd[m] | they don't even hide they're doing it
14:37       fn0rd[m] | look here they do it with official RU gov accounts: https://www.bbc.com/news/technology-60790821
14:37       fn0rd[m] | https://ichef.bbci.co.uk/news/1536/cpsprodpb/141F9/production/_123752428_4954a895-4a5a-457c-ab8d-dbc85f24d950.jpg.webp
14:38       fn0rd[m] | https://pbs.twimg.com/media/FNFclzdaQAg_LXu?format=jpg&name=large
14:38       fn0rd[m] | and they like to use names which are local btw
14:38   trxnn4930[m] | yep, from 2 to 4 numbers
14:38       fn0rd[m] | https://twitter.com/timothyjgraham/status/1500087840696586241
14:39       fn0rd[m] | https://www.abc.net.au/news/science/2022-03-30/ukraine-war-twitter-bot-network-amplifies-russian-disinformation/100944970
14:39       fn0rd[m] | there are better articles about this, btw
14:41       fn0rd[m] | btw, you know who was the boss of the troll factory?
14:41       fn0rd[m] | you might have heard of the fellow \U0001f642
14:41   trxnn4930[m] | prigozhin
14:41       fn0rd[m] | yep
14:42       fn0rd[m] | https://en.wikipedia.org/wiki/Internet_Research_Agency
14:42       fn0rd[m] | run from St. Petersburg
14:43       fn0rd[m] | so yeah, those sockpuppets could very well be from such an organization
14:45             ---|---> cthorlhu [~cthorlhu@4G4AAHDGM.tor-irc.dnsbl.oftc.net] has joined #xz-backdoor-chat
14:45       fn0rd[m] | I've done so countless of times past years... for reasons....
14:45  cottontailfan | i'm sure nobody's taken uifc2euipbfpudepfp3q on Github, but that's a garbage name
14:46  cottontailfan | "bunny" is a dictionary word and someone took that already
14:46  cottontailfan | * on Github (or Discord), but
14:46       fn0rd[m] | hjfewhuwofiehfewuhyoihfew looks suspicious
14:46  cottontailfan | so why not use bunny1782
14:47   trxnn4930[m] | i mean, yeah
14:47  _discord_2648 | ```The security researchers who have reviewed the evidence and attempted to attribute the attack have suggested that it fits the pattern attributable to APT29, an advanced persistent threat actor believed to be working on behalf of the RussianSVR```
14:47       fn0rd[m] | harrysanborn239 does not
14:47       fn0rd[m] | do you have a source?
14:48  _discord_1224 | additional evidence?
14:48       fn0rd[m] | ilikemyglasses (@_discord_264861759607668737:t2bot.io)
14:48  _discord_2648 | https://en.wikipedia.org/wiki/XZ_Utils_backdoor
14:49       fn0rd[m] | https://www.wired.com/story/jia-tan-xz-backdoor/
14:49  ratchetfreak[ | <laanwj[m]> "i also hope linux is going to..." <- linux already has sandboxing, the problem is that it is a pain and a half to use
14:49  _discord_2648 | they reference some weird article
14:49       fn0rd[m] | this is the first time I hear an attribution
14:50  _discord_2648 | s/weird/wierd.com/
14:50       fn0rd[m] | yeah sorry
14:50       fn0rd[m] | I just read the article
14:51       fn0rd[m] | you cannot conclude what you quoted in a Wikipedia article based on that article
14:51  _discord_2648 | no i dont conlcude that
14:51       fn0rd[m] | I know
14:51       fn0rd[m] | but that Wikipedia article needs review
14:51  _discord_1076 | Well, for numbers, those are quite often used by chinese people ... https://newrepublic.com/article/117608/chinese-number-websites-secret-meaning-urls - so lot of number in usernames might suggest either chinese origin, or trying to masquerade as chinese origin ... or simply often default account algorithm that appends number to a name to find available account name
14:55   trxnn4930[m] | Jia Tan: "If you can think of a better character I would be interested to hear, but I don't think those are better."
14:55   trxnn4930[m] | "interested to hear"... it? about it?
14:55   trxnn4930[m] | just "to hear". not grammatically correct in english
14:55       fn0rd[m] | stylometry is interesting yeah
14:55   trxnn4930[m] | but correct in russian
14:55   trxnn4930[m] | yes, russians speak like that
14:55       fn0rd[m] | how well do you know Russian?
14:55   trxnn4930[m] | pretty well
14:56       fn0rd[m] | nice
14:57       fn0rd[m] | well you know one more interesting tidbit
14:57       fn0rd[m] | Jia started in Feb 2022
14:57       fn0rd[m] | also it could be a coop easily, with those Longsoon and RISC-V ppl in on it
14:58             ---|---> Aquilla0424[m] [~discord14@2001:470:1af1:101::1:4dd2] has joined #xz-backdoor-chat
14:58  Aquilla0424[m | fn0rd[m]: Definitely not a relevant time in Eastern Europe ;)
14:58             ---|User: *** Aquilla0424[m] is now known as aqui_[m]
14:58       fn0rd[m] | \U0001f61b
14:58   trxnn4930[m] | lol
14:58       fn0rd[m] | come to osint channel
14:58       fn0rd[m] | share all the Russifications of the English you notice
14:59       fn0rd[m] | I'm all ears!
15:03  Robert0004[m] | maybe jia made the backdoor just to get revenge on his ex
15:03  Robert0004[m] | who happens to run fedora
15:05             ---|<<-- cthorlhu [~cthorlhu@4G4AAHDGM.tor-irc.dnsbl.oftc.net] has quit (Quit: Leaving)
15:05 @           js | it targeted Debian and derivatives and Fedora and derivatives (including RHEL)
15:06 @           js | in fact, if this would have been hidden for one more month, it would have made it into the next RHEL and Ubuntu!
15:07  ratchetfreak[ | we are very lucky that it was found when it did
15:11       aqui_[m] | It\u2019s also possible repo maintainers would\u2019ve noticed the oddly weird push towards getting 5.60/5.61 in the repos and started digging
15:11       fn0rd[m] | it wasn't worthy a new major release
15:11       fn0rd[m] | which is why all the documentation is a smoke screen
15:24 @           js | https://social.librem.one/@eighthave/112194828562355097
15:32       miyon[m] | pressure of being in hurry
15:55             ---|<<-- bt_ [~bt@cobalt.ziad87.net] has quit (Quit: Client disconnect)
15:59             ---|---> bt_ [~bt@cobalt.ziad87.net] has joined #xz-backdoor-chat
16:03  stan423321[m] | <Robert0004[m]> "maybe jia made the backdoor just..." <- maybe jia wanted to ramp up proof-of-storage cryptocurrency prices by making people abandon compression and buy out hard drives... that's right... jia vs chia
16:14             ---|---> armistace[m]1 [~armistace@2001:470:1af1:101::1:4dd7] has joined #xz-backdoor-chat
16:16  tyrheimdal[m] | I'm pretty certain this would be hooked prior, unfortunately. So it would bypass for example `ed25519-sk` keys (which you normally sign with FIDO2).
16:17  tyrheimdal[m] | Don't think even restricting key types would matter. It's so early in the authentication process (someone correct me if I'm wrong here).
16:21  *    kam821[m] uploaded an image: (41KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/6ba8f73f030759d04e39a048111e97e0ae8389871775665053815537664/image.png >
16:21  *    kam821[m] uploaded an image: (97KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/bd5cf2c2e776338c57643e5c15522c119731025e1775665055988187136/image.png >
16:22      kam821[m] | that's fucking helpful.
16:23       fn0rd[m] | snapshot is 3 years old but no help https://archive.is/GxIMt
16:24      kam821[m] | one of 'these' brilliant gitlab ideas.
16:24       fn0rd[m] | GitHub is also hampering our investigations wrt Jia Tan :/
16:25       fn0rd[m] | https://web.archive.org/web/20201028112812/https://gitlab.com/fdroid/fdroidclient/-/merge_requests/889 oldest Archive.org snapshot :/
16:27       fn0rd[m] | hehe APT29 / SVR are the ones who got into MS recently
16:27       fn0rd[m] | https://www.helpnetsecurity.com/2024/03/11/microsoft-russian-hackers-srouce-code/
16:28       fn0rd[m] | yet they aint at war with us \U0001f971
16:37             ---|---> r2rien [~me@37.170.19.201] has joined #xz-backdoor-chat
16:41             ---|---> zhli [~zhli@DN2lk434m.stanford.edu] has joined #xz-backdoor-chat
16:45  u4315u4312u43 | <js> "https://social.librem.one/@..." <- Any explanation why this kind of bug could have been useful?
16:47  u4315u4312u43 | I'm just not sure if this is the same case. F-droid is super famous for bad search and I'm not surprised that a lot of people would applaud improvements there.
16:47             ---|---> zhli_ [~zhli@DN2lk435r.stanford.edu] has joined #xz-backdoor-chat
16:47             ---|<<-- zhli_ [~zhli@DN2lk435r.stanford.edu] has quit ()
16:47  * _discord_894 uploaded an image: (110KiB) < https://matrix.org/_matrix/media/v3/download/t2bot.io/7c48493afb64dfb43d97d1d8c85141d880c37b071775671605410660352/latest.png >
16:47  _discord_8940 | this is glinkert
16:48  _discord_8940 | say hi to glinkert
16:48  u4315u4312u43 | And while there is an SQL-injection, I don't see any immediate consequence apart from maybe corrupting fdroid database
16:48  u4315u4312u43 | _discord_894035196121325649[m]: Hi
16:48  _discord_8940 | u4315u4312u4321u4310u4304[m]: hi glinkert
16:49             ---|<<-- zhli [~zhli@DN2lk434m.stanford.edu] has quit (Ping timeout: 480 seconds)
17:06  tyrheimdal[m] | <valeriifj[m]> "What does it mean? What was done..." <- Not sure, but it looked edited so could be some force-push removal or removal of branches I guess?
--- Log closed Wed Apr 03 17:12:55 2024
--- Log opened Wed Apr 03 17:12:57 2024
17:12             ---|---> cmj` [slyalgo@sdf.org] has joined #xz-backdoor-chat
17:12             -!-| Irssi: #xz-backdoor-chat: Total of 310 nicks 2 ops, 0 halfops, 0 voices, 308 normal
17:13             -!-| Irssi: Channel: Join to #xz-backdoor-chat was synced in 13 secs
17:18       fn0rd[m] | there's all kind of frontends for F-Droid...
17:19       fn0rd[m] | ...and I don't trust any of 'em \U0001f642
17:30             ---|<<-- r2rien [~me@37.170.19.201] has quit (Ping timeout: 480 seconds)
18:06  grandpacanary | https://github.com/openssh/openssh-portable/commit/08f579231cd38a1c657aaa6ddeb8ab57a1fd4f5c
18:30             ---|---> Renn5000[m] [~discor_56@2001:470:1af1:101::1:4dde] has joined #xz-backdoor-chat
18:30    Renn5000[m] | Hi everyone - I just heard about this thing today and I'm so intrigued that I had to join this server. This thing is so wild and such a long con - I'm surprised the event wasn't more widely reported
18:30    Renn5000[m] | it was very close to being successful
18:31  upsetdoggo[m] | i feel like it's hard to describe it without being technical for most readers
18:31             ---|User: *** Renn5000[m] is now known as rennerik[m]
18:32    rennerik[m] | Technically it's very complex, yeah but like, the implications are pretty clear
18:32    rennerik[m] | that can be simplified for most people I would think
18:35  grandpacanary | rennerik[m]: https://research.swtch.com/xz-timeline
18:36    rlrevell[m] | very few people have the attention span for a long con these days. it's becoming a lost art
18:37    rlrevell[m] | there's a lot of similarities to the event-stream NPM hack
18:38    rennerik[m] | rlrevell[m]: it's partly why I'm almost convinced it's a state actor. They're the only groups that have such long-term patience. A hacking group who does this stuff for money would not have the patience to sit back for years and years putting together a backdoor - they want money now
18:39    rlrevell[m] | yeah. like the event-stream thing, they could have done a LOT with that, but they just drained BTC from wallets in one app
18:40    rlrevell[m] | has anyone checked whether they took saturdays off?
18:41    rlrevell[m] | could be shomer shabbas lol
18:42           nixx | Someone did a commit/timezone/dates analysis and they found out that it aligns with Eastern Europe timezones and vacations.
--- Log closed Wed Apr 03 18:42:34 2024
--- Log opened Wed Apr 03 18:42:35 2024
18:42             ---|---> cmj` [slyalgo@sdf.org] has joined #xz-backdoor-chat
18:42             -!-| Irssi: #xz-backdoor-chat: Total of 310 nicks 2 ops, 0 halfops, 0 voices, 308 normal
18:42             -!-| Irssi: Channel: Join to #xz-backdoor-chat was synced in 13 secs
18:43  grandpacanary | it's funny how arstechnia sells it like THIS COULD HAVE DESTROYED THE UNIVERSE and then when people try to dig they get hit in the face with 1994 autotools crapscript \U0001f642
18:45           nixx | https://rheaeve.substack.com/p/xz-backdoor-times-damned-times-and
18:49    rennerik[m] | <rlrevell[m]> "yeah. like the event-stream..." <- interestingly, the malicious code was also in a test artifact there too, just like in xz. I wonder if projects should have verifiable test artifacts as a rule moving forward. Whether that means generating them by code that's also committed to the repo or some other way to investigate their contents.
18:52           nixx | We just need to go back to using lenna.jpg
18:54       fn0rd[m] | <rlrevell[m]> "has anyone checked whether..." <- I have: sunday morning never work
18:55       fn0rd[m] | lena4ever!
18:55       fn0rd[m] | https://en.wikipedia.org/wiki/XZ_Utils_backdoor it is corrected now
18:56       fn0rd[m] | Security researcher Dave Aitel has suggested that it fits the pattern attributable to APT29, an advanced persistent threat actor believed to be working on behalf of the Russian SVR.[13]
18:57       fn0rd[m] | that's way better worded that before
19:21  grandpacanary | How the build works is written terribly  ```The script appears to only perform the injection when the system is being built on an x86-64 Linux system that uses glibc and GCC and is being built via dpkg or rpm.[5]```
19:26  grandpacanary | you don't need to be on Linux amd64 to make it extract the `.o` you need to set the folders, vars and gcc the script looks for, the deb/rpm target is checked by fs
